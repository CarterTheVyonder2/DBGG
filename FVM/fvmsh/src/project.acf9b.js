window.__require=function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u=s.split("/");if(u=u[u.length-1],!t[u]){var c="function"==typeof __require&&__require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);throw new Error("Cannot find module '"+s+"'")}}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return r(t[s][1][e]||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<i.length;s++)r(i[s]);return r}({ActionFSMCom:[function(e,t,n){"use strict";cc._RF.push(t,"0e481DsrD5LXKTmIAHvo2SX","ActionFSMCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=e("../../../proto/msg"),s=function(e){function t(){var t=e.call(this,r.ComType.ActionFSM)||this;return t.m_iNextAction=o.EntityAction.IDLE,t.m_iNextSkin=o.EntityHealthy.NORMAL,t.m_iNextEquipSkin=o.EntityHealthy.NORMAL,t}return __extends(t,e),t.prototype.ReadFromFile=function(e){},t.prototype.CopyFrom=function(e){},t.prototype.Reset=function(){this.m_iNextAction=o.EntityAction.IDLE,this.m_iNextSkin=o.EntityHealthy.NORMAL,this.m_iNextEquipSkin=o.EntityHealthy.NORMAL},t}(i.default);n.default=s,cc._RF.pop()},{"../../../proto/msg":"msg","../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],ActionFSMSys:[function(e,t,n){"use strict";cc._RF.push(t,"67adaqG64hMjq1+DFB7+UYe","ActionFSMSys"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseSystem"),r=e("../ECSDefine"),o=e("../../../proto/msg"),s=function(e){function t(){return e.call(this,r.ComType.ActionFSM)||this}return __extends(t,e),t.prototype.OnLoad=function(){this.m_stActionFSMCom=this.GetCom(),this.m_iCurrentAction=o.EntityAction.IDLE,this.m_iCurrentSkin=o.EntityHealthy.NORMAL,this.m_iCurrentEquipSkin=o.EntityHealthy.NORMAL},t.prototype.OnChangeCom=function(){this.m_stSpineSys=this.GetSysByType(r.ComType.Spine),this.m_stSpineSys&&this.Tick(0,0)},t.prototype.Tick=function(e,t){if(this.m_stSpineSys&&(this.m_stActionFSMCom.m_iNextSkin==this.m_iCurrentSkin&&this.m_stActionFSMCom.m_iNextEquipSkin==this.m_iCurrentEquipSkin||(this.m_iCurrentSkin=this.m_stActionFSMCom.m_iNextSkin,this.m_iCurrentEquipSkin=this.m_stActionFSMCom.m_iNextEquipSkin,this.m_stSpineSys&&this.m_stSpineSys.SkinChange(this.m_iCurrentSkin,this.m_iCurrentEquipSkin)),this.m_stActionFSMCom.m_iNextAction!=this.m_iCurrentAction)){if(this.m_iCurrentAction==o.EntityAction.DIE||this.m_iCurrentAction==o.EntityAction.BURN_DIE)return;this.m_iCurrentAction=this.m_stActionFSMCom.m_iNextAction,this.m_stSpineSys&&this.m_stSpineSys.ActionChange(this.m_iCurrentAction)}},t}(i.default);n.default=s,cc._RF.pop()},{"../../../proto/msg":"msg","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine"}],AudioMgr:[function(e,t,n){"use strict";cc._RF.push(t,"519bbmHHOVGor/GyqnWrDxX","AudioMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./AudioPlayer"),r=function(){function e(){this.MAX_SAME_SOUND=5}return e.prototype.Init=function(){this.m_stAudioPlayer=new i.default,this.m_stAudioPlayer.Init(),this.m_mapSoundQue=new Map},e.prototype.GetName=function(){return"AudioMgr"},e.prototype.Tick=function(e,t){var n=1073741823,i="";this.m_mapSoundQue.forEach(function(t,r){for(var o=t.length,s=0;s<o;s++)-1==t[s]&&(t[s]=e);t.length>0&&t[0]<n&&(n=t[0],i=r)}.bind(this)),""!=i&&(this.m_mapSoundQue.get(i).shift(),this.m_stAudioPlayer.PlaySound(i,!1))},Object.defineProperty(e.prototype,"SoundVolume",{get:function(){return this.m_stAudioPlayer.SoundVolume},set:function(e){this.m_stAudioPlayer.SoundVolume=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MusicVolume",{get:function(){return this.m_stAudioPlayer.MusicVolume},set:function(e){this.m_stAudioPlayer.MusicVolume=e},enumerable:!0,configurable:!0}),e.prototype.PlayMusic=function(e){this.m_stAudioPlayer.PlayMusic(e,!0)},e.prototype.PlaySound=function(e){0==this.m_mapSoundQue.has(e)&&this.m_mapSoundQue.set(e,new Array),this.m_mapSoundQue.get(e).length<this.MAX_SAME_SOUND&&this.m_mapSoundQue.get(e).push(-1)},e.prototype.Clear=function(){for(var e=0,t=this.m_mapSoundQue;e<t.length;e++){t[e].length=0}this.m_mapSoundQue.clear(),this.m_stAudioPlayer.ClearCache()},e.prototype.TestFunction=function(e){if(parseInt((5*Math.random()).toString())%5==0)for(var t=0;t<5;t++)this.PlaySound("card_fire");this.ToString(e)},e.prototype.ToString=function(e){void 0===e&&(e=0),cc.info("sound queue info: ",e),this.m_mapSoundQue.forEach(function(e,t){cc.info(e)})},e}();n.default=r,cc._RF.pop()},{"./AudioPlayer":"AudioPlayer"}],AudioPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"565d9KdPNZJ7r2r4vt5ZftC","AudioPlayer"),Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../Core"),o=e("../Define"),s=function(){function e(){this.MAX_SINGLE_SOUND_INSTANCE=24,this.m_bMusicMute=!0,this.m_bSoundMute=!0,this.m_iMusicID=-1,this.m_arrSoundID=[]}return e.prototype.Init=function(){this.m_stResourceMgr=r.default.ResourcesMgr;var e=cc.sys.localStorage.getItem(o.Music.MusicVolume),t=cc.sys.localStorage.getItem(o.Music.SoundVolume),n=cc.sys.localStorage.getItem(o.Music.MusicMute),i=cc.sys.localStorage.getItem(o.Music.SoundMute);this.MusicVolume=null!=e?parseFloat(e):1,this.SoundVolume=null!=t?parseFloat(t):.75,this.MusicMute=null!=n&&1==parseInt(n),this.SoundMute=null!=i&&1==parseInt(i),cc.audioEngine.setMaxAudioInstance(this.MAX_SINGLE_SOUND_INSTANCE)},Object.defineProperty(e.prototype,"MusicVolume",{get:function(){return this.m_iMusicVolume},set:function(e){this.m_iMusicVolume=e,this.m_iMusicID>=0&&cc.audioEngine.setVolume(this.m_iMusicID,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SoundVolume",{get:function(){return this.m_iSoundVolume},set:function(e){this.m_iSoundVolume=e,this.m_arrSoundID.forEach(function(t){cc.audioEngine.setVolume(t,e)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MusicMute",{get:function(){return this.m_bMusicMute},set:function(e){this.m_bMusicMute=e,this.m_iMusicID<0?!e&&this.m_sCurrentMusicName&&this.PlayMusic(this.m_sCurrentMusicName):e?cc.audioEngine.pause(this.m_iMusicID):cc.audioEngine.resume(this.m_iMusicID)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SoundMute",{get:function(){return this.m_bSoundMute},set:function(e){this.m_bSoundMute=e,this.m_arrSoundID.forEach(function(t){e?cc.audioEngine.pause(t):cc.audioEngine.resume(t)})},enumerable:!0,configurable:!0}),e.prototype.PlayMusic=function(t,n){void 0===n&&(n=!0),0<=this.m_iMusicID&&this.StopMusic();var r=e.GetUrl(t,i.Music);this.m_sCurrentMusicName=t,this.m_bMusicMute?cc.info("AudioMgr: music is mute!"):this.m_stResourceMgr.LoadRes(r,o.ResType.AudioClip,function(e){this.PlayClip(e,n,i.Music)}.bind(this))},e.prototype.StopMusic=function(){this.m_iMusicID<0||(cc.audioEngine.stop(this.m_iMusicID),this.m_iMusicID=-1)},e.prototype.PauseMusic=function(){this.m_iMusicID>=0&&cc.audioEngine.pause(this.m_iMusicID)},e.prototype.ResumeMusic=function(){this.m_iMusicID>=0&&cc.audioEngine.resume(this.m_iMusicID)},e.prototype.PlaySound=function(t,n){if(void 0===n&&(n=!1),this.m_bSoundMute)cc.info("AudioMgr: sound is mute!");else{var r=e.GetUrl(t,i.Sound);this.m_stResourceMgr.LoadRes(r,o.ResType.AudioClip,function(e){this.PlayClip(e,n,i.Sound)}.bind(this))}},e.prototype.StopSound=function(){this.m_arrSoundID.forEach(function(e){cc.audioEngine.stop(e)}),this.m_arrSoundID.length=0},e.prototype.PauseSound=function(){this.m_arrSoundID.forEach(function(e){cc.audioEngine.pause(e)})},e.prototype.ResumeSound=function(){this.m_arrSoundID.forEach(function(e){cc.audioEngine.resume(e)})},e.prototype.PlayClip=function(e,t,n){var r=this;if(n==i.Music){var o=cc.audioEngine.play(e,t,this.m_iMusicVolume);this.m_iMusicID=o}else if(n==i.Sound){var s=cc.audioEngine.play(e,t,this.m_iSoundVolume);this.m_arrSoundID.push(s),cc.audioEngine.setFinishCallback(s,function(){r.OnSoundFinished(s)})}},e.prototype.OnSoundFinished=function(e){var t=this.m_arrSoundID.findIndex(function(t){return t==e});-1!=t&&this.m_arrSoundID.splice(t,1)},e.prototype.PauseAll=function(){cc.audioEngine.pauseAll()},e.prototype.ResumeAll=function(){cc.audioEngine.resumeAll()},e.prototype.ClearCache=function(){cc.audioEngine.uncacheAll()},e.GetUrl=function(e,t){return void 0===t&&(t=0),t==i.Music?"/sound/music/"+e:"sound/sound/"+e},e}();n.default=s,function(e){e[e.Music=1]="Music",e[e.Sound=2]="Sound"}(i||(i={})),cc._RF.pop()},{"../Core":"Core","../Define":"Define"}],BalanceAnim:[function(e,t,n){"use strict";cc._RF.push(t,"d5403dbiCFBfI9oT6iuEuQi","BalanceAnim"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Core"),r=e("../Config"),o=function(){function e(e){this.m_iTime=0,this.m_stGameUI=e}return e.prototype.BindNode=function(e){this.m_stNode=e,this.m_stNode.active=!1},e.prototype.Show=function(e,t){var n=i.default.BattleMgr.m_iOverX,o=i.default.BattleMgr.m_iOverY;n!=o||-1!=n?(this.m_stNode.x=r.default.BATTLE_START_X+(n+.5)*r.default.GRID_WIDTH,this.m_stNode.y=r.default.BATTLE_START_Y+(o+.5)*r.default.GRID_HEIGHT,this.m_stNode.active=!0,this.m_iTime=t,this.m_stNode.scale=2,this.m_stNode.stopAllActions(),this.m_stNode.runAction(cc.sequence(cc.scaleTo(.5,1,1),cc.scaleTo(1.5,1,1),cc.callFunc(function(){this.Hide()}.bind(this))))):this.Hide()},e.prototype.Hide=function(){this.m_stNode.active=!1,i.default.BattleMgr.m_mapServerEntity.clear(),i.default.ECSMgr.ClearAddAndRemoveQueue(),i.default.ECSMgr.Clear(),this.m_stGameUI.ShowBalance(!0,this.m_iTime),i.default.AudioMgr.Clear(),i.default.AudioMgr.PlaySound("battle_win")},e}();n.default=o,cc._RF.pop()},{"../Config":"Config","../Core":"Core"}],Balance:[function(e,t,n){"use strict";cc._RF.push(t,"5166bJi/cROcbAS7ja5xcle","Balance"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Core"),r=e("../Define"),o=e("../../proto/msg"),s=function(){function e(e){this.m_arrTimeRank=[[49,25],[63,29],[77,33],[91,37],[105,41],[119,45],[133,48],[147,52],[161,55],[175,58],[189,61],[203,64],[217,67],[231,70],[250,72],[280,74],[310,76],[340,78],[370,80],[380,81],[391,82],[402,83],[413,84],[424,85],[435,86],[448,87],[461,88],[474,89],[487,90],[500,91],[515,92],[530,93],[545,94],[580,95],[620,96],[650,97],[690,98],[732,99]],this.m_stGameUI=e}return e.prototype.BindNode=function(e){this.m_stNode=e,this.m_stWindow=this.m_stNode.getChildByName("window"),this.m_stFull=this.m_stNode.getChildByName("full"),this.m_stTitleWin=this.m_stWindow.getChildByName("win_title"),this.m_stTitleFail=this.m_stWindow.getChildByName("fail_title"),this.m_stHallBtn=this.m_stWindow.getChildByName("hall"),this.m_stReplayBtn=this.m_stWindow.getChildByName("replay"),this.m_stNextBtn=this.m_stWindow.getChildByName("next"),this.m_stExitBtn=this.m_stWindow.getChildByName("exit"),this.m_stRestartBtn=this.m_stWindow.getChildByName("restart"),this.m_stFullVersionBtn=this.m_stFull.getChildByName("fullVersion"),this.m_stHallBtn.on(cc.Node.EventType.TOUCH_END,this.OnClickHall,this),this.m_stReplayBtn.on(cc.Node.EventType.TOUCH_END,this.OnClickReplay,this),this.m_stNextBtn.on(cc.Node.EventType.TOUCH_END,this.OnClickNext,this),this.m_stExitBtn.on(cc.Node.EventType.TOUCH_END,this.OnClickExit,this),this.m_stRestartBtn.on(cc.Node.EventType.TOUCH_END,this.OnClickReplay,this),this.m_stFullVersionBtn.on(cc.Node.EventType.TOUCH_END,this.OnClickFull,this),this.m_stNode.parent&&this.m_stNode.parent.removeChild(this.m_stNode,!1)},e.prototype.OnClickExit=function(e){cc.log("click exit game")},e.prototype.OnClickFull=function(e){window.open("http://my.4399.com/yxmsdzls/","_blank")},e.prototype.OnClickHall=function(e){this.m_stGameUI.Hide(),i.default.SceneMgr.switchScene(r.SceneType.LobbyScene)},e.prototype.OnClickReplay=function(e){i.default.BattleMgr.InitBattle(),i.default.EventMgr.Emit(o.CSProtoID.INF_GAME_BATTLE_START,o.InfGameBattleStart.create()),this.Hide()},e.prototype.OnClickNext=function(e){},e.prototype.Show=function(e,t){i.default.Ticker.Continue(),this.m_stWindow.scale=.58,this.m_stFull.scale=.58,this.m_stFull.active=!1,this.m_stNode.parent||this.m_stGameUI.m_stNode.addChild(this.m_stNode),this.m_stNode.active=!0,e?(this.m_stTitleWin.getChildByName("m").getComponent(cc.Label).string=Math.floor(t/60).toString(),this.m_stTitleWin.getChildByName("s").getComponent(cc.Label).string=(t%60).toString(),this.m_stTitleWin.getChildByName("p").getComponent(cc.Label).string=this.GetRank(t).toString(),this.m_stHallBtn.active=!1,this.m_stReplayBtn.active=!1,this.m_stNextBtn.active=!1,this.m_stTitleWin.active=!0,this.m_stTitleFail.active=!1,this.m_stNextBtn.getComponent(cc.Button).interactable=!0,this.m_stFullVersionBtn.getChildByName("fullVersion").scale=2,this.m_stFullVersionBtn.getChildByName("fullVersion").active=!1,this.m_stWindow.runAction(cc.sequence(cc.scaleTo(.3,1,1),cc.callFunc(function(){this.m_stFull.active=!0,this.m_stFull.runAction(cc.sequence(cc.scaleTo(.15,.79,.79),cc.callFunc(function(){this.m_stFullVersionBtn.getChildByName("fullVersion").active=!0,this.m_stFullVersionBtn.getChildByName("fullVersion").runAction(cc.scaleTo(.15,.58,.58)),this.m_stFullVersionBtn.getChildByName("fullVersion").getComponent(sp.Skeleton).setAnimation(0,"Idle",!0)}.bind(this)),cc.scaleTo(.15,1,1)))}.bind(this))))):(this.m_stTitleWin.active=!1,this.m_stTitleFail.active=!0,this.m_stNextBtn.getComponent(cc.Button).interactable=!1)},e.prototype.Hide=function(){this.m_stNode.active=!1},e.prototype.GetRank=function(e){for(var t=20,n=0;n<this.m_arrTimeRank.length&&!(e<this.m_arrTimeRank[n][0]);n++)t=this.m_arrTimeRank[n][1];return t},e}();n.default=s,cc._RF.pop()},{"../../proto/msg":"msg","../Core":"Core","../Define":"Define"}],BaseCom:[function(e,t,n){"use strict";cc._RF.push(t,"26937iYpIhEb5JVTJwM+xma","BaseCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util/ObjectPool"),r=function(){function e(e){this.m_sType=e}return Object.defineProperty(e.prototype,"Type",{get:function(){return this.m_sType},enumerable:!0,configurable:!0}),e.prototype.Init=function(){},e.prototype.ReadFormFile=function(e){},e.prototype.Reset=function(){throw new Error("\u8bf7\u91cd\u5199Reset\u65b9\u6cd5")},e.prototype.CloneEmpty=function(){var e=this.constructor;return i.default.CheckOut(e)},e.prototype.Destroy=function(){i.default.CheckIn(this)},e}();n.default=r,cc._RF.pop()},{"../util/ObjectPool":"ObjectPool"}],BaseSystem:[function(e,t,n){"use strict";cc._RF.push(t,"7fe25D063NKAKUbjxdSSpdv","BaseSystem"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util/ObjectPool"),r=function(){function e(e){this.m_bIsFree=!1,this.m_bBeRemoving=!1,this.m_sType=e,this.m_bEnabled=!1}return Object.defineProperty(e.prototype,"Type",{get:function(){return this.m_sType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Enabled",{get:function(){return this.m_bEnabled},set:function(e){this.m_bEnabled!=e&&(e?this.OnEnable():this.OnDisable(),this.m_bEnabled=e)},enumerable:!0,configurable:!0}),e.prototype.OnLoad=function(){},e.prototype.OnEnable=function(){},e.prototype.Start=function(){},e.prototype.Tick=function(e,t){},e.prototype.OnDisable=function(){},e.prototype.OnChangeCom=function(){},e.prototype.OnDestroy=function(){},e.prototype.Destroy=function(){},e.prototype.GetCom=function(){return this.GetComByType(this.Type)},Object.defineProperty(e.prototype,"Node",{get:function(){return this.m_pOwnEntity.Node},enumerable:!0,configurable:!0}),e.prototype.GetComByType=function(e){return this.m_pOwnEntity?this.m_pOwnEntity.GetComByType(e):null},e.prototype.GetSysByType=function(e){return this.m_pOwnEntity?this.m_pOwnEntity.GetSysByType(e):null},e.prototype.CloneEmpty=function(){var e=Object(this).constructor;return i.default.CheckOut(e)},e}();n.default=r,cc._RF.pop()},{"../util/ObjectPool":"ObjectPool"}],BaseUI:[function(e,t,n){"use strict";cc._RF.push(t,"9bb5bd9r8BEMYaxQNoqr+Ax","BaseUI"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./UIMgr"),r=e("../Core"),o=function(){function e(e,t,n){this.m_iUIType=e,this.m_iUIShowMode=t,this.m_iUILucenyType=n,this.m_stUINode=null}return e.prototype.Init=function(){switch(this.m_stUINode.active=!1,this.m_iUIType){case i.UIType.Normal:r.default.UIRoot.Normal.addChild(this.m_stUINode);break;case i.UIType.Fixed:r.default.UIRoot.Fixed.addChild(this.m_stUINode);break;case i.UIType.PopUp:r.default.UIRoot.PopUp.addChild(this.m_stUINode);break;default:return void cc.log("can not find the UIType:",this.m_iUIType,"in",this.UIName)}switch(this.m_iUILucenyType){case i.UILucenyType.Lucency:case i.UILucenyType.ImPenetrable:case i.UILucenyType.Pentrate:case i.UILucenyType.Translucence:break;default:return void cc.log("can not find the UILucenyType:",this.m_iUILucenyType,"in",this.UIName)}},e.prototype.Display=function(){this.m_stUINode.active=!0,this.m_iUIType==i.UIType.PopUp&&(this.m_stUINode.zIndex=1e3,r.default.UIRoot.ShowMask())},e.prototype.Hiding=function(){this.m_stUINode.active=!1,this.m_iUIType==i.UIType.PopUp&&(this.m_stUINode.zIndex=0,r.default.UIRoot.HideMask())},e.prototype.Redisplay=function(){this.m_stUINode.active=!0,this.m_iUIType==i.UIType.PopUp&&(this.m_stUINode.zIndex=1e3,r.default.UIRoot.ShowMask())},e.prototype.Freeze=function(){this.m_stUINode.active=!0,this.m_iUIType==i.UIType.PopUp&&(this.m_stUINode.zIndex=0,r.default.UIRoot.HideMask())},Object.defineProperty(e.prototype,"UIName",{get:function(){return this.m_sUIName},set:function(e){this.m_sUIName=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"UINode",{get:function(){return this.m_stUINode},set:function(e){this.m_stUINode=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Type",{get:function(){return this.m_iUIType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ShowMode",{get:function(){return this.m_iUIShowMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"LucenyType",{get:function(){return this.m_iUILucenyType},enumerable:!0,configurable:!0}),e}();n.default=o,cc._RF.pop()},{"../Core":"Core","./UIMgr":"UIMgr"}],BattleFieldView:[function(e,t,n){"use strict";cc._RF.push(t,"9a7e09yVoVJW7WDp+uR779Y","BattleFieldView"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Config"),r=function(e){function t(){var t=e.call(this)||this;return t.m_stGraphicsNode=new cc.Node,t.addChild(t.m_stGraphicsNode),t.m_stGraphics=t.m_stGraphicsNode.addComponent(cc.Graphics),t.InitView(),t.InitEvent(),t}return __extends(t,e),t.prototype.InitView=function(){this.width=i.default.BATTLE_WIDTH,this.height=i.default.BATTLE_HEIGHT,this.x=this.y=this.anchorX=this.anchorY=0},t.prototype.InitEvent=function(){this.on(cc.Node.EventType.MOUSE_DOWN,this.OnClickHandler,this)},t.prototype.OnClickHandler=function(e){},t.prototype.InitDebugInfo=function(){this.m_stGraphics.fillColor=new cc.Color(255,255,255,255),this.m_stGraphics.lineWidth=1;for(var e=0;e<=i.default.GRID_MAX_X;++e){var t=i.default.BATTLE_START_X+e*i.default.GRID_WIDTH,n=i.default.BATTLE_START_Y,r=i.default.BATTLE_START_Y+i.default.GRID_MAX_Y*i.default.GRID_HEIGHT;this.m_stGraphics.moveTo(t,n),this.m_stGraphics.lineTo(t,r)}for(var o=0;o<=i.default.GRID_MAX_Y;++o){t=i.default.BATTLE_START_X;var s=i.default.BATTLE_START_X+i.default.GRID_MAX_X*i.default.GRID_WIDTH;n=i.default.BATTLE_START_Y+o*i.default.GRID_HEIGHT;this.m_stGraphics.moveTo(t,n),this.m_stGraphics.lineTo(s,n)}this.m_stGraphics.stroke();for(e=0;e<i.default.GRID_MAX_X;++e)for(o=0;o<i.default.GRID_MAX_Y;++o){var a=new cc.Node;a.x=i.default.BATTLE_START_X+e*i.default.GRID_WIDTH+(i.default.GRID_WIDTH>>1),a.y=i.default.BATTLE_START_Y+o*i.default.GRID_HEIGHT+(i.default.GRID_HEIGHT>>1),this.m_stGraphicsNode.addChild(a);var u=a.addComponent(cc.Label);u.fontSize=16,u.string="["+e+","+o+"]"}},t.prototype.DrawXY=function(e,t){this.Clear();var n=i.default.BATTLE_START_X+e*i.default.GRID_WIDTH,r=i.default.BATTLE_START_Y+t*i.default.GRID_HEIGHT;this.m_stGraphics.fillColor=new cc.Color(100,100,100,66),this.m_stGraphics.lineWidth=0,this.m_stGraphics.fillRect(i.default.BATTLE_START_X,r,i.default.GRID_WIDTH*i.default.GRID_MAX_X,i.default.GRID_HEIGHT),this.m_stGraphics.fillRect(n,i.default.BATTLE_START_Y,i.default.GRID_WIDTH,i.default.GRID_HEIGHT*i.default.GRID_MAX_Y),this.m_stGraphics.stroke()},t.prototype.Clear=function(){this.m_stGraphics.clear()},t}(cc.Node);n.default=r,cc._RF.pop()},{"../Config":"Config"}],BattleInfo:[function(e,t,n){"use strict";cc._RF.push(t,"da895KFweNN6Z2Uih9vvKCq","BattleInfo"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(){}}();n.default=i,cc._RF.pop()},{}],BattleMgr:[function(e,t,n){"use strict";cc._RF.push(t,"e71af0q72JGRaFibxKa1G0d","BattleMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BattleFieldView"),r=e("../Core"),o=e("../util/ObjectPool"),s=e("./BattleNode"),a=e("../Config"),u=e("../../proto/msg"),c=e("../ECS/ECSDefine"),l=e("../Define"),d=e("../gameUI/GameUI"),p=e("../ECS/EntityData"),m=function(){function e(){this.m_iOverX=-1,this.m_iOverY=-1,this.m_iMockEntityId=1e7,this.m_iClientFireId=0,this.m_iSkyFireId=1e7,this.m_bIsFirst=!0,this.m_bIsTickStart=!1}return e.prototype.InitView=function(){this.m_mapConfigCD=new Map,this.m_mapConfigCost=new Map,this.m_mapCurrentCD=new Map;for(var e=0,t=this.m_arrUseCardId;e<t.length;e++){var n=t[e],o=r.default.ECSConfigMgr.GetCardCDById(n);o&&(this.m_mapConfigCD.set(n,o/1e3),this.m_mapCurrentCD.set(n,o/1e3));var s=r.default.ECSConfigMgr.GetCardCostById(n);s&&this.m_mapConfigCost.set(n,s)}(this.m_mapFireIdList=new Map,this.m_mapShootPointList=new Map,this.m_mapServerEntity=new Map,this.m_bIsFirst)&&(this.m_stBattleFieldView=new i.default,cc.find("Canvas").addChild(this.m_stBattleFieldView),this.m_stBattleFieldView.x=-640,this.m_stBattleFieldView.y=-360);this.m_stGameUI||(this.m_stGameUI=new d.default),this.m_stGameUI.m_stFirePanelUI.ClearFire()},e.prototype.InitEvent=function(){this.m_bIsFirst&&(r.default.EventMgr.BindEvent(u.CSProtoID.INF_GAME_BATTLE_START,this.OnGameBattleStart.bind(this)),r.default.EventMgr.BindEvent(u.CSProtoID.INF_GAME_END,this.OnInfGameEnd.bind(this)),r.default.EventMgr.BindEvent(u.CSProtoID.INF_ADD_ENTITY,this.OnAddEntity.bind(this)),r.default.EventMgr.BindEvent(u.CSProtoID.INF_REMOVE_ENTITY,this.OnRemoveEntity.bind(this)),r.default.EventMgr.BindEvent(u.CSProtoID.INF_ADD_FIRE,this.OnAddFire.bind(this)),r.default.EventMgr.BindEvent(u.CSProtoID.INF_FIRE_NUM_CHANGE,this.OnFireNumChange.bind(this)),r.default.EventMgr.BindEvent(u.CSProtoID.INF_COM_CHANGE_HP,this.OnComChangeHP.bind(this)))},e.prototype.InitBattle=function(){this.InitView(),this.InitEvent(),this.m_stGameUI.UpdateTimeUI(0),this.m_stGameUI.Show(),this.m_bIsFirst=!1},e.prototype.GetName=function(){return"BattleMgr"},e.prototype.Tick=function(e,t){this.RunCD(t),this.RunCost()},e.prototype.RunCD=function(e){this.m_mapCurrentCD.forEach(function(t,n){t+e<this.m_mapConfigCD.get(n)?this.m_mapCurrentCD.set(n,t+e):this.m_mapCurrentCD.set(n,this.m_mapConfigCD.get(n))}.bind(this)),this.m_stGameUI.UpdateCardCD()},e.prototype.RunCost=function(){this.m_stGameUI.UpdateCardCost()},e.prototype.GetFieldView=function(){return this.m_stBattleFieldView},Object.defineProperty(e.prototype,"GameUI",{get:function(){return this.m_stGameUI},enumerable:!0,configurable:!0}),e.prototype.CreateBattleNode=function(){var e=o.default.CheckOut(s.default);return e.SetBattle(this.m_stBattleFieldView),e},e.prototype.PlaceRole=function(e,t){if(!(r.default.Ticker.TickCount<=0||r.default.CollisionMgr.TestGridHasCard(e,t)))if(a.default.IsOnlyClient){var n=u.InfAddEntity.create();n.configID=1,n.entityID=this.m_iMockEntityId++,n.gridX=e,n.gridY=t,n.playerID=r.default.ServerHandler.m_iPid,r.default.EventMgr.Emit(u.CSProtoID.INF_ADD_ENTITY,n),r.default.TimeLine.AddInitCard(e,t),this.m_stGameUI.RemovePlayerMoveUI(),this.m_stGameUI.InitOption(),this.m_stGameUI.ShowStartAnim()}else cc.log("want to place role in grid (",e,",",t,")")},e.prototype.UseShovel=function(e,t){if(a.default.IsOnlyClient){if(r.default.CollisionMgr.TestGridHasCard(e,t)){var n=u.InfRemoveEntity.create();if(n.entityID=r.default.CollisionMgr.GetCardServerEntityIDByGrid(e,t),!n.entityID)return;n.removeType=u.EntityRemoveType.Shovel,r.default.EventMgr.Emit(u.CSProtoID.INF_REMOVE_ENTITY,n)}}else r.default.ServerHandler.UseShovel(e,t)},e.prototype.PlaceDefender=function(e,t,n){if(!r.default.CollisionMgr.TestGridHasCard(e,t)){if(-1==n)return;if(a.default.IsOnlyClient){var i=u.InfAddEntity.create();i.configID=n,i.entityID=this.m_iMockEntityId++,i.gridX=e,i.gridY=t,i.playerID=r.default.ServerHandler.m_iPid,r.default.EventMgr.Emit(u.CSProtoID.INF_ADD_ENTITY,i)}else r.default.ServerHandler.PlaceDefender(n,e,t)}},e.prototype.PickFire=function(e){if(a.default.IsOnlyClient){var t=u.InfFireNumChange.create();t.fireNum=e>=1e7?this.m_iFireNum+50:this.m_iFireNum+25,r.default.EventMgr.Emit(u.CSProtoID.INF_FIRE_NUM_CHANGE,t)}else r.default.ServerHandler.PickFire(e);r.default.AudioMgr.PlaySound("get_energy")},e.prototype.OnGameBattleStart=function(e){r.default.LoadingUI.Hide(),a.default.IsOnlyClient&&r.default.TimeLine.SetMapConfig(1),r.default.Ticker.ClearAllTick(),r.default.Ticker.AddFixedTickAt(0,r.default.ECSMgr),r.default.Ticker.AddFixedTickAt(1,r.default.TimeLine),r.default.Ticker.AddFixedTickAt(2,r.default.BattleMgr),r.default.Ticker.AddFixedTickAt(3,r.default.CollisionMgr),r.default.Ticker.AddFixedTickAt(4,r.default.AudioMgr),r.default.Ticker.Start(),this.m_bIsTickStart=!1,r.default.AudioMgr.PlayMusic("battle_day_1"),this.m_stGameUI.m_iCurrentOptionState=d.OptionState.usePlayer,this.m_stGameUI.ShowPlayerMoveUI(2,2,4096),this.m_iUsePlayerTime=6,this.m_stGameUI.m_stFireNum.FireNumChange()},e.prototype.OnInfGameEnd=function(e){switch(e.result){case u.GameResult.Lose:this.m_stGameUI.ShowBalance(!1,e.battleTime);break;case u.GameResult.Win:this.m_stGameUI.ShowBalanceAnim(!0,e.battleTime)}cc.log("\u6e38\u620f\u7ed3\u675f,\u6e38\u620f\u8017\u65f6\u4e3a",e.battleTime,"\u79d2")},e.prototype.OnAddEntity=function(e){var t=o.default.CheckOut(p.default);t.m_iConfigID=e.configID,t.m_iGridX=e.gridX,t.m_iGridY=e.gridY,t.m_iStarLv=2,t.m_iSkillLv=0;var n=r.default.ECSMgr.CreateEntityByEntityData(t,e.entityID);if(n){if(n.NodeType==l.NodeType.Card){if(e.playerID==r.default.ServerHandler.m_iPid&&(this.m_mapCurrentCD.set(e.configID,0),a.default.IsOnlyClient)){var i=u.InfFireNumChange.create(),s=this.m_mapConfigCost.get(e.configID);s||(s=0),i.fireNum=this.m_iFireNum-s,r.default.EventMgr.Emit(u.CSProtoID.INF_FIRE_NUM_CHANGE,i)}this.m_stGameUI.ShowPlaceEffect(e.gridX,e.gridY),r.default.AudioMgr.PlaySound("click_place")}else n.NodeType==l.NodeType.Mouse&&r.default.AudioMgr.PlaySound("mouse_appear");this.m_mapServerEntity.set(n.ServerEntityID,n)}else cc.log("Create Entity fail,e.configID:",e.configID)},e.prototype.OnRemoveEntity=function(e){var t=this.m_mapServerEntity.get(e.entityID);if(t){1==t.ConfigID&&(this.m_iOverX=t.Node.GridX,this.m_iOverY=t.Node.GridY,r.default.TimeLine.GameOver());var n=null;switch(e.removeType){case u.EntityRemoveType.Remove:r.default.ECSMgr.RemoveEntity(t);break;case u.EntityRemoveType.Shovel:r.default.ECSMgr.RemoveEntity(t),r.default.AudioMgr.PlaySound("click_remove");break;case u.EntityRemoveType.Die:(n=t.GetComByType(c.ComType.ActionFSM))?n.m_iNextAction=u.EntityAction.DIE:r.default.ECSMgr.RemoveEntity(t);break;case u.EntityRemoveType.FireBoomDie:t.GetComByType(c.ComType.Spine);var i=t.GetComByType(c.ComType.ActionFSM);i&&(i.m_iNextAction=u.EntityAction.BURN_DIE);break;case u.EntityRemoveType.BoomSkill:(n=t.GetComByType(c.ComType.ActionFSM))&&(n.m_iNextAction=u.EntityAction.CREATE)}}else cc.log("\u79fb\u9664\u65f6\u627e\u4e0d\u5230\u8be5\u5b9e\u4f53\uff01"+e.entityID)},e.prototype.OnAddFire=function(e){if(-1!=e.entityID){var t=this.m_mapServerEntity.get(e.entityID);t?(this.m_mapFireIdList.has(e.entityID)||this.m_mapFireIdList.set(e.entityID,new Array),this.m_mapFireIdList.get(e.entityID).push(e.fireID),t.Emit(c.ECSEventDefine.SpineAnimSkill,null)):cc.log("can not find entity with",e.entityID)}},e.prototype.OnFireNumChange=function(e){this.m_iFireNum=e.fireNum,this.m_stGameUI.FireNumChange()},e.prototype.RemoveEntity=function(e){this.m_mapServerEntity.delete(e)},e.prototype.OnComChangeMove=function(e){var t=this.m_mapServerEntity.get(e.entityID);if(t){var n=t.GetComByType(c.ComType.Move);n?(n.m_iX=e.x,n.m_iY=e.y,n.m_bIsServerUpdate=!0):cc.log("Move... is NULL")}},e.prototype.OnComChangeAFSM=function(e){var t=this.m_mapServerEntity.get(e.entityID);if(t){var n=t.GetComByType(c.ComType.ActionFSM);n&&(n.m_iNextAction=e.action,n.m_iNextSkin=e.healthy)}},e.prototype.OnComGenerator=function(e){var t=this.m_mapServerEntity.get(e.entityID);if(t)t.GetSysByType(c.ComType.Generator)},e.prototype.OnComChangeHP=function(e){var t=this.m_mapServerEntity.get(e.entityID);t&&this.m_stGameUI.ShowDamage(t,e.damage)},e}();n.default=m,cc._RF.pop()},{"../../proto/msg":"msg","../Config":"Config","../Core":"Core","../Define":"Define","../ECS/ECSDefine":"ECSDefine","../ECS/EntityData":"EntityData","../gameUI/GameUI":"GameUI","../util/ObjectPool":"ObjectPool","./BattleFieldView":"BattleFieldView","./BattleNode":"BattleNode"}],BattleNode:[function(e,t,n){"use strict";cc._RF.push(t,"c3a1fgdgRFF+LzVZjsWvQ1E","BattleNode"),Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../Config"),o=e("../util/NodePool"),s=e("../Define"),a=function(){function e(){this.m_iX=this.m_iY=this.m_iGridX=this.m_iGridY=0}return e.prototype.SetBattle=function(e){this.m_stBattleFieldView=e,this.m_stNode=o.default.CheckOut(),this.x=this.y=0},e.prototype.SetGirdPosition=function(e,t,n){this.x=e*r.default.GRID_WIDTH+(r.default.GRID_WIDTH>>1);var o=5e3*(r.default.GRID_MAX_Y-t);switch(n){case s.NodeType.Card:this.y=t*r.default.GRID_HEIGHT+(r.default.GRID_HEIGHT>>2),this.m_stNode.zIndex=o+i.Card;break;case s.NodeType.Mouse:this.y=t*r.default.GRID_HEIGHT+Math.floor(r.default.GRID_HEIGHT/10),this.m_stNode.zIndex=o+i.Mouse;break;default:this.y=t*r.default.GRID_HEIGHT+(r.default.GRID_HEIGHT>>1),this.m_stNode.zIndex=o+i.Default}},Object.defineProperty(e.prototype,"GridX",{get:function(){return this.m_iGridX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GridY",{get:function(){return this.m_iGridY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.m_iX},set:function(e){this.m_iX=e,this.m_iGridX=e/r.default.GRID_WIDTH>>0,this.m_stNode.x=r.default.BATTLE_START_X+e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.m_iY},set:function(e){this.m_iY=e,this.m_iGridY=e/r.default.GRID_HEIGHT>>0,this.m_stNode.y=r.default.BATTLE_START_Y+e},enumerable:!0,configurable:!0}),e.prototype.AddToBattle=function(){this.m_stNode.parent!=this.m_stBattleFieldView&&(this.m_stBattleFieldView.addChild(this.m_stNode),this.m_stNode.scale=r.default.SPINE_SCALE)},e.prototype.AddComponent=function(e){return this.m_stNode.addComponent(e)},e.prototype.GetComponent=function(e){return this.m_stNode.getComponent(e)},e.prototype.AddChild=function(e){this.m_stNode.addChild(e)},e.prototype.SetShadow=function(e){this.m_stShadow=e,this.m_stNode.addChild(this.m_stShadow)},e.prototype.BeHitted=function(){this.m_stNode.stopAllActions(),this.m_stNode.runAction(cc.sequence(cc.callFunc(function(){this.m_stNode.opacity=200}.bind(this)),cc.scaleTo(.1,.58,.58),cc.callFunc(function(){this.m_stNode.opacity=255}.bind(this))))},e.prototype.BindEntity=function(e){this.m_stEntity=e},e.prototype.Destroy=function(){this.m_stNode.opacity=255,this.m_stNode.stopAllActions(),this.m_stNode.parent=null,this.m_iX=this.m_iY=0,this.m_stEntity=null,this.m_stShadow&&(this.m_stShadow.parent.removeChild(this.m_stShadow),this.m_stShadow.destroy()),this.m_stNode.removeFromParent(!1),this.m_stNode.destroy(),this.m_stNode=null},e}();n.default=a,function(e){e[e.Card=1]="Card",e[e.Mouse=2]="Mouse",e[e.Default=99]="Default"}(i||(i={})),cc._RF.pop()},{"../Config":"Config","../Define":"Define","../util/NodePool":"NodePool"}],Battle:[function(e,t,n){"use strict";cc._RF.push(t,"b9f7bD/zL9Oj6LEcRUKnWkw","Battle"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./core/Core"),r=cc._decorator,o=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){i.default.BattleMgr.InitBattle()},t=__decorate([o],t)}(cc.Component));n.default=s,cc._RF.pop()},{"./core/Core":"Core"}],BottonMenu:[function(e,t,n){"use strict";cc._RF.push(t,"f7f6a5ud2tJTJ4ZOtom5t03","BottonMenu"),Object.defineProperty(n,"__esModule",{value:!0});var i=e(".././BaseUI"),r=e(".././UIMgr"),o=e("../../Core"),s=function(e){function t(){var t=e.call(this,r.UIType.Fixed,r.UIShowMode.Normal,r.UILucenyType.Lucency)||this;return t.UIName=r.UIName.BottonMenu,t}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.UINode.getChildByName("New Sprite(Splash)").on(cc.Node.EventType.TOUCH_END,function(){o.default.UIMgr.CloseUI(this.UIName)}.bind(this))},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core",".././BaseUI":"BaseUI",".././UIMgr":"UIMgr"}],CardList:[function(e,t,n){"use strict";cc._RF.push(t,"a884bgd8oBHLK8iEnMKsRLT","CardList"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Core"),r=e("../Define"),o=e("./GameUI"),s=e("../Config"),a=function(){function e(e){this.m_stGameUI=e,this.m_arrCardNode=new Array}return e.prototype.InitView=function(e){this.m_iCurrentPage=0,this.m_arrCardList=e,s.default.IsOnlyClient&&(this.m_mapDesc=new Map,this.m_mapDesc.set(268435712,"\u7535\u78c1\u7089\uff1a\u4ea7\u751f\u706b\u82d7\u80fd\u91cf"),this.m_mapDesc.set(268435968,"\u901a\u5fc3\u7c89\uff1a\u5bf9\u8001\u9f20\u8fdb\u884c\u76f4\u7ebf\u653b\u51fb"),this.m_mapDesc.set(268436224,"\u706b\u76c6\uff1a\u5f3a\u5316\u7a7f\u8fc7\u7684\u5b50\u5f39"),this.m_mapDesc.set(268436480,"\u997c\u5e72\u5899\uff1a\u963b\u6321\u8001\u9f20\u524d\u8fdb"),this.m_mapDesc.set(268436736,"\u8fa3\u6912\u7c89\uff1a\u6d88\u706d\u5f53\u524d\u884c\u7684\u8001\u9f20")),this.m_arrCardList.length<=6?(this.m_iMaxPage=1,this.m_stDownBtn.active=!1):(this.m_iMaxPage=Math.floor(this.m_arrCardList.length/6)+(this.m_arrCardList.length%6?1:0),this.m_stDownBtn.active=!0),this.UpdateView()},e.prototype.UpdateView=function(){for(var e=function(e){t.m_arrCardNode[e].name="0x0";var n=t.m_arrCardNode[e].getComponent(cc.Sprite);i.default.ResourcesMgr.LoadRes("gameUI/card_null",r.ResType.BitmapRes,function(e){n.spriteFrame=e}.bind(t)),t.m_arrCardNode[e].getChildByName("value").getComponent(cc.Label).string=""},t=this,n=0;n<this.m_arrCardNode.length;n++)e(n);var o=function(e){var t=s.m_arrCardList[e+6*s.m_iCurrentPage];if(!t)return"break";s.m_arrCardNode[e].name="0x"+t.toString(16);var n="gameUI/0x"+t.toString(16);i.default.ResourcesMgr.LoadRes(n,r.ResType.BitmapRes,function(t){this.m_arrCardNode[e].getComponent(cc.Sprite).spriteFrame=t}.bind(s)),s.m_arrCardNode[e].getChildByName("value").getComponent(cc.Label).string=i.default.BattleMgr.m_mapConfigCost.get(t).toString()},s=this;for(n=0;n<this.m_arrCardNode.length;n++){if("break"===o(n))break}},e.prototype.UpdateCD=function(){for(var e=0;e<this.m_arrCardNode.length;e++){var t=this.m_arrCardList[e+6*this.m_iCurrentPage];if(!t)break;this.m_arrCardNode[e].getChildByName("skill_mask").getComponent(cc.Sprite).fillRange=1-i.default.BattleMgr.m_mapCurrentCD.get(t)/i.default.BattleMgr.m_mapConfigCD.get(t)}},e.prototype.UpdateCost=function(){for(var e=0;e<this.m_arrCardNode.length;e++){var t=this.m_arrCardList[e+6*this.m_iCurrentPage];if(!t)break;this.m_arrCardNode[e].getChildByName("cost_mask").getComponent(cc.Sprite).fillRange=i.default.BattleMgr.m_iFireNum>=i.default.BattleMgr.m_mapConfigCost.get(t)?0:1}},e.prototype.BindNode=function(e){this.m_stNode=e;for(var t=0;t<6;t++){var n=this.m_stNode.getChildByName(t.toString());this.m_arrCardNode.push(n),n.on(cc.Node.EventType.TOUCH_START,this.OnTouchStart,this),n.on(cc.Node.EventType.TOUCH_END,this.OnTouchEnd,this),n.on(cc.Node.EventType.TOUCH_CANCEL,this.OnTouchCancel,this)}this.m_stCurrentChoose=this.m_stNode.getChildByName("card_choose"),this.m_stCurrentChoose.active=!1,this.m_stDownBtn=this.m_stNode.getChildByName("card_down_button"),this.m_stDownBtn.on(cc.Node.EventType.TOUCH_END,this.OnClickDown,this),this.m_stTips=this.m_stNode.getChildByName("tips"),this.m_stTipsText=this.m_stTips.getChildByName("text").getComponent(cc.Label),s.default.IsOnlyClient&&this.m_stNode.on(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMove,this)},e.prototype.OnClickDown=function(e){this.m_stGameUI.InitOption(),this.m_iCurrentPage=(this.m_iCurrentPage+1)%this.m_iMaxPage,this.UpdateView()},e.prototype.OnMouseMove=function(e){var t=e.getLocationX()-this.m_stNode.x,n=e.getLocationY()-this.m_stNode.y;this.m_stTips.x=t+20,this.m_stTips.y=n-20,t>=-65.25&&t<=65.25?n>=214.63&&n<=303.37?this.UpdateTips(268435712):n>=125.63&&n<=214.37?this.UpdateTips(268435968):n>=36.63&&n<=125.37?this.UpdateTips(268436224):n>=-52.63&&n<=36.37?this.UpdateTips(268436480):n>=-141.63&&n<=-52.37?this.UpdateTips(268436736):this.m_stTips.active=!1:this.m_stTips.active=!1},e.prototype.UpdateTips=function(e){this.m_stTips.active=!0,this.m_stTipsText.string=this.m_mapDesc.get(e)},e.prototype.OnTouchStart=function(e){if(this.m_stGameUI.m_iCurrentOptionState!=o.OptionState.usePlayer){var t=Number(e.target.name);0!=t&&(i.default.BattleMgr.m_mapCurrentCD.get(t)<i.default.BattleMgr.m_mapConfigCD.get(t)||i.default.BattleMgr.m_iFireNum<i.default.BattleMgr.m_mapConfigCost.get(t)||(this.m_stGameUI.m_iCurrentOptionState!=o.OptionState.useCardsTouch||this.m_stGameUI.m_iCardId!=t?(i.default.AudioMgr.PlaySound("click_card"),this.m_stGameUI.InitOption(),this.m_stGameUI.m_iCardId=t,this.m_stGameUI.m_iCurrentOptionState=o.OptionState.useCardsTouch,this.m_stGameUI.m_stVirtualCard.Show(t),this.m_stCurrentChoose.y=e.target.y,this.m_stCurrentChoose.active=!0):this.m_stGameUI.InitOption()))}},e.prototype.OnTouchCancel=function(e){this.m_stGameUI.m_iCurrentOptionState==o.OptionState.useCardsTouch&&(this.m_stGameUI.m_iCurrentOptionState=o.OptionState.useCardsMove),this.m_stCurrentChoose.active=!1},e.prototype.OnTouchEnd=function(e){this.m_stGameUI.m_iCurrentOptionState==o.OptionState.useCardsMove&&(this.m_stGameUI.m_iCardId=-1,this.m_stGameUI.m_iCurrentOptionState=o.OptionState.useNull)},e.prototype.Show=function(){this.m_stNode.active=!0},e.prototype.Hide=function(){this.m_stNode.active=!1},e}();n.default=a,cc._RF.pop()},{"../Config":"Config","../Core":"Core","../Define":"Define","./GameUI":"GameUI"}],Chanzi:[function(e,t,n){"use strict";cc._RF.push(t,"280bfjTuINE2q3rP4fzh+cs","Chanzi"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Config"),r=e("../Core"),o=e("../Define"),s=e("./GameUI"),a=function(){function e(e){this.m_stGameUI=e}return e.prototype.InitSpine=function(){this.m_stChanziNode=new cc.Node,this.m_stChanziSpine=this.m_stChanziNode.addComponent(sp.Skeleton),r.default.ResourcesMgr.LoadRes("spineAnim/gameUI/chanzi/skeleton",o.ResType.SpineRes,function(e){this.m_stChanziSpine.skeletonData=e,this.m_stChanziSpine.defaultSkin="Idle",this.m_stChanziSpine.setEventListener(function(e,t){"Attack"==t.data.name&&r.default.BattleMgr.UseShovel(this.m_stTargetGridX,this.m_stTargetGridY)}.bind(this))}.bind(this)),this.m_stChanziNode.scale=i.default.SPINE_SCALE,this.m_stChanziNode.active=!1,this.m_stGameUI.m_stNode.addChild(this.m_stChanziNode)},e.prototype.PlayChanzi=function(e,t){this.m_stTargetGridX=e,this.m_stTargetGridY=t,this.m_stChanziNode.x=i.default.BATTLE_START_X+(e+.5)*i.default.GRID_WIDTH,this.m_stChanziNode.y=i.default.BATTLE_START_Y+t*i.default.GRID_HEIGHT+15,this.m_stChanziNode.active=!0,this.m_stChanziSpine.setAnimation(0,"Idle",!1),this.m_stChanziSpine.setCompleteListener(this.HideChanzi.bind(this))},e.prototype.HideChanzi=function(){this.m_stChanziNode.active=!1,this.m_stChanziSpine.setCompleteListener(null)},e.prototype.BindNode=function(e){this.m_stNode=e,this.m_stNode.on(cc.Node.EventType.TOUCH_START,this.OnTouchChanziStart,this),this.m_stNode.on(cc.Node.EventType.TOUCH_CANCEL,this.OnTouchChanziCancel,this),this.m_stNode.on(cc.Node.EventType.TOUCH_END,this.OnTouchChanziEnd,this),this.m_stUsed=this.m_stNode.getChildByName("used"),this.m_stUsed.active=!1,this.InitSpine()},e.prototype.UseChanzi=function(){this.m_stUsed.active=!0},e.prototype.UnUseChanzi=function(){this.m_stUsed.active=!1},e.prototype.OnTouchChanziStart=function(e){this.m_stGameUI.m_iCurrentOptionState!=s.OptionState.usePlayer&&(this.m_stGameUI.m_iCurrentOptionState!=s.OptionState.useChanziTouch?(r.default.AudioMgr.PlaySound("click_shovel"),this.m_stGameUI.InitOption(),this.m_stGameUI.m_iCurrentOptionState=s.OptionState.useChanziTouch,this.UseChanzi()):this.m_stGameUI.InitOption())},e.prototype.OnTouchChanziCancel=function(e){this.m_stGameUI.m_iCurrentOptionState==s.OptionState.useChanziTouch&&(this.m_stGameUI.m_iCurrentOptionState=s.OptionState.useChanziMove),this.UnUseChanzi()},e.prototype.OnTouchChanziEnd=function(e){this.m_stGameUI.m_iCurrentOptionState==s.OptionState.useChanziMove&&(this.m_stGameUI.m_iCurrentOptionState=s.OptionState.useNull)},e}();n.default=a,cc._RF.pop()},{"../Config":"Config","../Core":"Core","../Define":"Define","./GameUI":"GameUI"}],CodeEngine:[function(e,t,n){"use strict";cc._RF.push(t,"38820c/+2dIt7rIrwiKps0E","CodeEngine"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.encode_int32=function(e,t,n){n<0&&(n+=Math.floor(Math.pow(256,4)));for(var i=3;i>=0;i--)e[t+i]=n%256,n/=256;return t+4},e.decode_int32=function(e,t){for(var n=0,i=0;i<4;i++)n=256*n+e[t+i];return n},e.encode_int16=function(e,t,n){n<0&&(n+=Math.floor(Math.pow(256,2)));for(var i=1;i>=0;i--)e[t+i]=n%256,n/=256;return t+2},e.decode_int16=function(e,t){for(var n=0,i=0;i<2;i++)n=256*n+e[t+i];return n},e.encode_int8=function(e,t,n){n<0&&(n+=Math.floor(Math.pow(256,1)));for(var i=0;i>=0;i--)e[t+i]=n%256,n/=256;return t+1},e.decode_int8=function(e,t){for(var n=0,i=0;i<1;i++)n=256*n+e[t+i];return n},e.encode_string=function(e,t,n){for(var i=0;i<n.length;i++)e[t+i]=n.charCodeAt(i);return t+n.length},e.decode_string=function(e,t){for(var n="",i=0;0!=e[t+i];i++)if(n+=String.fromCharCode(e[t+i]),i>2048)throw new Error("\u8fc7\u957f");return n},e}();n.CodeEngine=i,cc._RF.pop()},{}],ColliderCom:[function(e,t,n){"use strict";cc._RF.push(t,"95702gihzhH17qvIAJ2gLIs","ColliderCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=e("../../Define"),s=function(e){function t(){return e.call(this,r.ComType.Collider)||this}return __extends(t,e),t.prototype.ReadFromFile=function(e){},t.prototype.CopyFrom=function(e){this.m_iColliderType=e.m_iColliderType},t.prototype.Reset=function(){this.m_iColliderType=o.CollisionTypeValue.Default},t}(i.default);n.default=s,cc._RF.pop()},{"../../Define":"Define","../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],ColliderSys:[function(e,t,n){"use strict";cc._RF.push(t,"6eb80RbTThPI7YXcp4YGXCK","ColliderSys"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseSystem"),r=e("../ECSDefine"),o=e("../../Core"),s=function(e){function t(){return e.call(this,r.ComType.Collider)||this}return __extends(t,e),t.prototype.OnLoad=function(){this.m_stColliderCom=this.GetCom()},t.prototype.OnEnable=function(){o.default.CollisionMgr.AddCollider(this)},t.prototype.OnDisable=function(){o.default.CollisionMgr.RemoveCollider(this)},t.prototype.GetServerEntityId=function(){return this.m_pOwnEntity.ServerEntityID},t.prototype.GetConfigId=function(){return this.m_pOwnEntity.ConfigID},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine"}],CollisionMgr:[function(e,t,n){"use strict";cc._RF.push(t,"56107s6yCROvpspZZXYh48O","CollisionMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Config"),r=e("../Define"),o=e("../ECS/ECSDefine"),s=function(){function e(){this.m_mapColliders=new Map,this.m_mapTargets=new Map,this.m_vRemoveColliders=new Array,this.m_mapGroup=new Array(i.default.GRID_MAX_Y),this.m_arrMouseGroup=new Array(i.default.GRID_MAX_Y),this.m_arrMouseGroupY=new Array(i.default.GRID_MAX_X),this.m_mapMouseGroupX=new Array(i.default.GRID_MAX_Y),this.m_arrCardGroup=new Array(i.default.GRID_MAX_Y),this.m_mapCardGroupY=new Array(i.default.GRID_MAX_X),this.m_mapBulletGroup=new Array(i.default.GRID_MAX_Y);for(var e=0;e<i.default.GRID_MAX_Y;e++){this.m_mapGroup[e]=new Array(i.default.GRID_MAX_X),this.m_arrMouseGroup[e]=new Array(i.default.GRID_MAX_X),this.m_arrCardGroup[e]=new Array(i.default.GRID_MAX_X),this.m_arrMouseGroupY[e]=new Array,this.m_mapCardGroupY[e]=new Map,this.m_mapBulletGroup[e]=new Array(i.default.GRID_MAX_X);for(var t=0;t<i.default.GRID_MAX_X;t++)this.m_mapBulletGroup[e][t]=new Map,this.m_mapGroup[e][t]=new Map,this.m_arrMouseGroup[e][t]=new Array,this.m_arrCardGroup[e][t]=new Array}for(t=0;t<i.default.GRID_MAX_X;t++)this.m_mapMouseGroupX[t]=new Map}return e.prototype.GetName=function(){return"CollisionMgr"},e.prototype.Tick=function(e,t){this.Test()},e.prototype.ClearAllGroup=function(){var e,t;for(t=0;t<i.default.GRID_MAX_Y;t++)for(this.m_arrMouseGroupY[t].length=0,this.m_mapCardGroupY[t].clear(),e=0;e<i.default.GRID_MAX_X;e++)this.m_mapGroup[t][e].clear(),this.m_arrMouseGroup[t][e].length=0,this.m_arrCardGroup[t][e].length=0,this.m_mapBulletGroup[t][e].clear();for(var n=0;n<i.default.GRID_MAX_X;n++)this.m_mapMouseGroupX[n].clear();this.m_stFrontMouse=null},e.prototype.Test=function(){var e=this;this.ClearAllGroup(),this.m_mapColliders.forEach(function(t){if(e.TestInGrid(t.Node.GridX,t.Node.GridY)){var n=t.Node.GridX,i=t.Node.GridY,o=t.m_pOwnEntity.EntityID;if(e.m_mapGroup[i][n].has(o))return;e.m_mapGroup[i][n].set(o,t),t.m_pOwnEntity.NodeType==r.NodeType.Mouse?(e.m_arrMouseGroup[i][n].push(t),e.m_arrMouseGroupY[i].push(t),e.m_mapMouseGroupX[n].set(o,t),(!e.m_stFrontMouse||e.m_stFrontMouse.Node.x>t.Node.x)&&(e.m_stFrontMouse=t)):t.m_pOwnEntity.NodeType==r.NodeType.Card?(e.m_arrCardGroup[i][n].push(t),e.m_mapCardGroupY[i].set(o,t)):t.m_pOwnEntity.NodeType==r.NodeType.Bullet&&e.m_mapBulletGroup[i][n].set(o,t)}});for(var t=0;t<i.default.GRID_MAX_Y;t++)for(var n=0;n<i.default.GRID_MAX_X;n++)this.m_mapGroup[t][n].size>1&&this.TestGrid(n,t);for(var o=0,s=this.m_vRemoveColliders;o<s.length;o++){var a=s[o];this.RemoveCollider(a)}this.m_vRemoveColliders.length=0,this.UpdateTarget()},e.prototype.GetMouseByGrid=function(e,t){return this.TestInGrid(e,t)?this.m_arrMouseGroup[t][e]:null},e.prototype.GetCardServerEntityIDByGrid=function(e,t){return this.TestInGrid(e,t)?1==this.m_arrCardGroup[t][e][0].GetConfigId()?NaN:this.m_arrCardGroup[t][e][0].GetServerEntityId():NaN},e.prototype.BattleIsHasMouse=function(){for(var e=0,t=this.m_arrMouseGroupY;e<t.length;e++){var n=t[e];if(n&&n.length>0)return!0}return!1},e.prototype.TestGrid=function(e,t){var n=this;this.m_mapGroup[t][e].forEach(function(i){switch(i.m_stColliderCom.m_iColliderType){case r.CollisionTypeValue.Brazier:n.Ignite(i,n.m_mapBulletGroup[t][e]);break;case r.CollisionTypeValue.Bullet:case r.CollisionTypeValue.Mouse:case r.CollisionTypeValue.Terrain:}})},e.prototype.UpdateTarget=function(){var e=this;this.m_mapTargets.forEach(function(t){var n=null,i=t.Node.GridX,r=t.Node.GridY;switch(t.m_stTargetCom.m_iTargetType){case o.TargetType.TargetFrontGrid:n=e.GetTargetFrontGrid(i,r,t);break;case o.TargetType.TargetFrontLine:n=e.GetTargetFrontLine(i,r);break;case o.TargetType.TargetFrontThree:n=e.GetTargetFrontThree(i,r);break;case o.TargetType.TargetYAxis:n=e.GetTargetYAxis(i);break;case o.TargetType.TargetXAxis:n=e.GetTargetXAxis(r);break;case o.TargetType.TargetAll:n=e.GetTargetAll();break;case o.TargetType.TargetAround:n=e.GetTargetAround(i,r,t);break;default:throw new Error("UpdateTarget:: target.m_stTargetCom.m_iTargetType is:"+t.m_stTargetCom.m_iTargetType)}t.Target=n})},e.prototype.Ignite=function(e,t){var n=e.GetComByType(o.ComType.Spine);if(n){var i,r,s=e.m_pOwnEntity.Node.x;t.size>0&&(r=e.GetComByType(o.ComType.Damage)),t.forEach(function(t){var a=t.GetComByType(o.ComType.Spine);if(a&&a.m_sFileUrl!=n.m_sFileUrl){var u=t.GetComByType(o.ComType.Move);if(u){i=t.m_pOwnEntity.Node.x;var c=u.m_iSpeed;if(c>0&&i+c>s||c<0&&i+c<s){a.m_sFileUrl="0x"+e.m_pOwnEntity.ConfigID.toString(16);var l=t.GetSysByType(o.ComType.Spine);if(r)t.GetComByType(o.ComType.Damage).m_iMultiply=r.m_iMultiply,l.ReloadRes()}}}})}},e.prototype.TestTerrain=function(e,t){for(var n=0,i=t;n<i.length;n++){var s=i[n];if(s.m_pOwnEntity.NodeType==r.NodeType.Bullet)Math.abs(s.Node.x-e.Node.x)<20&&(cc.log("\u5b50\u5f39\u8fdb\u5165\u67d0\u5730\u5f62"),s.m_pOwnEntity.Emit(o.ECSEventDefine.BulletEnterTerrain,e))}},e.prototype.GetTargetFrontGrid=function(e,t,n){if(!this.TestInGrid(e,t))return null;var i=n.m_pOwnEntity.NodeType;if(r.NodeType.Card==i){if(0==this.m_arrMouseGroupY[t].length)return null;if(this.m_arrMouseGroup[t][e].length>0)for(var s=0,a=this.m_arrMouseGroup[t][e];s<a.length;s++){return a[s]}}else if(r.NodeType.Mouse==i){if(0==this.m_mapCardGroupY[t].size)return null;if(this.m_arrCardGroup[t][e].length>0)for(var u=0,c=this.m_arrCardGroup[t][e];u<c.length;u++){return c[u]}}else if(r.NodeType.Bullet==i){if(0==this.m_arrMouseGroupY[t].length)return null;if(this.m_arrMouseGroup[t][e].length>0){var l=this.m_arrMouseGroup[t][e],d=n.GetComByType(o.ComType.Move);if(!d)for(var p=0,m=l;p<m.length;p++){return _=m[p]}for(var f=n.Node.x+d.m_iSpeed,h=0,y=l;h<y.length;h++){var _,g=(_=y[h]).Node.x;if(d.m_iSpeed>0&&f>=g)return _;if(d.m_iSpeed<0&&f<=g)return _}}}return null},e.prototype.GetTargetFrontLine=function(e,t){if(!this.TestInGrid(e,t))return null;if(this.m_arrMouseGroupY[t].length>0)for(;e<i.default.GRID_MAX_X;++e)if(this.m_arrMouseGroup[t][e].length>0)for(var n=0,r=this.m_arrMouseGroup[t][e];n<r.length;n++){return r[n]}return null},e.prototype.GetTargetFrontThree=function(e,t){if(!this.TestInGrid(e,t))return null;var n=this.GetTargetFrontLine(t,t);if(!n)this.GetTargetFrontLine(t,t+1);if(!n)this.GetTargetFrontLine(t,t-1);return null},e.prototype.GetTargetYAxis=function(e){if(!this.TestInGrid(e,0))return null;for(var t=0;t<i.default.GRID_MAX_Y;++t)if(this.m_arrMouseGroup[t][e].length>0)for(var n=0,r=this.m_arrMouseGroup[t][e];n<r.length;n++){return r[n]}return null},e.prototype.GetTargetXAxis=function(e){if(!this.TestInGrid(0,e))return null;for(var t=0,n=this.m_arrMouseGroupY[e];t<n.length;t++){return n[t]}return null},e.prototype.GetTargetAll=function(){return this.m_stFrontMouse},e.prototype.GetTargetAround=function(e,t,n){return this.TestInGrid(e,t),null},e.prototype.TestGridHasCard=function(e,t){return this.TestInGrid(e,t)?this.m_arrCardGroup[t][e].length>0:null},e.prototype.TestInGrid=function(e,t){return!(e<0||e>=i.default.GRID_MAX_X||t<0||t>=i.default.GRID_MAX_Y)},e.prototype.AddCollider=function(e){var t=e.m_pOwnEntity.EntityID;this.m_mapColliders.has(t)||this.m_mapColliders.set(t,e)},e.prototype.RemoveCollider=function(e){var t=e.m_pOwnEntity.EntityID;this.m_mapColliders.has(t)&&this.m_mapColliders.delete(t)},e.prototype.AddTarget=function(e){var t=e.m_pOwnEntity.EntityID;this.m_mapTargets.has(t)||this.m_mapTargets.set(t,e)},e.prototype.RemoveTarget=function(e){var t=e.m_pOwnEntity.EntityID;this.m_mapTargets.has(t)&&this.m_mapTargets.delete(t)},e}();n.default=s,cc._RF.pop()},{"../Config":"Config","../Define":"Define","../ECS/ECSDefine":"ECSDefine"}],Config:[function(e,t,n){"use strict";cc._RF.push(t,"4cec5v8UhxHs7I1O+IQDmo/","Config"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Define"),r=e("./battle/MapConfig"),o=function(){function e(){}return Object.defineProperty(e,"Mode",{get:function(){return e.m_sMode},set:function(t){e.m_sMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(e,"IsOnlyClient",{get:function(){return e.m_bIsOnlyClient},set:function(t){e.m_bIsOnlyClient=t},enumerable:!0,configurable:!0}),e.ReadMapConfig=function(){cc.loader.loadResArray(["conf/map_config"],function(t,n){if(t)cc.log(t);else{e.m_mapMapConfig||(e.m_mapMapConfig=new Map);for(var i=0;i<n.length;i++){var o=new r.default;o.Parse(n[i].json),e.m_mapMapConfig.set(o.m_iId,o)}}}.bind(this))},e.m_sMode=i.GameMode.MODE_DEBUG,e.m_bIsOnlyClient=!0,e.AUTH_IP="10.0.128.169",e.AUTH_PORT=9702,e.SERVER_ID=3,e.GAME_FPS=30,e.BATTLE_START_X=400,e.BATTLE_START_Y=68,e.BATTLE_WIDTH=1280,e.BATTLE_HEIGHT=720,e.SPINE_SCALE=.58,e.CARDS_PANEL_START_LEFT_X=50,e.CARDS_PANEL_START_TOP_Y=120,e.CARDS_PANEL_WIDTH=101,e.CARDS_PANEL_SINGLE_HEIGHT=72,e.GRID_WIDTH=93.4,e.GRID_HEIGHT=111.3,e.GRID_MAX_Y=5,e.GRID_MAX_X=9,e.BULLET_OFFSET_X=50,e.CHANZI_START_RIGHT_X=100,e.CHANZI_START_BOTTOM_Y=26,e.CHANZI_WIDTH=74,e.CHANZI_HEIGHT=74,e}();n.default=o,cc._RF.pop()},{"./Define":"Define","./battle/MapConfig":"MapConfig"}],Core:[function(e,t,n){"use strict";cc._RF.push(t,"c77aa4d9BtFfrb8q8JirKAq","Core"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./tick/Ticker"),r=e("./ECS/ECSMgr"),o=e("./Define"),s=e("./scene/SceneMgr"),a=e("./timeLine/TimeLine"),u=e("./battle/BattleMgr"),c=e("./collider/CollisionMgr"),l=e("./Config"),d=e("./util/ResourcesMgr"),p=e("./ECS/ECSConfigMgr"),m=e("./net/NetMgr"),f=e("./net/ServerHandler"),h=e("./util/ObjectPool"),y=e("./util/NodePool"),_=e("./event/EventMgr"),g=e("./UI/LoadingUI"),I=e("./UI/UIRoot"),S=e("./UI/UIMgr"),T=e("./sound/AudioMgr"),b=e("./common/GameInfoMgr"),C=function(){function e(){}return e.Get=function(){return null==e.m_pInstance&&(e.m_pInstance=new e),e.m_pInstance},e.prototype.Init=function(){l.default.IsOnlyClient&&l.default.ReadMapConfig(),h.default.Init(),y.default.Init(),e.m_pRootNode=cc.find("RootNode"),e.m_pRootNode.zIndex=0;var t=cc.find("Canvas");e.m_pRootNode.x=t.x-640,e.m_pRootNode.y=t.y-360,cc.game.addPersistRootNode(e.m_pRootNode);var n=e.m_pRootNode.addComponent("Updater");cc.log(n),e.m_pGameInfoMgr||(e.m_pGameInfoMgr=new b.default),e.m_pUIRoot||(e.m_pUIRoot=new I.default),e.m_pUIMgr||(e.m_pUIMgr=new S.default),e.m_pLoadingUI||(e.m_pLoadingUI=new g.default),e.m_pEventMgr||(e.m_pEventMgr=new _.default),e.m_pNetMgr||(e.m_pNetMgr=new m.default),e.m_pServerHandler||(e.m_pServerHandler=new f.default),e.m_pResourcesMgr||(e.m_pResourcesMgr=new d.default),e.m_pSceneMgr||(e.m_pSceneMgr=new s.default),e.m_pTicker||(e.m_pTicker=new i.default(o.Define.TICK_INTERVAL,o.Define.FRAME_RATE,4)),e.m_pBattleMgr||(e.m_pBattleMgr=new u.default),e.m_pECSConfigMgr||(e.m_pECSConfigMgr=new p.default),e.m_pECSMgr||(e.m_pECSMgr=new r.default),e.m_pTimeLine||(e.m_pTimeLine=new a.default),e.m_pCollisionMgr||(e.m_pCollisionMgr=new c.default),e.m_pAudioMgr||(e.m_pAudioMgr=new T.default),e.m_pECSConfigMgr.LoadConfig(),e.m_pECSMgr.Init(),e.m_pTimeLine.Init(),e.m_pAudioMgr.Init(),e.m_pServerHandler.Init(),e.m_pServerHandler.Register(),e.m_pNetMgr.connect()},e.prototype.Update=function(t){e.Ticker.DoTick(t)},Object.defineProperty(e,"GameInfoMgr",{get:function(){return e.m_pGameInfoMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"UIRoot",{get:function(){return e.m_pUIRoot},enumerable:!0,configurable:!0}),Object.defineProperty(e,"UIMgr",{get:function(){return e.m_pUIMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LoadingUI",{get:function(){return e.m_pLoadingUI},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ResourcesMgr",{get:function(){return e.m_pResourcesMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CollisionMgr",{get:function(){return e.m_pCollisionMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"AudioMgr",{get:function(){return e.m_pAudioMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SceneMgr",{get:function(){return e.m_pSceneMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ECSConfigMgr",{get:function(){return e.m_pECSConfigMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ECSMgr",{get:function(){return e.m_pECSMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TimeLine",{get:function(){return e.m_pTimeLine},enumerable:!0,configurable:!0}),Object.defineProperty(e,"BattleMgr",{get:function(){return e.m_pBattleMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Ticker",{get:function(){return e.m_pTicker},enumerable:!0,configurable:!0}),Object.defineProperty(e,"RootNode",{get:function(){return e.m_pRootNode},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NetMgr",{get:function(){return e.m_pNetMgr},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ServerHandler",{get:function(){return e.m_pServerHandler},enumerable:!0,configurable:!0}),Object.defineProperty(e,"EventMgr",{get:function(){return e.m_pEventMgr},enumerable:!0,configurable:!0}),e}();n.default=C,cc._RF.pop()},{"./Config":"Config","./Define":"Define","./ECS/ECSConfigMgr":"ECSConfigMgr","./ECS/ECSMgr":"ECSMgr","./UI/LoadingUI":"LoadingUI","./UI/UIMgr":"UIMgr","./UI/UIRoot":"UIRoot","./battle/BattleMgr":"BattleMgr","./collider/CollisionMgr":"CollisionMgr","./common/GameInfoMgr":"GameInfoMgr","./event/EventMgr":"EventMgr","./net/NetMgr":"NetMgr","./net/ServerHandler":"ServerHandler","./scene/SceneMgr":"SceneMgr","./sound/AudioMgr":"AudioMgr","./tick/Ticker":"Ticker","./timeLine/TimeLine":"TimeLine","./util/NodePool":"NodePool","./util/ObjectPool":"ObjectPool","./util/ResourcesMgr":"ResourcesMgr"}],DamageCom:[function(e,t,n){"use strict";cc._RF.push(t,"46c0bQfczxHlJQxlDlwV8aB","DamageCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=function(e){function t(){var t=e.call(this,r.ComType.Damage)||this;return t.Reset(),t}return __extends(t,e),t.prototype.ReadFromFile=function(e){this.m_iDamage=e.damage},t.prototype.CopyFrom=function(e){this.m_iDamage=e.m_iDamage,this.m_iMultiply=e.m_iMultiply},t.prototype.Reset=function(){this.m_iDamage=0,this.m_iMultiply=100},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],DamageSys:[function(e,t,n){"use strict";cc._RF.push(t,"ea8cbNSAM1H/6XnQhU9EaPg","DamageSys"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseSystem"),r=e("../ECSDefine"),o=function(e){function t(){return e.call(this,r.ComType.Damage)||this}return __extends(t,e),t.prototype.OnLoad=function(){this.m_stDamageCom=this.GetCom()},t.prototype.Tick=function(e,t){},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine"}],Define:[function(e,t,n){"use strict";cc._RF.push(t,"c3be2xF2AtGbbp9XO5l1igu","Define"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.TICK_INTERVAL=17,e.FRAME_RATE=30,e}();n.Define=i,function(e){e[e.MODE_DEBUG=0]="MODE_DEBUG",e[e.MODE_RELEASE=1]="MODE_RELEASE",e[e.MODE_EDITOR=2]="MODE_EDITOR"}(n.GameMode||(n.GameMode={})),function(e){e[e.Mouse=1]="Mouse",e[e.Card=2]="Card",e[e.Bullet=3]="Bullet",e[e.Terrain=4]="Terrain",e[e.Fire=5]="Fire",e[e.Porp=6]="Porp"}(n.NodeType||(n.NodeType={})),function(e){e[e.Default=0]="Default",e[e.Card=4096]="Card",e[e.Shade=4097]="Shade",e[e.Brazier=4098]="Brazier",e[e.Tool=4099]="Tool",e[e.CardEffect=4100]="CardEffect",e[e.Mouse=8193]="Mouse",e[e.Bullet=12289]="Bullet",e[e.Terrain=16385]="Terrain"}(n.CollisionTypeValue||(n.CollisionTypeValue={})),function(e){e[e.SpineRes=0]="SpineRes",e[e.BitmapRes=1]="BitmapRes",e[e.Prefab=2]="Prefab",e[e.AudioClip=3]="AudioClip"}(n.ResType||(n.ResType={})),function(e){e.MusicVolume="MusicVolume",e.SoundVolume="SoundVolume",e.MusicMute="MusicMute",e.SoundMute="SoundMute"}(n.Music||(n.Music={})),function(e){e[e.Music=0]="Music",e[e.Sound=1]="Sound"}(n.AudioType||(n.AudioType={})),function(e){e.LoginScene="LoginScene",e.LobbyScene="LobbyScene",e.BattleScene="BattleScene"}(n.SceneType||(n.SceneType={})),n.EventDefine||(n.EventDefine={}),cc._RF.pop()},{}],DirectAttackCom:[function(e,t,n){"use strict";cc._RF.push(t,"ababf2HH6VPlajN4xAa+cfP","DirectAttackCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=function(e){function t(){return e.call(this,r.ComType.DirectAttack)||this}return __extends(t,e),t.prototype.ReadFromFile=function(e){this.m_iAttackType=r.AttackType.TYPE_DEFAULT,this.m_iSkillCD=e.SkillCD},t.prototype.CopyFrom=function(e){this.m_iAttackType=e.m_iAttackType,this.m_iSkillCD=e.m_iSkillCD,this.m_iAttackCount=e.m_iAttackCount},t.prototype.Reset=function(){this.m_iAttackType=r.AttackType.TYPE_DEFAULT,this.m_iSkillCD=0,this.m_iAttackCount=Number.MAX_VALUE},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],DirectAttackSys:[function(e,t,n){"use strict";cc._RF.push(t,"30214yAyUJGnqzWvGOGw176","DirectAttackSys"),Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../BaseSystem"),o=e("../../Core"),s=e("../ECSDefine"),a=e("../../../proto/msg"),u=e("../../Define"),c=function(e){function t(){return e.call(this,s.ComType.DirectAttack)||this}return __extends(t,e),t.prototype.OnChangeCom=function(){this.m_stActionFSMCom=this.GetComByType(s.ComType.ActionFSM),this.m_stDamageCom=this.GetComByType(s.ComType.Damage),this.m_stTargetSys=this.GetSysByType(s.ComType.Target),this.m_iAttackStatus=i.AttackIDLE,this.m_pOwnEntity.BindEvent(s.ECSEventDefine.AnimDoAction,this.DoAttackAction.bind(this)),this.m_pOwnEntity.BindEvent(s.ECSEventDefine.BulletAttackMouse,this.DoAttackAction.bind(this)),this.m_pOwnEntity.BindEvent(s.ECSEventDefine.MouseAttackCard,this.DoAttackAction.bind(this)),this.m_pOwnEntity.BindEvent(s.ECSEventDefine.BulletEnterTerrain,this.DoAttackAction.bind(this))},t.prototype.OnLoad=function(){this.m_stDirectAttackCom=this.GetCom(),this.m_iAttackTime=0},t.prototype.Tick=function(e,t){if(t*=1e3,this.m_iAttackTime+=t,(this.m_stTargetSys&&this.m_stTargetSys.HasTarget()||null==this.m_stTargetSys)&&i.AttackIDLE==this.m_iAttackStatus)return this.m_pOwnEntity.NodeType==u.NodeType.Bullet?this.Attack():this.m_stActionFSMCom.m_iNextAction=a.EntityAction.ATTACK,void(this.m_iAttackStatus=i.AttackBuildup);i.AttackTime==this.m_iAttackStatus?(this.m_iAttackStatus=i.AttackSpace,this.m_stActionFSMCom.m_iNextAction=a.EntityAction.IDLE):i.AttackSpace==this.m_iAttackStatus&&this.m_iAttackTime>=this.m_stDirectAttackCom.m_iSkillCD&&(this.m_iAttackStatus=i.AttackIDLE,this.m_iAttackTime=0,this.m_stDirectAttackCom.m_iAttackCount--,this.m_stDirectAttackCom.m_iAttackCount<=0?this.m_stActionFSMCom.m_iNextAction=a.EntityAction.DIE:this.m_stActionFSMCom.m_iNextAction=a.EntityAction.IDLE)},t.prototype.DoAttackAction=function(e){this.m_pOwnEntity.NodeType==u.NodeType.Bullet?(this.Attack(),this.m_stActionFSMCom.m_iNextAction=a.EntityAction.DIE,o.default.AudioMgr.PlaySound("card_damage_1")):(this.Attack(),this.m_iAttackStatus=i.AttackSpace,o.default.AudioMgr.PlaySound("mouse_eating"))},t.prototype.Attack=function(){var e,t,n=this;switch(this.m_stDirectAttackCom.m_iAttackType){case s.AttackType.TYPE_DEFAULT:this.m_stTargetSys&&this.m_stTargetSys.Target&&(e=this.m_stTargetSys.Target.GetSysByType(s.ComType.HP))&&e.Attack(this.m_stDamageCom);break;case s.AttackType.GRID:case s.AttackType.BOOM:(t=o.default.CollisionMgr.GetMouseByGrid(this.m_pOwnEntity.Node.GridX,this.m_pOwnEntity.Node.GridY))&&t.forEach(function(t){(e=t.GetSysByType(s.ComType.HP))&&e.Attack(n.m_stDamageCom,n.m_stDirectAttackCom.m_iAttackType)})}u.NodeType.Bullet==this.m_pOwnEntity.NodeType?this.GetComByType(s.ComType.Spine)?this.m_stActionFSMCom.m_iNextAction=a.EntityAction.DIE:o.default.ECSMgr.RemoveEntity(this.m_pOwnEntity):(u.NodeType.Mouse,this.m_pOwnEntity.NodeType)},t}(r.default);n.default=c,function(e){e[e.AttackIDLE=0]="AttackIDLE",e[e.AttackBuildup=1]="AttackBuildup",e[e.AttackTime=2]="AttackTime",e[e.AttackSpace=3]="AttackSpace"}(i||(i={})),cc._RF.pop()},{"../../../proto/msg":"msg","../../Core":"Core","../../Define":"Define","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine"}],1:[function(e,t,n){"use strict";t.exports=function(e,t){var n=new Array(arguments.length-1),i=0,r=2,o=!0;for(;r<arguments.length;)n[i++]=arguments[r++];return new Promise(function(r,s){n[i]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];r.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,s(e))}})}},{}],2:[function(e,t,n){"use strict";var i=n;i.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),o=new Array(123),s=0;s<64;)o[r[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;i.encode=function(e,t,n){for(var i,o=null,s=[],a=0,u=0;t<n;){var c=e[t++];switch(u){case 0:s[a++]=r[c>>2],i=(3&c)<<4,u=1;break;case 1:s[a++]=r[i|c>>4],i=(15&c)<<2,u=2;break;case 2:s[a++]=r[i|c>>6],s[a++]=r[63&c],u=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return u&&(s[a++]=r[i],s[a++]=61,1===u&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};i.decode=function(e,t,n){for(var i,r=n,s=0,a=0;a<e.length;){var u=e.charCodeAt(a++);if(61===u&&s>1)break;if(void 0===(u=o[u]))throw Error("invalid encoding");switch(s){case 0:i=u,s=1;break;case 1:t[n++]=i<<2|(48&u)>>4,i=u,s=2;break;case 2:t[n++]=(15&i)<<4|(60&u)>>2,i=u,s=3;break;case 3:t[n++]=(3&i)<<6|u,s=0}}if(1===s)throw Error("invalid encoding");return n-r},i.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,n){"use strict";function i(){this._listeners={}}t.exports=i,i.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},i.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===t?n.splice(i,1):++i;return this},i.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,n)}return this}},{}],4:[function(e,t,n){"use strict";function i(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),i=128===n[3];function r(e,i,r){t[0]=e,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3]}function o(e,i,r){t[0]=e,i[r]=n[3],i[r+1]=n[2],i[r+2]=n[1],i[r+3]=n[0]}function s(e,i){return n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],t[0]}function a(e,i){return n[3]=e[i],n[2]=e[i+1],n[1]=e[i+2],n[0]=e[i+3],t[0]}e.writeFloatLE=i?r:o,e.writeFloatBE=i?o:r,e.readFloatLE=i?s:a,e.readFloatBE=i?a:s}():function(){function t(e,t,n,i){var r=t<0?1:0;if(r&&(t=-t),0===t)e(1/t>0?0:2147483648,n,i);else if(isNaN(t))e(2143289344,n,i);else if(t>3.4028234663852886e38)e((r<<31|2139095040)>>>0,n,i);else if(t<1.1754943508222875e-38)e((r<<31|Math.round(t/1.401298464324817e-45))>>>0,n,i);else{var o=Math.floor(Math.log(t)/Math.LN2);e((r<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,i)}}function n(e,t,n){var i=e(t,n),r=2*(i>>31)+1,o=i>>>23&255,s=8388607&i;return 255===o?s?NaN:r*(1/0):0===o?1.401298464324817e-45*r*s:r*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,s),e.readFloatBE=n.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),i=128===n[7];function r(e,i,r){t[0]=e,i[r]=n[0],i[r+1]=n[1],i[r+2]=n[2],i[r+3]=n[3],i[r+4]=n[4],i[r+5]=n[5],i[r+6]=n[6],i[r+7]=n[7]}function o(e,i,r){t[0]=e,i[r]=n[7],i[r+1]=n[6],i[r+2]=n[5],i[r+3]=n[4],i[r+4]=n[3],i[r+5]=n[2],i[r+6]=n[1],i[r+7]=n[0]}function s(e,i){return n[0]=e[i],n[1]=e[i+1],n[2]=e[i+2],n[3]=e[i+3],n[4]=e[i+4],n[5]=e[i+5],n[6]=e[i+6],n[7]=e[i+7],t[0]}function a(e,i){return n[7]=e[i],n[6]=e[i+1],n[5]=e[i+2],n[4]=e[i+3],n[3]=e[i+4],n[2]=e[i+5],n[1]=e[i+6],n[0]=e[i+7],t[0]}e.writeDoubleLE=i?r:o,e.writeDoubleBE=i?o:r,e.readDoubleLE=i?s:a,e.readDoubleBE=i?a:s}():function(){function t(e,t,n,i,r,o){var s=i<0?1:0;if(s&&(i=-i),0===i)e(0,r,o+t),e(1/i>0?0:2147483648,r,o+n);else if(isNaN(i))e(0,r,o+t),e(2146959360,r,o+n);else if(i>1.7976931348623157e308)e(0,r,o+t),e((s<<31|2146435072)>>>0,r,o+n);else{var a;if(i<2.2250738585072014e-308)e((a=i/5e-324)>>>0,r,o+t),e((s<<31|a/4294967296)>>>0,r,o+n);else{var u=Math.floor(Math.log(i)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=i*Math.pow(2,-u))>>>0,r,o+t),e((s<<31|u+1023<<20|1048576*a&1048575)>>>0,r,o+n)}}}function n(e,t,n,i,r){var o=e(i,r+t),s=e(i,r+n),a=2*(s>>31)+1,u=s>>>20&2047,c=4294967296*(1048575&s)+o;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,s,0,4),e.readDoubleBE=n.bind(null,a,4,0)}(),e}function r(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=i(i)},{}],5:[function(require,module,exports){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],6:[function(e,t,n){"use strict";t.exports=function(e,t,n){var i=n||8192,r=i>>>1,o=null,s=i;return function(n){if(n<1||n>r)return e(n);s+n>i&&(o=e(i),s=0);var a=t.call(o,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},{}],7:[function(e,t,n){"use strict";var i=n;i.length=function(e){for(var t=0,n=0,i=0;i<e.length;++i)(n=e.charCodeAt(i))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},i.read=function(e,t,n){if(n-t<1)return"";for(var i,r=null,o=[],s=0;t<n;)(i=e[t++])<128?o[s++]=i:i>191&&i<224?o[s++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(i>>10),o[s++]=56320+(1023&i)):o[s++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,o)),s=0);return r?(s&&r.push(String.fromCharCode.apply(String,o.slice(0,s))),r.join("")):String.fromCharCode.apply(String,o.slice(0,s))},i.write=function(e,t,n){for(var i,r,o=n,s=0;s<e.length;++s)(i=e.charCodeAt(s))<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&56320==(64512&(r=e.charCodeAt(s+1)))?(i=65536+((1023&i)<<10)+(1023&r),++s,t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128);return n-o}},{}],8:[function(e,t,n){"use strict";t.exports=e("./src/index-minimal")},{"./src/index-minimal":9}],9:[function(e,t,n){"use strict";var i=n;function r(){i.Reader._configure(i.BufferReader),i.util._configure()}i.build="minimal",i.Writer=e("./writer"),i.BufferWriter=e("./writer_buffer"),i.Reader=e("./reader"),i.BufferReader=e("./reader_buffer"),i.util=e("./util/minimal"),i.rpc=e("./rpc"),i.roots=e("./roots"),i.configure=r,i.Writer._configure(i.BufferWriter),r()},{"./reader":10,"./reader_buffer":11,"./roots":12,"./rpc":13,"./util/minimal":16,"./writer":17,"./writer_buffer":18}],10:[function(e,t,n){"use strict";t.exports=u;var i,r=e("./util/minimal"),o=r.LongBits,s=r.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")};function l(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new o(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=r.Buffer?function(e){return(u.create=function(e){return r.Buffer.isBuffer(e)?new i(e):c(e)})(e)}:c,u.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,u.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},u.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;;){if(4==(e=7&this.uint32()))break;this.skipType(e)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){i=e;var t=r.Long?"toLong":"toNumber";r.merge(u.prototype,{int64:function(){return l.call(this)[t](!1)},uint64:function(){return l.call(this)[t](!0)},sint64:function(){return l.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},{"./util/minimal":16}],11:[function(e,t,n){"use strict";t.exports=o;var i=e("./reader");(o.prototype=Object.create(i.prototype)).constructor=o;var r=e("./util/minimal");function o(e){i.call(this,e)}r.Buffer&&(o.prototype._slice=r.Buffer.prototype.slice),o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))}},{"./reader":10,"./util/minimal":16}],12:[function(e,t,n){"use strict";t.exports={}},{}],13:[function(e,t,n){"use strict";n.Service=e("./rpc/service")},{"./rpc/service":14}],14:[function(e,t,n){"use strict";t.exports=r;var i=e("../util/minimal");function r(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(r.prototype=Object.create(i.EventEmitter.prototype)).constructor=r,r.prototype.rpcCall=function e(t,n,r,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return i.asPromise(e,a,t,n,r,o);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(e,n){if(e)return a.emit("error",e,t),s(e);if(null!==n){if(!(n instanceof r))try{n=r[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",n,t),s(null,n)}a.end(!0)})}catch(e){return a.emit("error",e,t),void setTimeout(function(){s(e)},0)}else setTimeout(function(){s(Error("already ended"))},0)},r.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{"../util/minimal":16}],15:[function(e,t,n){"use strict";t.exports=r;var i=e("../util/minimal");function r(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=r.zero=new r(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=r.zeroHash="\0\0\0\0\0\0\0\0";r.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return t&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new r(n,i)},r.from=function(e){if("number"==typeof e)return r.fromNumber(e);if(i.isString(e)){if(!i.Long)return r.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new r(e.low>>>0,e.high>>>0):o},r.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},r.prototype.toLong=function(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;r.fromHash=function(e){return e===s?o:new r((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},r.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},r.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},r.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},r.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{"../util/minimal":16}],16:[function(e,t,n){(function(t){"use strict";var i=n;function r(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;++r)void 0!==e[i[r]]&&n||(e[i[r]]=t[i[r]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&r(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}i.asPromise=e("@protobufjs/aspromise"),i.base64=e("@protobufjs/base64"),i.EventEmitter=e("@protobufjs/eventemitter"),i.float=e("@protobufjs/float"),i.inquire=e("@protobufjs/inquire"),i.utf8=e("@protobufjs/utf8"),i.pool=e("@protobufjs/pool"),i.LongBits=e("./longbits"),i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isNode=Boolean(t.process&&t.process.versions&&t.process.versions.node),i.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function(e){return"string"==typeof e||e instanceof String},i.isObject=function(e){return e&&"object"==typeof e},i.isset=i.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=t.dcodeIO&&t.dcodeIO.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function(e,t){var n=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},i.merge=r,i.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=o,i.ProtocolError=o("ProtocolError"),i.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},i.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},i._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./longbits":15,"@protobufjs/aspromise":1,"@protobufjs/base64":2,"@protobufjs/eventemitter":3,"@protobufjs/float":4,"@protobufjs/inquire":5,"@protobufjs/pool":6,"@protobufjs/utf8":7}],17:[function(e,t,n){"use strict";t.exports=l;var i,r=e("./util/minimal"),o=r.LongBits,s=r.base64,a=r.utf8;function u(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function l(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}function d(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function f(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}l.create=r.Buffer?function(){return(l.create=function(){return new i})()}:function(){return new l},l.alloc=function(e){return new r.Array(e)},r.Array!==Array&&(l.alloc=r.pool(l.alloc,r.Array.prototype.subarray)),l.prototype._push=function(e,t,n){return this.tail=this.tail.next=new u(e,t,n),this.len+=t,this},p.prototype=Object.create(u.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},l.prototype.bool=function(e){return this._push(d,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(f,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=o.from(e);return this._push(f,4,t.lo)._push(f,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(r.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(r.float.writeDoubleLE,8,e)};var h=r.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var i=0;i<e.length;++i)t[n+i]=e[i]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(r.isString(e)){var n=l.alloc(t=s.length(e));s.decode(e,n,0),e=n}return this.uint32(t)._push(h,t,e)},l.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(d,1,0)},l.prototype.fork=function(){return this.states=new function(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}(this),this.head=this.tail=new u(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},l._configure=function(e){i=e}},{"./util/minimal":16}],18:[function(e,t,n){"use strict";t.exports=s;var i=e("./writer");(s.prototype=Object.create(i.prototype)).constructor=s;var r=e("./util/minimal"),o=r.Buffer;function s(){i.call(this)}s.alloc=function(e){return(s.alloc=r._Buffer_allocUnsafe)(e)};var a=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var i=0;i<e.length;)t[n++]=e[i++]};function u(e,t,n){e.length<40?r.utf8.write(e,t,n):t.utf8Write(e,n)}s.prototype.bytes=function(e){r.isString(e)&&(e=r._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(a,t,e),this},s.prototype.string=function(e){var t=o.byteLength(e);return this.uint32(t),t&&this._push(u,t,e),this}},{"./util/minimal":16,"./writer":17}],ECSConfigMgr:[function(e,t,n){"use strict";cc._RF.push(t,"ebf1b3ldQtDJ6jK5op/Bv/o","ECSConfigMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../Define"),o=e("../util/ObjectPool"),s=e("./ECSDefine"),a=e("./Entity"),u=e("../Core"),c=function(){function e(){this.m_mapPrefabEntity=new Map,this.m_mapStarLvAdditionData=new Map,this.m_mapSkillLvAdditionData=new Map,this.m_mapPlaceCD=new Map,this.m_mapPlaceCost=new Map}return e.prototype.LoadConfig=function(){cc.loader.loadRes("conf/entity",function(e,t){for(var n=0;n<t.json.entities.length;++n){var i=o.default.CheckOut(a.default),s=t.json.entities[n];switch(s.node_type){case"Card":i.NodeType=r.NodeType.Card;break;case"Mouse":i.NodeType=r.NodeType.Mouse;break;case"Bullet":i.NodeType=r.NodeType.Bullet;break;case"Terrain":i.NodeType=r.NodeType.Terrain;break;default:throw new Error("\u672a\u8bc6\u522b\u7684\u5b9e\u4f53\u7c7b\u578b")}for(var c=0;c<s.coms.length;c++){var l=Number(s.coms[c].com_type),d=u.default.ECSMgr.CreateCom(l);d.ReadFromFile(s.coms[c]),i.m_mapCom.set(l,d)}i.m_sEntityName=String(s.name),i.ConfigID=Number(s.ID),this.m_mapPrefabEntity.set(i.ConfigID,i)}this.LoadEntityCSV()}.bind(this))},e.prototype.LoadEntityCSV=function(){cc.loader.loadResArray(["conf/card_config","conf/mouse_config","conf/bullet_config"],cc.TextAsset,function(e,t){if(e)cc.log(e);else for(var n=0;n<t.length;n++)this.ParseEntityCSV(t[n].text);this.LoadLvCsv()}.bind(this))},e.prototype.LoadLvCsv=function(){cc.loader.loadResArray(["conf/strength_config","conf/skill_config"],cc.TextAsset,function(e,t){if(e)cc.log(e);else for(var n=0;n<t.length;n++)this.ParseLvCSV(t[n].text,0==n)}.bind(this))},e.prototype.CreateEntity=function(e,t){var n=this.CloneEntity(e,t.m_iConfigID);if(!n)return null;switch(n.NodeType){case r.NodeType.Card:this.AdditionCard(n,t.m_iStarLv,t.m_iSkillLv);break;case r.NodeType.Mouse:this.AdditionMouse(n,t.m_iHPMultiply);break;case r.NodeType.Bullet:case r.NodeType.Terrain:}return n},e.prototype.GetCardCDById=function(e){return this.m_mapPlaceCD.has(e)?this.m_mapPlaceCD.get(e):NaN},e.prototype.GetCardCostById=function(e){return this.m_mapPlaceCost.has(e)?this.m_mapPlaceCost.get(e):NaN},e.prototype.AdditionCard=function(e,t,n){var i;n>>=0;var r=this;(t>>=0)>0&&(i=this.m_mapStarLvAdditionData.get(e.ConfigID))&&i.forEach(function(n,i){var o=n[t];r.AdditionCardAttr(e,i,o)}),n>0&&(i=this.m_mapSkillLvAdditionData.get(e.ConfigID))&&i.forEach(function(t,i){var o=t[n];r.AdditionCardAttr(e,i,o)})},e.prototype.AdditionCardAttr=function(e,t,n){switch(cc.log(t,n),t){case i.Damage:var r=e.GetComByType(s.ComType.Damage);r&&(r.m_iDamage+=n);break;case i.Multiply:var o=e.GetComByType(s.ComType.Damage);o&&(o.m_iMultiply+=n);break;case i.HP:var a=e.GetComByType(s.ComType.HP);a&&(a.m_iHP+=n);break;case i.ProductID:var u=e.GetComByType(s.ComType.Generator);u&&(u.m_iProductID=n);break;case i.SkillCD:var c=e.GetComByType(s.ComType.Generator);c&&(c.m_iSkillCD+=n);var l=e.GetComByType(s.ComType.DirectAttack);l&&(l.m_iSkillCD+=n)}},e.prototype.AdditionMouse=function(e,t){},e.prototype.CloneEntity=function(e,t){var n=a.default.CreateWithID(e),i=this.m_mapPrefabEntity.get(t);return i?(n.ConfigID=i.ConfigID,n.m_sEntityName=i.m_sEntityName,n.NodeType=i.NodeType,i.m_mapCom.forEach(function(e){var t=u.default.ECSMgr.CreateCom(e.Type);n.m_mapCom.set(e.Type,t),t.Reset(),t.CopyFrom(e)}),n):null},e.prototype.ParseEntityCSV=function(e){for(var t=e.split("\n"),n=new Array,r=0;r<t.length;r++)if(t[r].length){var o=t[r].split(",");if(0==r){n.length=0;for(var a=0;a<o.length;a++)n.push(o[a])}else{var u=Number(o[0]),c=this.m_mapPrefabEntity.get(u);if(null==c)throw new Error("\u627e\u4e0d\u5230\u8be5\u9884\u5236\u4f53\uff0cid=0x"+u.toString(16));for(a=0;a<o.length;a++){var l=String(n[a]),d=Number(o[a]);if(0!=d&&!isNaN(d))switch(l){case i.ID:break;case i.Name:case i.NodeType:case i.Hurt:break;case i.Cost:this.m_mapPlaceCost.set(u,d);break;case i.PlaceCD:this.m_mapPlaceCD.set(u,d);break;case i.Terrain:break;case i.Damage:var p=c.GetComByType(s.ComType.Damage);p&&(p.m_iDamage=d);break;case i.Multiply:var m=c.GetComByType(s.ComType.Damage);m&&(m.m_iMultiply=d);break;case i.Layer:break;case i.HP:var f=c.GetComByType(s.ComType.HP);f&&(f.m_iHP=d);break;case i.ArmorHP:var h=c.GetComByType(s.ComType.HP);h&&(h.m_iArmorHP=d);break;case i.Rule:var y=c.GetComByType(s.ComType.Generator);y&&(y.m_iRule=d);break;case i.ProductID:var _=c.GetComByType(s.ComType.Generator);_&&(_.m_iProductID=d);break;case i.GeneratorCount:var g=c.GetComByType(s.ComType.Generator);g&&(g.m_iGeneratorCount=d);break;case i.AttackCount:var I=c.GetComByType(s.ComType.Generator);I&&(I.m_iGeneratorCount=d);break;case i.SkillCD:var S=c.GetComByType(s.ComType.Generator);S&&(S.m_iSkillCD=d);var T=c.GetComByType(s.ComType.DirectAttack);T&&(T.m_iSkillCD=d);break;case i.Speed:var b=c.GetComByType(s.ComType.Move);b&&(b.m_iSpeed=d);break;case i.TargetType:var C=c.GetComByType(s.ComType.Target);C&&(C.m_iTargetType=d);break;case i.AttackType:var v=c.GetComByType(s.ComType.DirectAttack);v&&(v.m_iAttackType=d);break;case i.CollisionType:var E=c.GetComByType(s.ComType.Collider);E&&(E.m_iColliderType=d);break;default:cc.log(l,"as a key is not find!")}}}}},e.prototype.ParseLvCSV=function(e,t){for(var n=t?this.m_mapStarLvAdditionData:this.m_mapSkillLvAdditionData,i=e.split("\n"),r=(new Array,1);r<i.length;r++)if(i[r].length){var o=i[r].split(","),s=Number(o[0]),a=String(o[1]);if(null==this.m_mapPrefabEntity.get(s))throw new Error("\u627e\u4e0d\u5230\u8be5\u9884\u5236\u4f53,name:"+a+"\uff0cid=0x"+s.toString(16));var u=String(o[2]),c=new Array(15),l=n.get(s);l||(l=new Map,n.set(s,l)),l.set(u,c);for(var d=0;d<15;d++)c[d]=Number(o[3+d])}},e}();n.default=c,function(e){e.ID="ID",e.Name="Name",e.NodeType="NodeType",e.Hurt="Hurt",e.Cost="Cost",e.PlaceCD="PlaceCD",e.Terrain="Terrain",e.Damage="Damage",e.Multiply="Multiply",e.Layer="Layer",e.HP="HP",e.ArmorHP="ArmorHP",e.CollisionType="CollisionType",e.Rule="Rule",e.ProductID="ProductID",e.SkillCD="SkillCD",e.Speed="Speed",e.TargetType="TargetType",e.GeneratorCount="GeneratorCount",e.AttackCount="AttackCount",e.AttackType="AttackType"}(i||(i={})),cc._RF.pop()},{"../Core":"Core","../Define":"Define","../util/ObjectPool":"ObjectPool","./ECSDefine":"ECSDefine","./Entity":"Entity"}],ECSDefine:[function(e,t,n){"use strict";cc._RF.push(t,"5426bNfqcdLq7Ibp3usqcgq","ECSDefine"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.HP=1]="HP",e[e.Collider=2]="Collider",e[e.Move=3]="Move",e[e.Generator=4]="Generator",e[e.Target=8]="Target",e[e.ActionFSM=9]="ActionFSM",e[e.DirectAttack=10]="DirectAttack",e[e.Damage=11]="Damage",e[e.Spine=101]="Spine",e[e.EquipSpine=102]="EquipSpine",e[e.HuoJianShu=1001]="HuoJianShu",e[e.XiaoChouYuShu=1002]="XiaoChouYuShu"}(n.ComType||(n.ComType={})),function(e){e[e.BulletAttackMouse=0]="BulletAttackMouse",e[e.MouseAttackCard=1]="MouseAttackCard",e[e.BulletEnterTerrain=2]="BulletEnterTerrain",e[e.AnimDoAction=4]="AnimDoAction",e[e.SpineAnimSkill=9]="SpineAnimSkill",e[e.HPChange=10]="HPChange",e[e.EquipDropOut=11]="EquipDropOut",e[e.MouseBeHitted=100]="MouseBeHitted"}(n.ECSEventDefine||(n.ECSEventDefine={})),function(e){e.Attack="Attack",e.Attack1="Attack1",e.Attack2="Attack2",e.Attack3="Attack3"}(n.SpineEventDefine||(n.SpineEventDefine={})),function(e){e[e.TargetFrontGrid=0]="TargetFrontGrid",e[e.TargetFrontLine=1]="TargetFrontLine",e[e.TargetFrontThree=2]="TargetFrontThree",e[e.TargetYAxis=3]="TargetYAxis",e[e.TargetXAxis=4]="TargetXAxis",e[e.TargetAll=5]="TargetAll",e[e.TargetAround=6]="TargetAround"}(n.TargetType||(n.TargetType={})),function(e){e[e.Fire=1]="Fire",e[e.Bullet_Normal=100]="Bullet_Normal",e[e.Bullet_Neighbor=101]="Bullet_Neighbor",e[e.Bullet_Three=102]="Bullet_Three",e[e.Bullet_Neighbor_Double=103]="Bullet_Neighbor_Double",e[e.Bullet_Three_Neighbor=104]="Bullet_Three_Neighbor",e[e.Bullet_Three_Double=105]="Bullet_Three_Double",e[e.Effect_ThreeXThree=200]="Effect_ThreeXThree",e[e.Effect_SingleRow=201]="Effect_SingleRow",e[e.Effect_SingleColumn=202]="Effect_SingleColumn",e[e.Effect_Cross=203]="Effect_Cross"}(n.GeneratorRule||(n.GeneratorRule={})),function(e){e[e.Ground=0]="Ground",e[e.UnderGround=1]="UnderGround",e[e.Sky=2]="Sky",e[e.Water=3]="Water",e[e.Ghost=4]="Ghost"}(n.LayerType||(n.LayerType={})),function(e){e[e.TYPE_DEFAULT=1]="TYPE_DEFAULT",e[e.GRID=2]="GRID",e[e.BOOM=3]="BOOM"}(n.AttackType||(n.AttackType={})),cc._RF.pop()},{}],ECSMgr:[function(e,t,n){"use strict";cc._RF.push(t,"a32e7mVvvVL2ptvhPjc3GVW","ECSMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util/ObjectPool"),r=e("./system/HPSys"),o=e("./com/HPCom"),s=e("../Core"),a=e("./com/SpineCom"),u=e("./system/SpineSys"),c=e("./system/ColliderSys"),l=e("./com/ColliderCom"),d=e("./com/MoveCom"),p=e("./system/MoveSys"),m=e("./com/GeneratorCom"),f=e("./system/GeneratorSys"),h=e("./com/ActionFSMCom"),y=e("./system/ActionFSMSys"),_=e("./com/DirectAttackCom"),g=e("./system/DirectAttackSys"),I=e("./system/DamageSys"),S=e("./com/DamageCom"),T=e("./com/TargetCom"),b=e("./system/TargetSys"),C=e("./com/EquipSpineCom"),v=e("./system/EquipSpineSys"),E=e("./fsm/HuoJianShu"),D=e("./fsm/XiaoChouYuShu"),O=function(){function e(){this.m_vEntites=new Array,this.m_vBeAdding=new Array,this.m_vBeRemoving=new Array,this.m_vHanding=new Array,this.m_mapUnuseSystems=new Map,this.m_mapUnuseComs=new Map,this.m_iLowestUnassignedEid=0}return e.prototype.Init=function(){cc.log("ECS::Init()"),this.RegisterSystem(new r.default),this.RegisterCom(new o.default),this.RegisterSystem(new u.default),this.RegisterCom(new a.default),this.RegisterSystem(new c.default),this.RegisterCom(new l.default),this.RegisterSystem(new p.default),this.RegisterCom(new d.default),this.RegisterCom(new m.default),this.RegisterSystem(new f.default),this.RegisterCom(new h.default),this.RegisterSystem(new y.default),this.RegisterSystem(new g.default),this.RegisterCom(new _.default),this.RegisterSystem(new I.default),this.RegisterCom(new S.default),this.RegisterCom(new T.default),this.RegisterSystem(new b.default),this.RegisterCom(new C.default),this.RegisterSystem(new v.default),this.InitMouseCom()},e.prototype.InitMouseCom=function(){this.RegisterCom(new E.HuoJianShuCom),this.RegisterSystem(new E.HuoJianShuSys),this.RegisterCom(new D.XiaoChouYuCom),this.RegisterSystem(new D.XiaoChouYuSys)},e.prototype.GetName=function(){return"ECSMgr"},e.prototype.ClearAddAndRemoveQueue=function(){this.m_vBeAdding.length=0,this.m_vBeRemoving.length=0},e.prototype.RegisterCom=function(e){this.m_mapUnuseComs.has(e.Type)||this.m_mapUnuseComs.set(e.Type,e)},e.prototype.RegisterSystem=function(e){this.m_mapUnuseSystems.set(e.Type,e)},e.prototype.CreateEntity=function(e){var t=this.CreateNewEid(),n=s.default.ECSConfigMgr.CreateEntity(t,e);return n?(this.m_vBeAdding.push(n),n.m_bBeRemoving=!1,n.m_bActive=!1,n):(cc.log("CreateEntity null,,data.m_iConfigID\uff1a",e.m_iConfigID),null)},e.prototype.AddSystems=function(e){var t=this;e.m_mapCom.forEach(function(n){var i=t.AutoAttachingSystem(n.Type,e);i?i.OnLoad():cc.log("Add Sys Error!,System is Null,Sys.Type:"+n.Type+"with configId: 0x"+e.ConfigID.toString(16))})},e.prototype.CreateEntityByEntityData=function(e,t){void 0===t&&(t=-1);var n=this.CreateNewEid(),i=s.default.ECSConfigMgr.CreateEntity(n,e);return i?(this.m_vBeAdding.push(i),i.m_bBeRemoving=!1,i&&(-1==t&&(t=s.default.BattleMgr.m_iMockEntityId++),i.ServerEntityID=t,i.Node.SetGirdPosition(e.m_iGridX,e.m_iGridY,i.NodeType)),this.AddSystems(i),e.Destroy(),i):(cc.log("CreateEntity null,,data.m_iConfigID\uff1a",e.m_iConfigID),null)},e.prototype.CreateNewEid=function(){return++this.m_iLowestUnassignedEid},e.prototype.RemoveEntity=function(e){e&&(s.default.BattleMgr.RemoveEntity(e.ServerEntityID),e.m_bBeRemoving=!0,e.m_bActive=!1,this.m_vBeRemoving.push(e))},e.prototype.CreateCom=function(e){var t=this.m_mapUnuseComs.get(e);if(t)return t.CloneEmpty();throw new Error("Error! \u6ca1\u6709\u6ce8\u518c\u8be5\u7ec4\u4ef6:"+e)},e.prototype.AutoAttachingSystem=function(e,t){var n=this.m_mapUnuseSystems.get(e);if(!t.m_mapSystem.has(e)){var i=n.CloneEmpty();return t.m_mapSystem.set(e,i),i.m_bIsFree=!1,i.m_pOwnEntity=t,i.m_bBeRemoving=!1,i}return null},e.prototype.Tick=function(e,t){var n;this.AddingEntities();for(var i=0,r=this.m_vEntites;i<r.length;i++)(n=r[i]).m_bBeRemoving||n.m_mapSystem.forEach(function(i){n.m_bBeRemoving||i.Enabled&&(s.default.TimeLine.m_bIsGameOver||i.Tick(e,t))});this.RemovingEntities()},e.prototype.Clear=function(){for(var e,t=0,n=this.m_vEntites;t<n.length;t++)e=n[t],this.RemoveEntity(e)},e.prototype.AddComToEntity=function(e,t){return e&&t?t.m_mapCom.has(e.Type)?null:(t.m_mapCom.set(e.Type,e),this.AutoAttachingSystem(e.Type,t)):null},e.prototype.AddingEntities=function(){if(this.m_vBeAdding.length){for(var e in this.m_vHanding=this.m_vBeAdding,this.m_vHanding)this.m_vHanding[e].m_bActive=!0,this.m_vHanding[e].m_mapSystem.forEach(function(e){e.Enabled=!0,e.Start()}),this.m_vHanding[e].ComsChanged(),this.m_vEntites.push(this.m_vHanding[e]);this.m_vHanding.length=0,this.m_vBeAdding.length=0}},e.prototype.RemovingEntities=function(){if(this.m_vBeRemoving.length){for(;this.m_vBeRemoving.length;){var e=this.m_vBeRemoving.pop();e.RemoveAllComs(),e.m_bBeRemoving=!1,e.Destroy();var t=this.m_vEntites.indexOf(e);-1!=t&&(this.m_vEntites[t]=this.m_vEntites[this.m_vEntites.length-1],this.m_vEntites.pop()),e.m_bActive=!1,i.default.CheckIn(e)}this.m_vBeRemoving.length=0}},e}();n.default=O,cc._RF.pop()},{"../Core":"Core","../util/ObjectPool":"ObjectPool","./com/ActionFSMCom":"ActionFSMCom","./com/ColliderCom":"ColliderCom","./com/DamageCom":"DamageCom","./com/DirectAttackCom":"DirectAttackCom","./com/EquipSpineCom":"EquipSpineCom","./com/GeneratorCom":"GeneratorCom","./com/HPCom":"HPCom","./com/MoveCom":"MoveCom","./com/SpineCom":"SpineCom","./com/TargetCom":"TargetCom","./fsm/HuoJianShu":"HuoJianShu","./fsm/XiaoChouYuShu":"XiaoChouYuShu","./system/ActionFSMSys":"ActionFSMSys","./system/ColliderSys":"ColliderSys","./system/DamageSys":"DamageSys","./system/DirectAttackSys":"DirectAttackSys","./system/EquipSpineSys":"EquipSpineSys","./system/GeneratorSys":"GeneratorSys","./system/HPSys":"HPSys","./system/MoveSys":"MoveSys","./system/SpineSys":"SpineSys","./system/TargetSys":"TargetSys"}],EntityData:[function(e,t,n){"use strict";cc._RF.push(t,"b0826ny9yVGFI7rqhbyV0qh","EntityData"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.Destroy=function(){this.m_iConfigID=0,this.m_iGridX=0,this.m_iGridY=0,this.m_iStarLv=0,this.m_iSkillLv=0,this.m_iHPMultiply=100},e}();n.default=i,cc._RF.pop()},{}],Entity:[function(e,t,n){"use strict";cc._RF.push(t,"64b91lskTxBDZtAw8J1wLhj","Entity"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../util/ObjectPool"),r=e("../Core"),o=e("../event/EventMgr"),s=function(){function e(){this.m_iFlag=e.m_iTotal++,this.m_mapSystem=new Map,this.m_mapCom=new Map,this.m_bBeRemoving=!1,this.m_bActive=!1,this.m_stEventListener=new o.default}return e.CreateWithID=function(t){var n=i.default.CheckOut(e);return n.InitWithID(t),n.RegisterNode(),n},e.prototype.InitWithID=function(e){this.m_iEntityID=e},Object.defineProperty(e.prototype,"EntityID",{get:function(){return this.m_iEntityID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ServerEntityID",{get:function(){return this.m_iServerEntityID},set:function(e){this.m_iServerEntityID=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConfigID",{get:function(){return this.m_iConfigID},set:function(e){this.m_iConfigID=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NodeType",{get:function(){return this.m_iNodeType},set:function(e){this.m_iNodeType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Node",{get:function(){return this.m_stBattleNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GridX",{get:function(){return this.m_stBattleNode.GridX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"GridY",{get:function(){return this.m_stBattleNode.GridY},enumerable:!0,configurable:!0}),e.prototype.RemoveCom=function(e){var t=this.m_mapCom.get(e);if(null!=t){var n=this.m_mapSystem.get(e);n.Enabled=!1,n.OnDestroy(),i.default.CheckIn(n),t.Reset(),i.default.CheckIn(t)}this.m_mapCom.delete(e),this.m_mapSystem.delete(e)},e.prototype.RemoveAllComs=function(){var e=new Set;this.m_mapCom.forEach(function(t){e.add(t.Type)});var t=this;e.forEach(function(e){t.RemoveCom(e)})},e.prototype.GetComByType=function(e){return this.m_mapCom.get(Number(e))},e.prototype.GetSysByType=function(e){return this.m_mapSystem.get(Number(e))},e.prototype.ComsChanged=function(){this.m_mapSystem.forEach(function(e){e.OnChangeCom()})},e.prototype.RegisterNode=function(){if(this.m_stBattleNode)throw new Error("\u91cd\u590d\u7ed1\u5b9a\uff01");this.m_stBattleNode=r.default.BattleMgr.CreateBattleNode(),this.m_stBattleNode.BindEntity(this)},e.prototype.BindEvent=function(e,t){this.m_stEventListener.BindEvent(e,t)},e.prototype.UnbindEvent=function(e,t){this.m_stEventListener.UnbindEvent(e,t)},e.prototype.Emit=function(e,t){this.m_stEventListener.Emit(e,t)},e.prototype.Destroy=function(){this.m_stBattleNode&&this.m_stBattleNode.Destroy(),this.m_stBattleNode=null,this.m_stEventListener.Clear(),this.m_iServerEntityID=-1},e.m_iTotal=0,e}();n.default=s,cc._RF.pop()},{"../Core":"Core","../event/EventMgr":"EventMgr","../util/ObjectPool":"ObjectPool"}],EquipSpineCom:[function(e,t,n){"use strict";cc._RF.push(t,"d9764OGsWxPU4HVjk5r0JRu","EquipSpineCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=function(e){function t(){return e.call(this,r.ComType.EquipSpine)||this}return __extends(t,e),t.prototype.ReadFromFile=function(e){this.m_iZIndex=isNaN(e.zIndex)?0:e.zIndex},t.prototype.CopyFrom=function(e){this.m_iZIndex=e.m_iZIndex},t.prototype.Reset=function(){this.m_iZIndex=0},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],EquipSpineSys:[function(e,t,n){"use strict";cc._RF.push(t,"f9741LhUmNElLigPERYH72D","EquipSpineSys"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseSystem"),r=e("../ECSDefine"),o=function(e){function t(){return e.call(this,r.ComType.EquipSpine)||this}return __extends(t,e),t.prototype.OnLoad=function(){this.m_stEquipSpineCom=this.GetCom()},t.prototype.Tick=function(e,t){},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine"}],EventMgr:[function(e,t,n){"use strict";cc._RF.push(t,"f593aUuphVJ7alIqPc/Koyp","EventMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.m_mapEventListener=new Map}return e.prototype.BindEvent=function(e,t){var n=this.m_mapEventListener.get(e);n?-1==n.indexOf(t)&&(cc.log(n),cc.log(t),n.push(t)):(n=new Array,this.m_mapEventListener.set(e,n),n.push(t))},e.prototype.UnbindEvent=function(e,t){var n=this.m_mapEventListener.get(e);if(n){var i=n.indexOf(t);-1!=i&&(n[i]=n[n.length-1],n.length=n.length-1)}},e.prototype.Emit=function(e,t){var n=this.m_mapEventListener.get(e);if(n)for(var i=0,r=n;i<r.length;i++){(0,r[i])(t)}},e.prototype.Clear=function(){this.m_mapEventListener.clear()},e}();n.default=i,cc._RF.pop()},{}],FireNum:[function(e,t,n){"use strict";cc._RF.push(t,"01093h4FJJKwYwNY7nKhGxF","FireNum"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Core"),r=function(){function e(e){this.m_stGameUI=e}return e.prototype.BindNode=function(e){this.m_stNode=e,this.m_stFireNumLabel=this.m_stNode.getChildByName("fire_num").getComponent(cc.Label),this.FireNumChange()},e.prototype.FireNumChange=function(){this.m_stFireNumLabel.string=i.default.BattleMgr.m_iFireNum.toString()},e}();n.default=r,cc._RF.pop()},{"../Core":"Core"}],FirePanelUI:[function(e,t,n){"use strict";cc._RF.push(t,"926e9FM4VdLLYxmuOxSMl8V","FirePanelUI"),Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../Config"),o=e("../Core"),s=e("../Define"),a=cc.Component,u=function(e){function t(t){var n=e.call(this)||this;return n.Init(t),n}return __extends(t,e),t.prototype.Init=function(e){this.m_pGameUI=e,this.m_arrFirePool=new Array,this.m_arrRemoveQueue=new Array,this.m_arrFireNode=new Array;for(var t=0;t<r.default.GRID_MAX_X;t++){this.m_arrFireNode[t]=new Array;for(var n=0;n<r.default.GRID_MAX_Y;n++){var i=new cc.Node;i.width=r.default.GRID_WIDTH,i.height=r.default.GRID_HEIGHT,i.x=(t+.5)*r.default.GRID_WIDTH+r.default.BATTLE_START_X,i.y=(n+.5)*r.default.GRID_HEIGHT+r.default.BATTLE_START_Y,this.m_arrFireNode[t].push(i),this.addChild(i)}}this.anchorX=this.anchorY=0,this.m_pGameUI.m_stNode.addChild(this)},t.prototype.ClearFire=function(){for(var e=0;e<this.m_arrFireNode.length;e++)for(var t=0;t<this.m_arrFireNode[e].length;t++)for(var n=0,r=this.m_arrFireNode[e][t].children;n<r.length;n++){var o=r[n];c.GetTagComponent(o).tag=i.ActionCompleted,this.OnDestroy(o)}},t.prototype.AddSkyFire=function(e){var t=Math.floor(Math.random()*r.default.GRID_MAX_Y)+4,n=Math.floor(Math.random()*r.default.GRID_MAX_Y),o=null;(o=0==this.m_arrFirePool.length?this.CreateFireNode():this.m_arrFirePool.shift())&&(o.name=e.toString(),o.x=40,o.y=r.default.BATTLE_HEIGHT,o.runAction(cc.sequence(cc.moveTo(5,40,-28),cc.scaleTo(16,1,1),cc.callFunc(function(){c.GetTagComponent(o).tag=i.ActionCompleted,this.OnDestroy(o)}.bind(this)))),c.GetTagComponent(o).tag=i.NotTouch,this.m_arrFireNode[t][n].addChild(o))},t.prototype.AddFire=function(e,t,n){var o=null;(o=0==this.m_arrFirePool.length?this.CreateFireNode():this.m_arrFirePool.shift())&&(o.name=e.toString(),o.x=0,o.y=.25*r.default.GRID_HEIGHT,o.scale=.5,o.runAction(cc.scaleTo(.3,1,1)),o.runAction(cc.sequence(cc.moveTo(.25,23,1.25*r.default.GRID_HEIGHT),cc.moveTo(.45,40,-28),cc.scaleTo(16,1,1),cc.callFunc(function(){c.GetTagComponent(o).tag=i.ActionCompleted,this.OnDestroy(o)}.bind(this)))),c.GetTagComponent(o).tag=i.NotTouch,this.m_arrFireNode[t][n].addChild(o))},t.prototype.CreateFireNode=function(){var e=new cc.Node;e.width=103,e.height=103;var t=new cc.Node,n=t.addComponent(sp.Skeleton);return o.default.ResourcesMgr.LoadRes("spineAnim/gameUI/fire/skeleton",s.ResType.SpineRes,function(e){n.skeletonData=e,n.defaultAnimation="fire",n.setAnimation(0,"fire",!0)}.bind(this)),t.x=0,t.y=-7,t.scale=r.default.SPINE_SCALE,e.addChild(t),e.on(cc.Node.EventType.TOUCH_START,this.OnTouchFire,this),e},t.prototype.OnTouchFire=function(e){c.GetTagComponent(e.target).tag==i.NotTouch&&(c.GetTagComponent(e.target).tag=i.Touched,this.m_arrRemoveQueue.push(e.target)),this.removeFire()},t.prototype.OnTouchFireHandler=function(e,t){if(!(e<0||e>=r.default.GRID_MAX_X||t<0||t>=r.default.GRID_MAX_Y)){for(var n=this.m_arrFireNode[e][t].children,o=0;o<n.length;o++)c.GetTagComponent(n[o]).tag==i.NotTouch&&(c.GetTagComponent(n[o]).tag=i.Touched,this.m_arrRemoveQueue.push(n[o]));this.removeFire()}},t.prototype.removeFire=function(){for(var e=function(e){if(c.GetTagComponent(t.m_arrRemoveQueue[e]).tag==i.Touched){c.GetTagComponent(t.m_arrRemoveQueue[e]).tag=i.ActionStart,o.default.BattleMgr.PickFire(Number(t.m_arrRemoveQueue[e].name)),t.m_arrRemoveQueue[e].stopAllActions(),t.m_arrRemoveQueue[e].scale=1;var n=t;t.m_arrRemoveQueue[e].runAction(cc.sequence(cc.moveTo(.5,-t.m_arrRemoveQueue[e].parent.x+t.m_pGameUI.m_stFireNum.m_stNode.x,-t.m_arrRemoveQueue[e].parent.y+t.m_pGameUI.m_stFireNum.m_stNode.y),cc.callFunc(function(e){c.GetTagComponent(e).tag=i.ActionCompleted,n.OnDestroy(e)},t)))}},t=this,n=0;n<this.m_arrRemoveQueue.length;n++)e(n)},t.prototype.OnDestroy=function(e){c.GetTagComponent(e).tag==i.ActionCompleted&&(e.stopAllActions(),this.m_arrFirePool.push(e),e&&e.parent&&e.parent.removeChild(e,!1))},t}(cc.Node);n.default=u,function(e){e[e.None=-1]="None",e[e.NotTouch=0]="NotTouch",e[e.Touched=1]="Touched",e[e.ActionStart=2]="ActionStart",e[e.ActionCompleted=3]="ActionCompleted"}(i||(i={}));var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.GetTagComponent=function(e){var n=e.getComponent(t);return null==n&&((n=e.addComponent(t)).tag=i.None),n},t}(a);n.FireStateTag=c,cc._RF.pop()},{"../Config":"Config","../Core":"Core","../Define":"Define"}],GameInfoMgr:[function(e,t,n){"use strict";cc._RF.push(t,"9508bn9jeVJ5Kmb6DGZICze","GameInfoMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./gameInfo/BattleInfo"),r=function(){function e(){this.m_stBattleInfo=new i.default}return Object.defineProperty(e.prototype,"BattleInfo",{get:function(){return this.m_stBattleInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"UserDetail",{get:function(){return this.m_stUserDetail},enumerable:!0,configurable:!0}),e}();n.default=r,cc._RF.pop()},{"./gameInfo/BattleInfo":"BattleInfo"}],GameStartAnim:[function(e,t,n){"use strict";cc._RF.push(t,"b1f3a85lxdAMaDo7UEGs//J","GameStartAnim"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Core"),r=function(){function e(e){this.m_stGameUI=e}return e.prototype.BindNode=function(e){this.m_stNode=e,this.m_stSpine=this.m_stNode.getComponent(sp.Skeleton),this.m_stNode.active=!1,this.m_stNode.parent&&this.m_stNode.parent.removeChild(this.m_stNode,!1)},e.prototype.Show=function(){this.m_stNode.parent||this.m_stGameUI.m_stNode.addChild(this.m_stNode),this.m_stNode.active=!0,this.m_stSpine.setAnimation(0,"Idle",!1),this.m_stSpine.setCompleteListener(this.Hide.bind(this))},e.prototype.Hide=function(){this.m_stNode.active=!1,i.default.BattleMgr.m_bIsTickStart=!0},e}();n.default=r,cc._RF.pop()},{"../Core":"Core"}],GameState:[function(e,t,n){"use strict";cc._RF.push(t,"940d8g4sB5G3oeg8p67A4ZB","GameState"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./game/InAuthState"),r=function(){function e(){this.HandleInput(new i.default)}return e.prototype.HandleInput=function(e){this.m_stLastState&&this.m_stLastState.Exit(e),this.m_stCurrentState=e,this.m_stCurrentState.HandleInput(this),this.m_stCurrentState.Enter(),this.m_stLastState=e},e.prototype.GetCurrentState=function(){return this.m_stCurrentState},e}();n.default=r,cc._RF.pop()},{"./game/InAuthState":"InAuthState"}],GameUI:[function(e,t,n){"use strict";cc._RF.push(t,"2d50cn0Se1KirAo5yzQ86gh","GameUI"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Core"),r=e("../Define"),o=e("./CardList"),s=e("../Config"),a=e("./VirtualCard"),u=e("./TargetSprite"),c=e("./Chanzi"),l=e("./FirePanelUI"),d=e("./FireNum"),p=e("./PlayerMoveUI"),m=e("./Balance"),f=e("./GameStartAnim"),h=e("./WarningAnim"),y=e("./SettingUI"),_=e("./PlaceCardEffect"),g=e("./BalanceAnim"),I=function(){function e(){this.Init(),this.InitEvent(),this.InitState()}return e.prototype.Init=function(){this.m_stCardList=new o.default(this),this.m_stChanzi=new c.default(this),this.m_stFireNum=new d.default(this),this.m_stBalance=new m.default(this),this.m_stSettingUI=new y.default(this),this.m_stGameStartAnim=new f.default(this),this.m_stWarningAnim=new h.default(this),this.m_stPlaceEffect=new _.default(this),this.m_stBalanceAnim=new g.default(this),i.default.ResourcesMgr.LoadRes("prefab/gameUI/GameUI",r.ResType.Prefab,function(e){this.m_stNode=cc.instantiate(e),cc.find("Canvas").addChild(this.m_stNode),this.m_stNode.x=-640,this.m_stNode.y=-360,this.m_stFireNum.BindNode(this.m_stNode.getChildByName("FireNum")),this.m_stPlayerHead=this.m_stNode.getChildByName("PlayerHead"),this.m_stPlayerHead.active=!0,this.m_stTimeUI=this.m_stNode.getChildByName("TimeUI"),this.m_stBossHp=this.m_stNode.getChildByName("BossHp"),this.m_stBossHp.active=!1,this.m_stSetting=this.m_stNode.getChildByName("Setting"),this.m_stSetting.on(cc.Node.EventType.TOUCH_END,this.ClickSetting.bind(this)),this.m_stCardList.BindNode(this.m_stNode.getChildByName("CardList")),this.m_stCardList.InitView(i.default.BattleMgr.m_arrUseCardId),this.m_stWave=this.m_stNode.getChildByName("Wave"),this.m_stWave.active=!1,this.m_stChanzi.BindNode(this.m_stNode.getChildByName("Chanzi")),this.m_stBalance.BindNode(this.m_stNode.getChildByName("Balance")),this.m_stBalance.Hide(),this.m_stSettingUI.BindNode(this.m_stNode.getChildByName("SettingUI")),this.m_stSettingUI.Hide(),this.m_stGameStartAnim.BindNode(this.m_stNode.getChildByName("GameStart")),this.m_stWarningAnim.BindNode(this.m_stNode.getChildByName("Warning")),this.m_stPlaceEffect.BindNode(this.m_stNode.getChildByName("placeEffect")),this.m_stBalanceAnim.BindNode(this.m_stNode.getChildByName("balanceAnim")),this.m_stVirtualCard=new a.default(this),this.m_stTargetSprite=new u.default(this),this.m_stFirePanelUI=new l.default(this),this.m_stPlayerMoveUI=new p.default(this)}.bind(this)),cc.view.setDesignResolutionSize(1280,720,cc.ResolutionPolicy.EXACT_FIT)},e.prototype.ShowBalanceAnim=function(e,t){this.m_stBalanceAnim.Show(e,t)},e.prototype.UpdateCardCD=function(){this.m_stCardList.UpdateCD()},e.prototype.UpdateCardCost=function(){this.m_stCardList.UpdateCost()},e.prototype.UpdateTimeUI=function(e){this.m_stTimeUI&&(this.m_stTimeUI.getChildByName("m").getComponent(cc.Label).string=Math.floor(e/60).toString(),this.m_stTimeUI.getChildByName("s").getComponent(cc.Label).string=(e%60).toString())},e.prototype.ShowPlaceEffect=function(e,t){this.m_stPlaceEffect.Show(e,t)},e.prototype.ShowWarning=function(){this.m_stWarningAnim.Show()},e.prototype.ShowStartAnim=function(){this.m_stGameStartAnim.Show()},e.prototype.ShowBalance=function(e,t){this.InitOption(),this.m_stSettingUI.Hide(),this.m_stBalance.Show(e,t),this.m_stFirePanelUI.active=!1},e.prototype.FireNumChange=function(){this.m_stFireNum.FireNumChange()},e.prototype.AddSkyFire=function(e){this.m_stFirePanelUI.AddSkyFire(e)},e.prototype.AddFire=function(e,t,n){this.m_stFirePanelUI.AddFire(e,t,n)},e.prototype.Show=function(){this.m_stNode.active=!0,this.m_stFirePanelUI.active=!0},e.prototype.Hide=function(){this.m_stNode.active=!1},e.prototype.InitOption=function(){this.m_iCardId=-1,this.m_iCurrentOptionState=S.useNull,this.m_stCardList.m_stCurrentChoose.active=!1,this.m_stChanzi.UnUseChanzi()},e.prototype.ClickSetting=function(){this.m_iCurrentOptionState!=S.usePlayer&&(cc.director.pause(),this.m_stSettingUI.Show(),this.m_stFirePanelUI.active=!1)},e.prototype.InitEvent=function(){this.m_stBattleTouch=new T,this.m_stBattleTouch.SetNode(this.m_stNode),this.m_stBattleMouse=new b,this.m_stBattleMouse.SetNode(this.m_stNode),this.m_stNode.on(cc.Node.EventType.TOUCH_CANCEL,this.OnTouchEndHandler,this),this.m_stNode.on(cc.Node.EventType.TOUCH_END,this.OnTouchEndHandler,this),s.default.IsOnlyClient?(this.m_stNode.on(cc.Node.EventType.MOUSE_MOVE,this.OnMouseMoveHandler,this),this.m_stNode.on(cc.Node.EventType.TOUCH_MOVE,this.OnTouchMoveHandler,this)):this.m_stNode.on(cc.Node.EventType.TOUCH_MOVE,this.OnTouchMoveHandler,this)},e.prototype.OnMouseMoveHandler=function(e){this.m_stBattleMouse.Init(e);for(var t=this.m_stBattleMouse.gridX-1;t<this.m_stBattleMouse.gridX+1;t++)for(var n=this.m_stBattleMouse.gridY-1;n<this.m_stBattleMouse.gridY+1;n++)this.m_stFirePanelUI.OnTouchFireHandler(t,n);this.m_iCurrentOptionState!=S.useNull&&(this.m_iCardId&&this.m_stVirtualCard.Show(this.m_iCardId),this.m_stVirtualCard.SetPos(this.m_stBattleMouse.locationX-this.m_stBattleMouse.offsetX,this.m_stBattleMouse.locationY-this.m_stBattleMouse.offsetY),this.m_stBattleMouse.gridX>=0&&this.m_stBattleMouse.gridX<s.default.GRID_MAX_X&&this.m_stBattleMouse.gridY>=0&&this.m_stBattleMouse.gridY<s.default.GRID_MAX_Y?(this.m_iCurrentOptionState==S.usePlayer&&this.m_stPlayerMoveUI.SetPos(this.m_stBattleMouse.gridX,this.m_stBattleMouse.gridY),this.m_stTargetSprite.Show(this.m_stBattleMouse.gridX,this.m_stBattleMouse.gridY),i.default.BattleMgr.GetFieldView().DrawXY(this.m_stBattleMouse.gridX,this.m_stBattleMouse.gridY)):(this.m_stTargetSprite.Hide(),i.default.BattleMgr.GetFieldView().Clear()),this.m_iCurrentOptionState==S.useChanziMove||this.m_iCurrentOptionState==S.useChanziTouch?this.m_stTargetSprite.SetColor(!0):this.m_stTargetSprite.SetColor(!1))},e.prototype.OnTouchMoveHandler=function(e){this.m_stBattleTouch.Init(e);for(var t=this.m_stBattleTouch.gridX-1;t<this.m_stBattleTouch.gridX+1;t++)for(var n=this.m_stBattleTouch.gridY-1;n<this.m_stBattleTouch.gridY+1;n++)this.m_stFirePanelUI.OnTouchFireHandler(t,n);this.m_iCurrentOptionState!=S.useNull&&(this.m_stVirtualCard.Show(this.m_iCardId),this.m_stVirtualCard.SetPos(this.m_stBattleTouch.locationX-this.m_stBattleTouch.offsetX,this.m_stBattleTouch.locationY-this.m_stBattleTouch.offsetY),this.m_stBattleTouch.gridX>=0&&this.m_stBattleTouch.gridX<s.default.GRID_MAX_X&&this.m_stBattleTouch.gridY>=0&&this.m_stBattleTouch.gridY<s.default.GRID_MAX_Y?(this.m_iCurrentOptionState==S.usePlayer&&this.m_stPlayerMoveUI.SetPos(this.m_stBattleTouch.gridX,this.m_stBattleTouch.gridY),this.m_stTargetSprite.Show(this.m_stBattleTouch.gridX,this.m_stBattleTouch.gridY),i.default.BattleMgr.GetFieldView().DrawXY(this.m_stBattleTouch.gridX,this.m_stBattleTouch.gridY)):(this.m_stTargetSprite.Hide(),i.default.BattleMgr.GetFieldView().Clear()),this.m_iCurrentOptionState==S.useChanziMove||this.m_iCurrentOptionState==S.useChanziTouch?this.m_stTargetSprite.SetColor(!0):this.m_stTargetSprite.SetColor(!1))},e.prototype.OnTouchEndHandler=function(e){if(i.default.BattleMgr.GetFieldView().Clear(),this.m_stVirtualCard.Hide(),this.m_stTargetSprite.Hide(),this.m_stBattleTouch.Init(e),this.m_stBattleTouch.gridX>=0&&this.m_stBattleTouch.gridX<s.default.GRID_MAX_X&&this.m_stBattleTouch.gridY>=0&&this.m_stBattleTouch.gridY<s.default.GRID_MAX_Y)switch(this.m_stCardList.m_stCurrentChoose.active=!1,this.m_iCurrentOptionState){case S.useCardsMove:case S.useCardsTouch:i.default.BattleMgr.PlaceDefender(this.m_stBattleTouch.gridX,this.m_stBattleTouch.gridY,this.m_iCardId),this.m_iCardId=-1,this.m_iCurrentOptionState=S.useNull;break;case S.useChanziMove:case S.useChanziTouch:this.m_stChanzi.PlayChanzi(this.m_stBattleTouch.gridX,this.m_stBattleTouch.gridY),this.m_iCurrentOptionState=S.useNull,this.InitOption();break;case S.usePlayer:i.default.BattleMgr.PlaceRole(this.m_stBattleTouch.gridX,this.m_stBattleTouch.gridY)}},e.prototype.ShowDamage=function(e,t){var n=new cc.Node;n.addComponent(cc.Label).string="-".concat(t.toString());var r=i.default.BattleMgr.m_mapShootPointList.get(e.ConfigID);n.x=s.default.BATTLE_START_X+e.Node.x+r[0].x,n.y=s.default.BATTLE_START_Y+e.Node.y+r[0].y,this.m_stNode.addChild(n);var o=cc.sequence(cc.moveTo(.5,new cc.Vec2(n.x,n.y+100)),cc.fadeOut(.5),cc.callFunc(function(){n.destroy()}));n.runAction(o)},e.prototype.ShowPlayerMoveUI=function(e,t,n){this.m_stPlayerMoveUI.InitView(e,t,n)},e.prototype.RemovePlayerMoveUI=function(){this.m_stPlayerMoveUI.Hide()},e.prototype.UpdatePlayerMoveUI=function(){this.m_stPlayerMoveUI.UpdateView()},e.prototype.InitState=function(){this.m_iCurrentOptionState=S.useNull},e}();n.default=I;var S,T=function(){function e(){}return e.prototype.SetNode=function(e){this.m_stNode=e},e.prototype.Init=function(e){this.m_iLocationX=e.touch.getLocation().x,this.m_iLocationY=e.touch.getLocation().y,this.m_iOffsetX=cc.winSize.width-this.m_stNode.width>>1,this.m_iOffsetY=cc.winSize.height-this.m_stNode.height>>1,this.m_iTargetX=this.m_iLocationX-this.m_iOffsetX-s.default.BATTLE_START_X,this.m_iTargetY=this.m_iLocationY-this.m_iOffsetY-s.default.BATTLE_START_Y,this.m_iGridX=Math.floor(this.targetX/s.default.GRID_WIDTH),this.m_iGridY=Math.floor(this.targetY/s.default.GRID_HEIGHT)},Object.defineProperty(e.prototype,"targetX",{get:function(){return this.m_iTargetX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetY",{get:function(){return this.m_iTargetY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationX",{get:function(){return this.m_iLocationX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationY",{get:function(){return this.m_iLocationY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.m_iOffsetX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.m_iOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridX",{get:function(){return this.m_iGridX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridY",{get:function(){return this.m_iGridY},enumerable:!0,configurable:!0}),e}(),b=function(){function e(){}return e.prototype.SetNode=function(e){this.m_stNode=e},e.prototype.Init=function(e){this.m_iLocationX=e.getLocation().x,this.m_iLocationY=e.getLocation().y,this.m_iOffsetX=cc.winSize.width-this.m_stNode.width>>1,this.m_iOffsetY=cc.winSize.height-this.m_stNode.height>>1,this.m_iTargetX=this.m_iLocationX-this.m_iOffsetX-s.default.BATTLE_START_X,this.m_iTargetY=this.m_iLocationY-this.m_iOffsetY-s.default.BATTLE_START_Y,this.m_iGridX=Math.floor(this.targetX/s.default.GRID_WIDTH),this.m_iGridY=Math.floor(this.targetY/s.default.GRID_HEIGHT)},Object.defineProperty(e.prototype,"targetX",{get:function(){return this.m_iTargetX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetY",{get:function(){return this.m_iTargetY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationX",{get:function(){return this.m_iLocationX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locationY",{get:function(){return this.m_iLocationY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.m_iOffsetX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.m_iOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridX",{get:function(){return this.m_iGridX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridY",{get:function(){return this.m_iGridY},enumerable:!0,configurable:!0}),e}();(function(e){e[e.useNull=0]="useNull",e[e.usePlayer=1]="usePlayer",e[e.useCardsMove=2]="useCardsMove",e[e.useCardsTouch=3]="useCardsTouch",e[e.useChanziMove=4]="useChanziMove",e[e.useChanziTouch=5]="useChanziTouch"})(S=n.OptionState||(n.OptionState={})),cc._RF.pop()},{"../Config":"Config","../Core":"Core","../Define":"Define","./Balance":"Balance","./BalanceAnim":"BalanceAnim","./CardList":"CardList","./Chanzi":"Chanzi","./FireNum":"FireNum","./FirePanelUI":"FirePanelUI","./GameStartAnim":"GameStartAnim","./PlaceCardEffect":"PlaceCardEffect","./PlayerMoveUI":"PlayerMoveUI","./SettingUI":"SettingUI","./TargetSprite":"TargetSprite","./VirtualCard":"VirtualCard","./WarningAnim":"WarningAnim"}],GeneratorCom:[function(e,t,n){"use strict";cc._RF.push(t,"e9436ZHy5RNw6semn4VRu6w","GeneratorCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=function(e){function t(){var t=e.call(this,r.ComType.Generator)||this;return t.m_iRule=0,t.m_iSkillCD=0,t.m_iProductID=0,t.m_iGeneratorCount=Number.MAX_VALUE,t}return __extends(t,e),t.prototype.ReadFromFile=function(e){},t.prototype.CopyFrom=function(e){this.m_iRule=e.m_iRule,this.m_iSkillCD=e.m_iSkillCD,this.m_iProductID=e.m_iProductID,this.m_iGeneratorCount=e.m_iGeneratorCount},t.prototype.Reset=function(){this.m_iRule=0,this.m_iSkillCD=0,this.m_iProductID=0,this.m_iGeneratorCount=Number.MAX_VALUE},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],GeneratorSys:[function(e,t,n){"use strict";cc._RF.push(t,"d3c87CdxVhC7K0LHqp2kUiT","GeneratorSys"),Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../BaseSystem"),o=e("../ECSDefine"),s=e("../../Core"),a=e("../../Config"),u=e("../../Define"),c=e("../../../proto/msg"),l=e("../EntityData"),d=e("../../util/ObjectPool"),p=function(e){function t(){var t=e.call(this,o.ComType.Generator)||this;return t.LATE_TIME=198,t.m_arrLateLaunch=new Array,t.m_iLaunchTime=0,t}return __extends(t,e),t.prototype.OnLoad=function(){this.m_stGeneratorCom=this.GetCom(),this.m_iLaunchStatus=i.LaunchIDLE,this.m_pOwnEntity.NodeType==u.NodeType.Card&&this.m_pOwnEntity.BindEvent(o.ECSEventDefine.AnimDoAction,this.LaunchBuildup.bind(this))},t.prototype.OnChangeCom=function(){this.m_stTargetSys=this.GetSysByType(o.ComType.Target),this.m_stActionFSMCom=this.GetComByType(o.ComType.ActionFSM)},t.prototype.Tick=function(e,t){if(t*=1e3,this.m_iLaunchTime+=t,(this.m_stTargetSys&&this.m_stTargetSys.HasTarget()||null==this.m_stTargetSys)&&i.LaunchIDLE==this.m_iLaunchStatus&&this.m_iLaunchTime>33)return this.m_iLaunchTime=0,this.m_iLaunchStatus=i.LaunchBuildup,void(this.m_stActionFSMCom.m_iNextAction=c.EntityAction.CREATE);i.LaunchGenerator==this.m_iLaunchStatus?(this.m_iLaunchStatus=i.launchSpace,this.m_stActionFSMCom.m_iNextAction=c.EntityAction.IDLE):i.launchSpace==this.m_iLaunchStatus&&(this.m_iLaunchTime>this.m_iLateLaunchTime&&this.LateLaunch(),this.m_iLaunchTime>=this.m_stGeneratorCom.m_iSkillCD&&(this.LateLaunch(),this.m_iLaunchStatus=i.LaunchIDLE,this.m_iLaunchTime=0,this.m_stGeneratorCom.m_iGeneratorCount--,this.m_stGeneratorCom.m_iGeneratorCount<=0&&(this.m_stActionFSMCom.m_iNextAction=c.EntityAction.DIE)))},t.prototype.LaunchBuildup=function(){this.Generator(),this.m_iLateLaunchTime=this.m_iLaunchTime+this.LATE_TIME,this.m_iLaunchStatus=i.LaunchGenerator},t.prototype.LateLaunch=function(){if(this.m_arrLateLaunch.length>0){for(var e=0,t=this.m_arrLateLaunch;e<t.length;e++){var n=t[e];this.Launch(n[0],n[1])}this.m_arrLateLaunch.length=0}},t.prototype.Generator=function(){if(this.m_stGeneratorCom.m_iRule!=o.GeneratorRule.Fire){!1;var e=s.default.BattleMgr.m_mapShootPointList.get(this.m_pOwnEntity.ConfigID);if(e)switch(this.m_stGeneratorCom.m_iRule){case o.GeneratorRule.Bullet_Normal:this.Launch(e[0].x,e[0].y),this.PushLateLaunch(e[0].x,e[0].y);break;case o.GeneratorRule.Bullet_Neighbor:this.Launch(e[0].x,e[0].y-1),this.PushLateLaunch(e[1].x,e[1].y);break;case o.GeneratorRule.Bullet_Three:this.Launch(e[1].x,e[1].x),this.Launch(e[0].x,e[0].x),this.Launch(e[2].x,e[2].x);break;case o.GeneratorRule.Bullet_Neighbor_Double:this.Launch(e[1].x,e[1].x),this.Launch(e[0].x,e[0].x),this.Launch(e[2].x,e[2].x),this.PushLateLaunch(e[0].x,e[0].x);break;case o.GeneratorRule.Bullet_Three_Neighbor:this.Launch(e[1].x,e[1].x),this.Launch(e[0].x,e[0].x),this.Launch(e[2].x,e[2].x),this.PushLateLaunch(e[1].x,e[1].x),this.PushLateLaunch(e[2].x,e[2].x);break;case o.GeneratorRule.Bullet_Three_Double:this.Launch(e[1].x,e[1].x),this.Launch(e[0].x,e[0].x),this.Launch(e[2].x,e[2].x),this.PushLateLaunch(e[1].x,e[1].x),this.PushLateLaunch(e[0].x,e[0].x),this.PushLateLaunch(e[2].x,e[2].x);break;case o.GeneratorRule.Effect_SingleRow:for(var t=0;t<a.default.GRID_MAX_X;t++)this.CreateBoomEffect(t,this.m_pOwnEntity.Node.GridY);s.default.AudioMgr.PlaySound("card_boom_1");break;case o.GeneratorRule.Fire:default:throw new Error("\u8be5\u751f\u6210\u89c4\u5219\u672a\u5b9a\u4e49\uff1a"+this.m_stGeneratorCom.m_iRule)}}else this.GenerateFire()},t.prototype.GenerateFire=function(){if(a.default.IsOnlyClient)s.default.BattleMgr.GameUI.AddFire(s.default.BattleMgr.m_iClientFireId++,this.Node.GridX,this.Node.GridY);else{var e=s.default.BattleMgr.m_mapFireIdList.get(this.m_pOwnEntity.ServerEntityID);e&&e.length&&s.default.BattleMgr.GameUI.AddFire(e.shift(),this.Node.GridX,this.Node.GridY)}},t.prototype.PushLateLaunch=function(e,t){this.m_arrLateLaunch.push([e,t])},t.prototype.CreateBoomEffect=function(e,t){var n=d.default.CheckOut(l.default);n.m_iConfigID=this.m_stGeneratorCom.m_iProductID,n.m_iGridX=e,n.m_iGridY=t;var i=s.default.ECSMgr.CreateEntityByEntityData(n),r=this.m_pOwnEntity.GetComByType(o.ComType.Damage);if(r){var a=i.GetComByType(o.ComType.Damage);a&&(a.Reset(),a.CopyFrom(r))}s.default.AudioMgr.PlaySound("card_fire")},t.prototype.Launch=function(e,t){var n=d.default.CheckOut(l.default);n.m_iConfigID=this.m_stGeneratorCom.m_iProductID,n.m_iGridX=this.Node.GridX,n.m_iGridY=this.Node.GridY;var i=s.default.ECSMgr.CreateEntityByEntityData(n);if(i.Node.x=this.Node.x+e*a.default.SPINE_SCALE,i.Node.y=this.Node.y+t*a.default.SPINE_SCALE,i.Node.GridX!=this.Node.GridX){var r=i.GetComByType(o.ComType.Move);0!=r.m_iSpeed&&(i.Node.x+=-r.m_iSpeed/Math.abs(r.m_iSpeed)*a.default.BULLET_OFFSET_X)}var u=this.m_pOwnEntity.GetComByType(o.ComType.Damage);if(u){var c=i.GetComByType(o.ComType.Damage);c&&(c.Reset(),c.CopyFrom(u))}s.default.AudioMgr.PlaySound("card_shot_1")},t.prototype.OnDestroy=function(){this.m_arrLateLaunch.length=0},t}(r.default);n.default=p,function(e){e[e.LaunchIDLE=0]="LaunchIDLE",e[e.LaunchBuildup=1]="LaunchBuildup",e[e.LaunchGenerator=2]="LaunchGenerator",e[e.launchSpace=3]="launchSpace"}(i||(i={})),cc._RF.pop()},{"../../../proto/msg":"msg","../../Config":"Config","../../Core":"Core","../../Define":"Define","../../util/ObjectPool":"ObjectPool","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine","../EntityData":"EntityData"}],HPCom:[function(e,t,n){"use strict";cc._RF.push(t,"55fdcAmHodHg4DWE20WQqhe","HPCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=function(e){function t(){return e.call(this,r.ComType.HP)||this}return __extends(t,e),t.prototype.ReadFromFile=function(e){},t.prototype.CopyFrom=function(e){this.m_iHP=e.m_iHP,this.m_iMaxHP=e.m_iHP,this.m_iArmorHP=e.m_iArmorHP,this.m_iMaxArmorHP=e.m_iArmorHP},t.prototype.Reset=function(){this.m_iHP=0,this.m_iMaxHP=0,this.m_iArmorHP=0,this.m_iMaxArmorHP=0},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],HPSys:[function(e,t,n){"use strict";cc._RF.push(t,"20a3aQW+cBIzptbRaWBxQKf","HPSys"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseSystem"),r=e("../../Core"),o=e("../ECSDefine"),s=e("../../../proto/msg"),a=e("../../Define"),u=function(e){function t(){return e.call(this,o.ComType.HP)||this}return __extends(t,e),t.prototype.OnLoad=function(){this.m_stHPCom=this.GetCom()},t.prototype.Tick=function(e,t){},t.prototype.OnChangeCom=function(){this.m_stActionFSMCom=this.GetComByType(o.ComType.ActionFSM)},t.prototype.Attack=function(e,t){void 0===t&&(t=1);var n=e.m_iDamage*e.m_iMultiply/100>>0;if(o.AttackType.TYPE_DEFAULT==t&&this.m_stHPCom.m_iMaxArmorHP>0&&this.m_stHPCom.m_iArmorHP>0)this.m_stHPCom.m_iArmorHP-=n,this.m_stHPCom.m_iArmorHP<=0?this.m_pOwnEntity.Emit(o.ECSEventDefine.EquipDropOut,null):this.m_stHPCom.m_iArmorHP<.35*this.m_stHPCom.m_iMaxArmorHP?this.m_stActionFSMCom.m_iNextEquipSkin=s.EntityHealthy.DYING:this.m_stHPCom.m_iArmorHP<.7*this.m_stHPCom.m_iMaxArmorHP&&(this.m_stActionFSMCom.m_iNextEquipSkin=s.EntityHealthy.WOUNDED);else if(this.m_stHPCom.m_iHP-=n,this.m_stHPCom.m_iHP<=0){var i=s.InfRemoveEntity.create();i.removeType=t==o.AttackType.BOOM?s.EntityRemoveType.FireBoomDie:s.EntityRemoveType.Die,i.entityID=this.m_pOwnEntity.ServerEntityID,r.default.TimeLine.m_bIsGameOver||r.default.EventMgr.Emit(s.CSProtoID.INF_REMOVE_ENTITY,i)}else this.m_stHPCom.m_iHP<.35*this.m_stHPCom.m_iMaxHP?this.m_stActionFSMCom.m_iNextSkin=s.EntityHealthy.DYING:this.m_stHPCom.m_iHP<.7*this.m_stHPCom.m_iMaxHP&&(this.m_stActionFSMCom.m_iNextSkin=s.EntityHealthy.WOUNDED);this.m_pOwnEntity.NodeType==a.NodeType.Mouse&&this.m_pOwnEntity.Emit(o.ECSEventDefine.MouseBeHitted,null)},t}(i.default);n.default=u,cc._RF.pop()},{"../../../proto/msg":"msg","../../Core":"Core","../../Define":"Define","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine"}],HuoJianShu:[function(e,t,n){"use strict";cc._RF.push(t,"45113+ELilIq4Du6TphWyQF","HuoJianShu"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../BaseSystem"),o=e("../ECSDefine"),s=e("../system/SpineSys"),a=e("../../../proto/msg"),u=e("../../Config"),c=e("../../Core"),l=e("../../Define"),d=function(e){function t(){return e.call(this,o.ComType.HuoJianShu)||this}return __extends(t,e),t.prototype.ReadFromFile=function(e){},t.prototype.CopyFrom=function(e){},t.prototype.Reset=function(){},t}(i.default);n.HuoJianShuCom=d;var p=function(e){function t(){var t=e.call(this,o.ComType.HuoJianShu)||this;return t.m_stMouseFSM=new f,t}return __extends(t,e),t.prototype.OnLoad=function(){},t.prototype.Start=function(){this.m_stMouseFSM.Init(this.m_pOwnEntity),this.m_stMouseFSM.InputStatus(new h)},t.prototype.Tick=function(e,t){this.m_stHPCom.m_iHP>0?this.m_stMouseFSM.GetCurrentState().Tick(t):(this.GetSysByType(o.ComType.HP).Enabled=!0,this.GetSysByType(o.ComType.HP).Tick(e,t))},t.prototype.OnChangeCom=function(){this.m_stHPCom=this.m_pOwnEntity.GetComByType(o.ComType.HP)},t}(r.default);n.HuoJianShuSys=p;var m,f=function(){function e(){}return e.prototype.Init=function(e){this.m_pEntity=e,this.m_bHasEquip=!0,this.m_stActionFSMCom=e.GetComByType(o.ComType.ActionFSM),this.m_stTargetSys=e.GetSysByType(o.ComType.Target),this.m_stSpineSys=e.GetSysByType(o.ComType.Spine),this.m_stHPCom=e.GetComByType(o.ComType.HP),this.m_stMoveCom=e.GetComByType(o.ComType.Move),this.m_stDirectAttackSys=e.GetSysByType(o.ComType.DirectAttack),this.m_stDirectAttackSys.Enabled=!1,e.GetSysByType(o.ComType.Move).Enabled=!1,this.m_iJumpGridX=-1},e.prototype.InputStatus=function(e){this.m_stLastState=this.m_stCurrentState,this.m_stLastState&&this.m_stLastState.Exit(e),this.m_stCurrentState=e,this.m_stCurrentState.HandleInput(this),this.m_stCurrentState.Enter()},e.prototype.GetCurrentState=function(){return this.m_stCurrentState},e}();(function(e){e[e.IDLE=0]="IDLE",e[e.JUMP=1]="JUMP",e[e.WALK=2]="WALK",e[e.POSTATTACK=3]="POSTATTACK",e[e.ATTACK=4]="ATTACK",e[e.PREATTACK=5]="PREATTACK",e[e.DIE=6]="DIE"})(m||(m={}));var h=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){this.m_stFSM.m_stDirectAttackSys.Enabled=!1},e.prototype.Tick=function(e){this.m_stFSM.m_stTargetSys.HasTarget()&&this.m_stFSM.m_bHasEquip?this.m_stFSM.InputStatus(new y):this.m_stFSM.m_stTargetSys.HasTarget()?this.m_stFSM.InputStatus(new g):this.m_stFSM.InputStatus(new _)},e.prototype.Exit=function(e){},e}(),y=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){this.m_stFSM.m_pEntity.GetSysByType(o.ComType.HP).Enabled=!1;var e=this;this.m_stFSM.m_iJumpGridX=this.m_stFSM.m_pEntity.Node.GridX,this.m_stFSM.m_stSpineSys.PlayAnim(s.AnimName.Skill,!1,function(){e.m_stFSM.m_bHasEquip=!1,e.m_stFSM.InputStatus(new h),e.m_stFSM.m_pEntity.Emit(o.ECSEventDefine.EquipDropOut,null)}),this.m_stFSM.m_stSpineSys.PlayEqAnim(s.AnimName.Skill+s.EquipSuffix.Eq,null),this.m_stFSM.m_stSpineSys.PlayEffectAnim(s.AnimName.AttackEffect_Jet)},e.prototype.Tick=function(e){this.m_stFSM.m_iJumpGridX==this.m_stFSM.m_pEntity.Node.GridX?this.m_stFSM.m_pEntity.Node.x-=e/33*2*u.default.GRID_WIDTH/60*1e3:this.m_stFSM.m_pEntity.Node.x-=e/33*1*u.default.GRID_WIDTH/60*1e3},e.prototype.Exit=function(e){this.m_stFSM.m_pEntity.GetSysByType(o.ComType.HP).Enabled=!0,this.m_stFSM.m_bHasEquip=!1},e}(),_=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){this.m_stFSM.m_stSpineSys.PlayAnim(s.AnimName.Walk,!0,null),this.m_stFSM.m_bHasEquip&&this.m_stFSM.m_stSpineSys.PlayEqAnim(s.AnimName.Walk+s.EquipSuffix.Eq,null)},e.prototype.Tick=function(e){var t=this.m_stFSM.m_stMoveCom.m_iSpeed*e*u.default.GAME_FPS;this.m_stFSM.m_pEntity.Node.x+=t>u.default.GRID_WIDTH?u.default.GRID_WIDTH-1:t,this.m_stFSM.m_stTargetSys.HasTarget()&&this.m_stFSM.m_bHasEquip?this.m_stFSM.InputStatus(new y):this.m_stFSM.m_stTargetSys.HasTarget()&&this.m_stFSM.InputStatus(new g),this.m_stFSM.m_pEntity.Node.x>u.default.BATTLE_WIDTH&&c.default.ECSMgr.RemoveEntity(this.m_stFSM.m_pEntity),this.m_stFSM.m_pEntity.Node.x<0&&this.m_stFSM.m_pEntity.NodeType==l.NodeType.Mouse&&(c.default.BattleMgr.m_iOverX=this.m_stFSM.m_pEntity.Node.GridX-.5,c.default.BattleMgr.m_iOverY=this.m_stFSM.m_pEntity.Node.GridY,c.default.TimeLine.GameOver())},e.prototype.Exit=function(e){},e}(),g=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){var e=this;this.m_stFSM.m_stSpineSys.PlayAnim(s.AnimName.PreAttack,!1,function(){e.m_stFSM.InputStatus(new I)})},e.prototype.Tick=function(e){},e.prototype.Exit=function(e){},e}(),I=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){this.m_stFSM.m_stSpineSys.PlayAnim(s.AnimName.Attack,!0,null)},e.prototype.Tick=function(e){!this.m_stFSM.m_stTargetSys.HasTarget()||this.m_stFSM.m_stHPCom.m_iHP<=0?this.m_stFSM.InputStatus(new S):this.m_stFSM.m_stActionFSMCom.m_iNextAction=a.EntityAction.ATTACK},e.prototype.Exit=function(e){},e}(),S=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){cc.log("enter PostAttack!");var e=this;this.m_stFSM.m_stSpineSys.PlayAnim(s.AnimName.PostAttack,!1,function(){e.m_stFSM.m_stHPCom.m_iHP>0&&e.m_stFSM.InputStatus(new h)})},e.prototype.Tick=function(e){},e.prototype.Exit=function(e){},e}();cc._RF.pop()},{"../../../proto/msg":"msg","../../Config":"Config","../../Core":"Core","../../Define":"Define","../BaseCom":"BaseCom","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine","../system/SpineSys":"SpineSys"}],ICom:[function(e,t,n){"use strict";cc._RF.push(t,"6fe22dZ6pZDrK03YlN8Wyuf","ICom"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],IFSM:[function(e,t,n){"use strict";cc._RF.push(t,"ce6933xWd1PFJJzyaEXDPg8","IFSM"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],IState:[function(e,t,n){"use strict";cc._RF.push(t,"e580fXn/xhIY7uEYfGWwL/b","IState"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],ISystem:[function(e,t,n){"use strict";cc._RF.push(t,"30af5ftMaRGFZ0fLKki1whF","ISystem"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],ITick:[function(e,t,n){"use strict";cc._RF.push(t,"20415fKf1JBs4BnlJOW098n","ITick"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],InAuthState:[function(e,t,n){"use strict";cc._RF.push(t,"03302sdcz5Nx5PgwTu/V121","InAuthState"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Define"),r=function(){function e(){}return e.prototype.HandleInput=function(e){return this.m_stGameState=e,null},e.prototype.Enter=function(){cc.director.loadScene(i.SceneType.LoginScene)},e.prototype.Tick=function(e){},e.prototype.Exit=function(e){},e}();n.default=r,cc._RF.pop()},{"../../Define":"Define"}],InGameState:[function(e,t,n){"use strict";cc._RF.push(t,"0a1efcfotBCYJK9+Z1tAAII","InGameState"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Define"),r=function(){function e(){}return e.prototype.HandleInput=function(e){return null},e.prototype.Enter=function(){cc.director.loadScene(i.SceneType.BattleScene)},e.prototype.Tick=function(e){},e.prototype.Exit=function(e){},e}();n.default=r,cc._RF.pop()},{"../../Define":"Define"}],InLobbyState:[function(e,t,n){"use strict";cc._RF.push(t,"12aabL/qnFI8qa740119l4A","InLobbyState"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../Define"),r=function(){function e(){}return e.prototype.HandleInput=function(e){return null},e.prototype.Enter=function(){cc.director.loadScene(i.SceneType.LobbyScene)},e.prototype.Tick=function(e){},e.prototype.Exit=function(e){},e}();n.default=r,cc._RF.pop()},{"../../Define":"Define"}],LeftMenu:[function(e,t,n){"use strict";cc._RF.push(t,"a36d6BS2DpDSKxNS6PlJNcP","LeftMenu"),Object.defineProperty(n,"__esModule",{value:!0});var i=e(".././BaseUI"),r=e(".././UIMgr"),o=e("../../Core"),s=function(e){function t(){var t=e.call(this,r.UIType.Fixed,r.UIShowMode.Normal,r.UILucenyType.Lucency)||this;return t.UIName=r.UIName.LeftMenu,t}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.UINode.getChildByName("New Sprite(Splash)").on(cc.Node.EventType.TOUCH_END,function(){o.default.UIMgr.CloseUI(this.UIName)}.bind(this))},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core",".././BaseUI":"BaseUI",".././UIMgr":"UIMgr"}],LoadingUI:[function(e,t,n){"use strict";cc._RF.push(t,"6d6e1fbI5lMdrSSihzhnAcn","LoadingUI"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.Init()}return e.prototype.Init=function(){cc.loader.loadRes("prefab/LoadingUI",function(e,t){e?cc.error("Loading prefabs/LoadingUI failed."):(this.m_stLoadingNode=cc.instantiate(t),this.m_bInit=!0,this.InitView())}.bind(this)),this.m_iTotalProgress=0},e.prototype.LoadScene=function(e,t,n){this.m_iProgress=0,this.m_iCurrentProgress=0,this.m_stLoadingNode.active=!0,cc.director.loadScene(e,function(){t(e)}),this.m_stLoadText.node.runAction(cc.sequence(cc.callFunc(function(){this.m_iCurrentProgress<this.m_iProgress&&this.m_iCurrentProgress++,this.m_stLoadText.string="\u6b63\u5728\u52a0\u8f7d\uff1a("+this.m_iCurrentProgress.toString()+"/"+this.m_iTotalProgress.toString()+")",this.m_iCurrentProgress&&this.m_iCurrentProgress>=this.m_iTotalProgress&&(this.m_stLoadText.node.stopAllActions(),n())},this),cc.delayTime(.05)).repeatForever())},e.prototype.Hide=function(){this.m_stLoadingNode.active=!1},e.prototype.Loading=function(){},e.prototype.InitView=function(){cc.game.addPersistRootNode(this.m_stLoadingNode),this.m_stLoadingNode.x=cc.winSize.width/2,this.m_stLoadingNode.y=cc.winSize.height/2,this.m_stLoadText=this.m_stLoadingNode.getChildByName("LoadingText").getComponent(cc.Label),this.m_stMentionText=this.m_stLoadingNode.getChildByName("MentionText").getComponent(cc.Label),this.m_stLoadingNode.active=!1},e}();n.default=i,cc._RF.pop()},{}],Lobby:[function(e,t,n){"use strict";cc._RF.push(t,"2a84eJvMolMPYkF6ttsYy9s","Lobby"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./core/Core"),r=e("./proto/msg"),o=e("./core/Define"),s=cc._decorator,a=s.ccclass,u=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){this.teamBtn=this.node.getChildByName("Team"),this.tableBtn=this.node.getChildByName("Table"),this.tableBtn.on(cc.Node.EventType.TOUCH_END,this.OnClickTable.bind(this)),this.teamBtn.on(cc.Node.EventType.TOUCH_END,this.OnClickTeam.bind(this)),i.default.EventMgr.BindEvent(r.CSProtoID.RSP_CREATE_TEAM,this.OnTeam.bind(this)),i.default.EventMgr.BindEvent(r.CSProtoID.RSP_START_GAME,this.OnTable.bind(this)),i.default.ResourcesMgr.LoadRes("prefab/gameUI/GameUI",o.ResType.Prefab,function(){})},t.prototype.OnClickTeam=function(){i.default.ServerHandler.CreateTeam("132")},t.prototype.OnTeam=function(e){0==e.resultID?cc.log("\u521b\u5efa\u961f\u4f0d\u6210\u529f"):cc.log("\u521b\u5efa\u961f\u4f0d\u5931\u8d25")},t.prototype.OnClickTable=function(){i.default.ServerHandler.StartGame(1)},t.prototype.OnTable=function(e){0==e.resultID&&(i.default.BattleMgr.m_arrUseCardId=[268435712,268435968,268436224,268436480,268436736],i.default.BattleMgr.m_arrUseMouseId=[285212928,285212944,285212960,285212976,285212992],i.default.BattleMgr.m_iFireNum=50,i.default.SceneMgr.switchScene(o.SceneType.BattleScene))},t=__decorate([a],t)}(cc.Component));n.Lobby=u,cc._RF.pop()},{"./core/Core":"Core","./core/Define":"Define","./proto/msg":"msg"}],LoginUI:[function(e,t,n){"use strict";cc._RF.push(t,"ce199vWgTZPs5S6+j8osNI5","LoginUI"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./BaseUI"),r=e("./UIMgr"),o=e("../Core"),s=e("../Define"),a=e("../../proto/msg"),u=e("../Config"),c=function(e){function t(){var t=e.call(this,r.UIType.Normal,r.UIShowMode.Normal,r.UILucenyType.Lucency)||this;return t.m_arrRandomName=["\u7126\u5708","\u871c\u9ebb\u82b1","\u8c4c\u8c46\u9ec4","\u827e\u7a9d\u7a9d","\u7092\u809d\u7206\u809a","\u87f9\u58f3\u9ec4","\u5357\u7fd4\u5c0f\u7b3c\u9992\u5934","\u5c0f\u7ecd\u5174\u9e21\u7ca5","\u55c4\u5df4\u83dc","\u72d7\u4e0d\u7406\u5305\u5b50","\u8033\u6735\u773c\u70b8\u7cd5","\u8d34\u997d\u997d\u71ac\u5c0f\u9c7c","\u68d2\u69cc\u679c\u5b50","\u6842\u53d1\u7965\u5927\u9ebb\u82b1","\u4e94\u9999\u9a74\u8089","\u6832\u6833","\u5200\u524a\u9762","\u63ea\u7247","\u725b\u7f8a\u8089\u6ce1\u998d","\u4e7e\u5dde\u9505\u76d4","\u62c9\u9762","\u6cb9\u9505\u76d4","\u70e4\u7f8a\u8089","\u70e4\u9995","\u6293\u996d","\u714e\u5305","\u8471\u6cb9\u706b\u70e7","\u6c64\u5305","\u4e09\u4e01\u5305\u5b50","\u87f9\u9ec4\u70e7\u9ea6","\u9165\u6cb9\u997c","\u91cd\u9633\u6817\u7cd5","\u9c9c\u8089\u68d5\u5b50","\u867e\u7206\u9cdd\u9762","\u7d2b\u7c73\u516b\u5b9d\u996d","\u814a\u516b\u7ca5","\u5927\u6551\u9a7e","\u5fbd\u5dde\u997c","\u8c46\u76ae\u996d","\u86ce\u997c","\u624b\u6293\u9762","\u4e94\u9999\u6346\u8e44","\u9f0e\u8fb9\u7cca","\u5ea6\u5c0f\u6708\u62c5\u4ed4\u9762","\u9cdd\u9c7c\u4f0a\u9762","\u91d1\u722a\u7c73\u7c89","\u714e\u5806","\u7af9\u7b80\u996d","\u62b1\u7f57\u7c89","\u67a3\u9505\u76d4","\u767d\u7cd6\u7126\u997c","\u9e21\u86cb\u5e03\u888b","\u8840\u8336","\u9e21\u4e1d\u5377","\u4e09\u9c9c\u8c46\u76ae","\u4e91\u68a6\u7092\u9c7c\u9762","\u70ed\u5e72\u9762","\u4e1c\u5761\u997c","\u65b0\u996d","\u8111\u9ad3\u5377","\u7c73\u7c89","\u516b\u5b9d\u9f9f\u7f8a\u6c64","\u706b\u5bab\u6bbf\u81ed\u8c46\u8150","\u9e21\u4ed4\u997c","\u76ae\u86cb\u9165","\u51b0\u8089\u5343\u5c42\u9165","\u5e7f\u4e1c\u6708\u997c","\u9165\u76ae\u83b2\u84c9\u5305","\u7c89\u679c","\u8584\u76ae\u9c9c\u867e\u997a\u53ca\u7b2c\u7ca5","\u7389\u5154\u997a","\u5e72\u84b8\u87f9\u9ec4\u70e7\u9ea6\u7b49","\u5927\u8089\u68d5","\u6842\u6797\u9a6c\u8089\u7c73\u7c89","\u7092\u7c89\u866b","\u86cb\u70d8\u7cd5","\u9f99\u6284\u624b","\u73bb\u7483\u70e7\u9ea6","\u62c5\u62c5\u9762","\u9e21\u4e1d\u9762","\u8d56\u6c64\u5706","\u5b9c\u5bbe\u71c3\u9762","\u592b\u59bb\u80ba\u7247","\u706f\u5f71\u725b\u8089","\u5c0f\u7b3c\u7c89\u84b8\u725b\u8089","\u80a0\u65fa\u9762","\u4e1d\u5a03\u5a03","\u591c\u90ce\u9762\u9c7c","\u8377\u53f6\u7ccd\u7c91","\u5364\u725b\u8089","\u70e7\u9975\u5757","\u8fc7\u6865\u7c73\u7ebf"],t.UIName=r.UIName.LoginUI,t}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.m_stStartGame=this.UINode.getChildByName("StartGame"),this.m_stDice=this.UINode.getChildByName("Dice"),this.m_stNameEdit=this.UINode.getChildByName("NameEdit").getComponent(cc.EditBox),this.m_stStartGame.active=!1,u.default.IsOnlyClient?o.default.ResourcesMgr.LoadRes("prefab/gameUI/GameUI",s.ResType.Prefab,function(){this.m_stStartGame.active=!0}.bind(this)):o.default.ResourcesMgr.LoadRes("sound/music/lobby",s.ResType.AudioClip,function(){this.m_stStartGame.active=!0}.bind(this)),this.m_stStartGame.on(cc.Node.EventType.TOUCH_END,this.OnClickStartGame.bind(this)),this.m_stDice.on(cc.Node.EventType.TOUCH_END,this.OnClickDice.bind(this)),o.default.EventMgr.BindEvent(a.CSProtoID.RSP_PLAYER_AUTH,this.OnAuth.bind(this)),o.default.EventMgr.BindEvent(a.CSProtoID.RSP_PLAYER_LOGIN,this.OnLogin.bind(this)),o.default.EventMgr.BindEvent(a.CSProtoID.RSP_SET_ROLE_INFO,this.OnSetRoleInfo.bind(this))},t.prototype.OnClickDice=function(){var e=Math.floor(Math.random()*this.m_arrRandomName.length);this.m_stNameEdit.string=this.m_arrRandomName[e]},t.prototype.OnClickStartGame=function(){if(u.default.IsOnlyClient)return o.default.BattleMgr.m_arrUseCardId=[268435712,268435968,268436224,268436480,268436736],o.default.BattleMgr.m_arrUseMouseId=[285212928,285212944,285212960,285212976,285212992],o.default.BattleMgr.m_iFireNum=50,o.default.SceneMgr.switchScene(s.SceneType.BattleScene),void o.default.UIMgr.CloseUI(this.UIName);this.m_stStartGame.active=!1,o.default.AudioMgr.PlayMusic("lobby"),o.default.ServerHandler.IsAuth?o.default.ServerHandler.PlayerAuth():o.default.ServerHandler.PlayerLogin()},t.prototype.OnAuth=function(e){0==e.resultID&&o.default.NetMgr.connect(o.default.ServerHandler.m_sIP,o.default.ServerHandler.m_iPort)},t.prototype.OnLogin=function(e){0==e.resultID&&(e.isNewUser?(cc.log("want to set role info"),o.default.ServerHandler.SetRoleInfo()):o.default.SceneMgr.switchScene(s.SceneType.LobbyScene),o.default.UIMgr.CloseUI(this.UIName)),this.m_stStartGame.active=!0},t.prototype.OnSetRoleInfo=function(e){0==e.resultID&&o.default.SceneMgr.switchScene(s.SceneType.LobbyScene)},t}(i.default);n.default=c,cc._RF.pop()},{"../../proto/msg":"msg","../Config":"Config","../Core":"Core","../Define":"Define","./BaseUI":"BaseUI","./UIMgr":"UIMgr"}],Login:[function(e,t,n){"use strict";cc._RF.push(t,"14615o8lf9HbqIsgNiw1ruK","Login"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./core/Core"),r=e("./core/UI/UIMgr"),o=cc._decorator,s=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){cc.view.setDesignResolutionSize(1280,720,cc.ResolutionPolicy.EXACT_FIT),i.default.Get().Init(),i.default.UIMgr.ShowUI(r.UIName.LoginUI)},t=__decorate([s],t)}(cc.Component));n.Login=a,cc._RF.pop()},{"./core/Core":"Core","./core/UI/UIMgr":"UIMgr"}],MapConfig:[function(e,t,n){"use strict";cc._RF.push(t,"68241/r5PVAZJmvdmnGah7t","MapConfig"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.Parse=function(e){this.m_iId=Number(e.id),this.m_iNeedLevel=Number(e.need_level),this.m_arrPlayerLimit=e.player_limit,this.m_iKeyItem=Number(e.key_item),this.m_sTitle=e.title,this.m_sDesc=e.desc,this.m_arrShowMouseId=e.show_mouse_id,this.m_arrAdvance=e.advance,this.m_sScenePic=e.scene_pic,this.m_iScene=Number(e.scene),this.m_iDayNightType=e.day_night_type,this.m_arrInitCard=new Array;for(var t=0,n=e.init_card;t<n.length;t++){var i=n[t],o=new c;o.Parse(i),this.m_arrInitCard.push(o)}this.m_arrInitTerrain=new Array;for(var l=0,d=e.init_terrain;l<d.length;l++){i=d[l];var p=new u;p.Parse(i),this.m_arrInitTerrain.push(p)}this.m_iType=e.type,this.m_mapBloodRate=new Map;for(var m=0,f=e.blood_rate;m<f.length;m++){i=f[m];var h=new a;h.Parse(i),this.m_mapBloodRate.set(h.m_iMouseId,h)}this.m_iInitFire=e.init_fire,this.m_arrInitMouse=new Array;for(var y=0,_=e.init_mouse;y<_.length;y++){i=_[y];var g=new s;g.Parse(i),this.m_arrInitMouse.push(g)}this.m_arrWave=new Array;for(var I=0,S=e.wave;I<S.length;I++){i=S[I];var T=new r;T.Parse(i),this.m_arrWave.push(T)}},e}();n.default=i;var r=function(){function e(){}return e.prototype.Parse=function(e){if(this.m_sType=e.type,this.m_arrOnlyInPlayerNum=e.only_in_player_num,"mouse"==this.m_sType){this.m_bCanSkip=e.can_skip,this.m_iTime=e.time,this.m_arrMouse=new Array;for(var t=0,n=e.mouse;t<n.length;t++){var i=n[t],r=new o;r.Parse(i),this.m_arrMouse.push(r)}}"trigger"==this.m_sType&&(this.m_arrArgs=e.args,this.m_iTriggerId=e.trigger_id)},e}();n.Wave=r;var o=function(){function e(){}return e.prototype.Parse=function(t){if(this.m_iTime=t.time,this.m_arrLine=new Array,t.line)this.m_iLine=t.line-1;else{for(var n=Math.floor(5*Math.random());n==e.m_iLastLine||n==e.m_iLastLastLine;)n=Math.floor(5*Math.random());e.m_iLastLastLine=e.m_iLastLine,e.m_iLastLine=n,this.m_iLine=n,e.m_iNewLine=n}if(this.m_arrLine.push(this.m_iLine),this.m_arrMouseId=t.mouse_id,this.m_iIndexId=t.index_id,this.m_iNumber=t.number,this.m_iNumber>=2)for(var i=1;i<this.m_iNumber;i++){for(var r=Math.floor(5*Math.random());r==e.m_iNewLine;)r=Math.floor(5*Math.random());e.m_iNewLine=r,this.m_arrLine.push(r)}this.m_iBloodRate=t.blood_rate,this.m_arrOnlyInPlayerNum=t.only_in_player_num},e.m_iLastLine=-1,e.m_iLastLastLine=-1,e.m_iNewLine=-1,e}();n.Mouse=o;var s=function(){function e(){}return e.prototype.Parse=function(e){this.m_arrPos=new Array;for(var t=0,n=e.pos;t<n.length;t++){var i=n[t],r=new l;r.Parse(i),this.m_arrPos.push(r)}this.m_iMouseId=Number(e.mouse_id),this.m_iBloodRate=e.blood_rate},e}();n.InitMouse=s;var a=function(){function e(){}return e.prototype.Parse=function(e){this.m_iMouseId=Number(e.mouse_id),this.m_iRate=e.rate},e}();n.BloodRate=a;var u=function(){function e(){}return e.prototype.Parse=function(e){this.m_arrPos=new Array;for(var t=0,n=e.pos;t<n.length;t++){var i=n[t],r=new l;r.Parse(i),this.m_arrPos.push(r)}this.m_iType=e.type,this.m_iTexture=e.texture},e}();n.InitTerrain=u;var c=function(){function e(){}return e.prototype.Parse=function(e){this.m_arrPos=new Array;for(var t=0,n=e.pos;t<n.length;t++){var i=n[t],r=new l;r.Parse(i),this.m_arrPos.push(r)}this.m_iCardId=Number(e.card_id),this.m_iMinStar=e.min_star,this.m_bReplaceByHighStar=e.replace_by_high_star,this.m_bReplaceByHighGrade=e.replace_by_high_grade},e}();n.InitCard=c;var l=function(){function e(){}return e.prototype.Parse=function(e){this.m_iX=e.x,this.m_iY=e.y},Object.defineProperty(e.prototype,"X",{get:function(){return this.m_iX>=0?this.m_iX:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Y",{get:function(){return this.m_iY>=0?this.m_iY:-1},enumerable:!0,configurable:!0}),e}();n.Pos=l,cc._RF.pop()},{}],MockSystem:[function(e,t,n){"use strict";cc._RF.push(t,"8b184ZbjHhKhJ3dKYY8zBBi","MockSystem"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(){}}();n.default=i,cc._RF.pop()},{}],MoveCom:[function(e,t,n){"use strict";cc._RF.push(t,"bd0adDiQFJEpJvptj/H32En","MoveCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=function(e){function t(){return e.call(this,r.ComType.Move)||this}return __extends(t,e),t.prototype.ReadFromFile=function(e){},t.prototype.CopyFrom=function(e){this.m_iSpeed=e.m_iSpeed},t.prototype.Reset=function(){this.m_bIsServerUpdate=!1,this.m_iX=0,this.m_iY=0},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],MoveSys:[function(e,t,n){"use strict";cc._RF.push(t,"27f72aKtjlNEbLkRNrtuhE0","MoveSys"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseSystem"),r=e("../../Core"),o=e("../ECSDefine"),s=e("../../Config"),a=e("../../../proto/msg"),u=e("../../Define"),c=function(e){function t(){return e.call(this,o.ComType.Move)||this}return __extends(t,e),t.prototype.OnLoad=function(){this.m_stMoveCom=this.GetCom()},t.prototype.OnChangeCom=function(){this.m_stActionFSMCom=this.GetComByType(o.ComType.ActionFSM),this.m_stTargetSys=this.GetSysByType(o.ComType.Target)},t.prototype.Tick=function(e,t){if(this.m_stActionFSMCom)if(a.EntityAction.MOVE==this.m_stActionFSMCom.m_iNextAction){if(this.m_stMoveCom.m_bIsServerUpdate)this.Node.x=this.m_stMoveCom.m_iX,this.Node.y=this.m_stMoveCom.m_iY;else{var n=this.m_stMoveCom.m_iSpeed*t*s.default.GAME_FPS;this.Node.x+=n>s.default.GRID_WIDTH?s.default.GRID_WIDTH-1:n}this.Node.x>s.default.BATTLE_WIDTH&&r.default.ECSMgr.RemoveEntity(this.m_pOwnEntity),this.Node.x<0&&this.m_pOwnEntity.NodeType==u.NodeType.Mouse&&(r.default.BattleMgr.m_iOverX=this.Node.GridX-.5,r.default.BattleMgr.m_iOverY=this.Node.GridY,r.default.TimeLine.GameOver())}else a.EntityAction.IDLE!=this.m_stActionFSMCom.m_iNextAction||(!this.m_stTargetSys||this.m_stTargetSys.HasTarget())&&this.m_stTargetSys||(this.m_stActionFSMCom.m_iNextAction=a.EntityAction.MOVE)},t}(i.default);n.default=c,cc._RF.pop()},{"../../../proto/msg":"msg","../../Config":"Config","../../Core":"Core","../../Define":"Define","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine"}],MsgDefine:[function(e,t,n){"use strict";cc._RF.push(t,"8b877z6teZFJ6H7FcbzblV+","MsgDefine"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageEventDefine||(n.MessageEventDefine={}),cc._RF.pop()},{}],MsgHeader:[function(e,t,n){"use strict";cc._RF.push(t,"e07761daD9O7YjbG59JGq8G","MsgHeader"),Object.defineProperty(n,"__esModule",{value:!0});var i,r=e("../util/CodeEngine"),o=e("../Core"),s=e("../Config"),a=function(){function e(){this.m_iServerid=s.default.SERVER_ID,this.m_iPlatform=1,this.m_iEntity=i.Entity_None,this.m_iMessageID=1,this.m_iSeq=110,this.m_sSessKey="longxiang"}return e.prototype.Encode=function(t){var n=new ArrayBuffer(e.CONST_HEADLEN+this.m_sSessKey.length+t.length+1),i=new Uint8Array(n),s=0;return s=r.CodeEngine.encode_int32(i,s,e.CONST_HEADLEN+this.m_sSessKey.length+t.byteLength+1),s=r.CodeEngine.encode_int32(i,s,e.CONST_REQ_NUM),s=r.CodeEngine.encode_int32(i,s,o.default.ServerHandler.m_iPid),s=r.CodeEngine.encode_int32(i,s,this.m_iServerid),s=r.CodeEngine.encode_int32(i,s,this.m_iPlatform),s=r.CodeEngine.encode_int32(i,s,this.m_iEntity),s=r.CodeEngine.encode_int32(i,s,this.m_iMessageID),s=r.CodeEngine.encode_int32(i,s,this.m_iSeq),s=r.CodeEngine.encode_string(i,s,this.m_sSessKey),s=r.CodeEngine.encode_int8(i,s,0),s=r.CodeEngine.encode_int32(i,s,t.byteLength),i.set(t,s),n},e.prototype.Decode=function(e){var t=0;r.CodeEngine.decode_int32(e,t);t+=4;r.CodeEngine.decode_int32(e,t);t+=4,r.CodeEngine.decode_int32(e,t),t+=4,this.m_iServerid=r.CodeEngine.decode_int32(e,t),t+=4,this.m_iPlatform=r.CodeEngine.decode_int32(e,t),t+=4,this.m_iEntity=r.CodeEngine.decode_int32(e,t),t+=4,this.m_iMessageID=r.CodeEngine.decode_int32(e,t),t+=4,this.m_iSeq=r.CodeEngine.decode_int32(e,t),t+=4,this.m_sSessKey=r.CodeEngine.decode_string(e,t),t+=this.m_sSessKey.length+1,r.CodeEngine.decode_int32(e,t),t+=4,this.m_stBody=e.slice(t)},e.CONST_HEADLEN=36,e.CONST_REQ_NUM=1002,e.CONST_RSP_NUM=1003,e}();n.MsgHeader=a,function(e){e[e.Entity_None=0]="Entity_None",e[e.Entity_Client=1]="Entity_Client",e[e.Entity_Hall=2]="Entity_Hall",e[e.Entity_Game=3]="Entity_Game",e[e.Entity_Ctrl=4]="Entity_Ctrl",e[e.Entity_Auth=5]="Entity_Auth",e[e.Entity_Gate=6]="Entity_Gate"}(i=n.EntityType||(n.EntityType={})),cc._RF.pop()},{"../Config":"Config","../Core":"Core","../util/CodeEngine":"CodeEngine"}],NetMgr:[function(e,t,n){"use strict";cc._RF.push(t,"ae3acR79TtJ/q3Lqpgo3W4/","NetMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./MsgHeader"),r=e("../Config"),o=e("../Core"),s=function(){function e(){this.m_stWebSoket=null,this.reconnectTimer=null,this.reconnectTimes=0,this.m_mapFnCallback=new Map,this.m_stMsgHeader=null}return e.prototype.connect=function(e,t){if(!r.default.IsOnlyClient)if(this.m_stWebSoket)this.m_stWebSoket.close();else{var n="ws://".concat(r.default.AUTH_IP).concat(":").concat(r.default.AUTH_PORT.toString()).concat("/");switch(e&&t&&(n="ws://".concat(e).concat(":").concat(t.toString()),o.default.ServerHandler.IsAuth=!1),this.m_stWebSoket=new WebSocket(n),cc.log("host:",this.m_stWebSoket.url),this.m_stWebSoket.binaryType="arraybuffer",this.m_stWebSoket.readyState){case WebSocket.CONNECTING:cc.log("net connecting.");break;case WebSocket.OPEN:cc.log("net connected.");break;case WebSocket.CLOSING:cc.log("net closing");break;case WebSocket.CLOSED:cc.log("net closed")}this.m_stWebSoket.onopen=this.onOpen.bind(this),this.m_stWebSoket.onerror=this.onError.bind(this),this.m_stWebSoket.onclose=this.onClose.bind(this),this.m_stWebSoket.onmessage=this.onMessage.bind(this)}},e.prototype.send=function(e){this.m_stWebSoket&&this.m_stWebSoket.readyState==WebSocket.OPEN?this.m_stWebSoket.send(e):cc.log("send message Error! Host:",this.m_stWebSoket.url)},e.prototype.sendBody=function(e,t,n){this.m_stMsgHeader||(this.m_stMsgHeader=new i.MsgHeader),this.m_stMsgHeader.m_iEntity=n,this.m_stMsgHeader.m_iMessageID=t,this.send(this.m_stMsgHeader.Encode(e))},e.prototype.onOpen=function(){cc.log("net connect success."),o.default.ServerHandler.IsAuth||o.default.ServerHandler.PlayerLogin()},e.prototype.onClose=function(){this.m_stWebSoket=null,this.m_stMsgHeader=null,o.default.ServerHandler.IsAuth?(cc.log("auth connect close."),this.connect(o.default.ServerHandler.m_sIP,o.default.ServerHandler.m_iPort)):cc.log("gate connect close.")},e.prototype.onError=function(){cc.log("net connect error.")},e.prototype.onMessage=function(e){var t=new Uint8Array(e.data);if(0==t.byteLength)throw new Error("\u6570\u636e\u4e3a\u7a7a\uff01");this.m_stMsgHeader.Decode(t);var n=this.m_mapFnCallback.get(this.m_stMsgHeader.m_iMessageID);n&&n(this.m_stMsgHeader)},e.prototype.Emit=function(e,t){o.default.EventMgr.Emit(e,t)},e.prototype.BindMessage2Function=function(e,t){this.m_mapFnCallback.get(e)?cc.log("\u91cd\u590d\u6ce8\u518c\uff01MessageID:".concat(e.toString())):this.m_mapFnCallback.set(e,t)},e.CONST_HEADLEN=36,e.CONST_REQ_NUM=1002,e.CONST_RSP_NUM=1003,e}();n.default=s,cc._RF.pop()},{"../Config":"Config","../Core":"Core","./MsgHeader":"MsgHeader"}],NodePool:[function(e,t,n){"use strict";cc._RF.push(t,"371caYad+NDf7/JZUoO7G7F","NodePool"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.Init=function(){e.m_stNodePool=new cc.NodePool;for(var t=100;t--;)e.m_stNodePool.put(new cc.Node)},e.CheckOut=function(){if(!e.m_stNodePool.size())for(var t=100;t--;)e.m_stNodePool.put(new cc.Node);return e.m_stNodePool.get()},e.CheckIn=function(t){t&&e.m_stNodePool.put(t)},e}();n.default=i,cc._RF.pop()},{}],ObjectPool:[function(e,t,n){"use strict";cc._RF.push(t,"056f9P8wYpM34TFuDR/Ucwn","ObjectPool"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.Init=function(){e.m_arrPool=new Array,e.m_arrObject=new Array,e.m_arrNameLog=new Array},e.CheckOut=function(t){var n,i=t.pool_key;isNaN(i)&&(i=e.TotalKey,t.pool_key=i,e.TotalKey++,e.m_arrNameLog[i]=t.name),e.m_arrPool[i]||(e.m_arrPool[i]=[]),e.m_arrObject[i]||(e.m_arrObject[i]=[]);var r=e.m_arrPool[i];return(n=r.length?r.shift():new t).pool_key=i,e.m_arrObject[i].push(n),n},e.CheckIn=function(t){var n=t.constructor.pool_key;isNaN(n)&&(n=e.TotalKey,t.constructor.pool_key=n,e.TotalKey++,e.m_arrNameLog[n]=t.constructor.name),e.m_arrPool[n]||(e.m_arrPool[n]=[]),e.m_arrObject[n]||(e.m_arrObject[n]=[]);var i=e.m_arrPool[n].indexOf(t);-1==i&&(e.m_arrPool[n].push(t),-1!=(i=e.m_arrObject[n].indexOf(t))&&(e.m_arrObject[n][i]=e.m_arrObject[e.m_arrObject[n].length-1],e.m_arrObject[n].pop()))},e.TotalKey=0,e}();n.default=i,cc._RF.pop()},{}],PlaceCardEffect:[function(e,t,n){"use strict";cc._RF.push(t,"9ac4cOn199DIK/Li5p5RyIf","PlaceCardEffect"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Config"),r=function(){function e(e){this.m_stGameUI=e}return e.prototype.BindNode=function(e){this.m_stNode=e,this.m_stSpine=this.m_stNode.getComponent(sp.Skeleton),this.m_stNode.active=!1},e.prototype.Show=function(e,t){this.m_stNode.active=!0,this.m_stNode.zIndex=5e3*(i.default.GRID_MAX_Y-t)+2,this.m_stNode.x=i.default.BATTLE_START_X+(e+.5)*i.default.GRID_WIDTH,this.m_stNode.y=i.default.BATTLE_START_Y+t*i.default.GRID_HEIGHT+(i.default.GRID_HEIGHT>>2),this.m_stSpine.setAnimation(0,"Debut",!1),this.m_stSpine.setCompleteListener(this.Hide.bind(this))},e.prototype.Hide=function(){this.m_stNode.active=!1},e}();n.default=r,cc._RF.pop()},{"../Config":"Config"}],PlayerMoveUI:[function(e,t,n){"use strict";cc._RF.push(t,"7c9b6HZFGtLsoVvCI5S2Jae","PlayerMoveUI"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Config"),r=e("../Core"),o=e("../Define"),s=function(e){function t(t){var n=e.call(this)||this;return n.Init(t),n}return __extends(t,e),t.prototype.Init=function(e){this.m_pGameUI=e,this.width=i.default.GRID_WIDTH,this.height=i.default.GRID_HEIGHT,this.m_stBubblesNode=e.m_stNode.getChildByName("bubbles"),e.m_stNode.removeChild(this.m_stBubblesNode,!1),this.addChild(this.m_stBubblesNode),this.m_stBubblesNode.x=190,this.m_stBubblesNode.y=110,this.m_stBubblesTime=this.m_stBubblesNode.getChildByName("time").getComponent(cc.Label),this.m_stSpriteNode=new cc.Node;var t=this.m_stSpriteNode.addComponent(cc.Sprite);r.default.ResourcesMgr.LoadRes("gameUI/target",o.ResType.BitmapRes,function(e){t.spriteFrame=e,t.type=cc.Sprite.Type.SLICED,t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.node.width=1.1*i.default.GRID_WIDTH,t.node.height=1.1*i.default.GRID_HEIGHT}.bind(this)),this.addChild(this.m_stSpriteNode),this.m_stPlayerNode=new cc.Node,this.m_stPlayerSpine=this.m_stPlayerNode.addComponent(sp.Skeleton),this.m_stPlayerNode.y=Math.floor(i.default.GRID_HEIGHT/10)-.5*i.default.GRID_HEIGHT,this.m_stPlayerNode.scale=i.default.SPINE_SCALE,this.addChild(this.m_stPlayerNode),this.active=!1,this.m_pGameUI.m_stNode.addChild(this)},t.prototype.InitView=function(e,t,n){this.SetPos(e,t),r.default.ResourcesMgr.LoadRes("spineAnim/role/nvhai/skeleton",o.ResType.SpineRes,function(e){this.m_stPlayerSpine.skeletonData=e,this.m_stPlayerSpine.defaultAnimation="Idle",this.m_stPlayerSpine.setAnimation(0,"Idle",!0)}.bind(this))},t.prototype.UpdateView=function(){-1==Math.floor(r.default.BattleMgr.m_iUsePlayerTime)&&(this.m_pGameUI.InitOption(),this.Hide(),this.m_pGameUI.m_stTargetSprite.Hide(),r.default.BattleMgr.PlaceRole(this.m_iGridX,this.m_iGridY)),this.m_stBubblesTime.string=Math.floor(r.default.BattleMgr.m_iUsePlayerTime).toString()+"s"},t.prototype.SetPos=function(e,t){this.m_iGridX=e,this.m_iGridY=t,this.active=!0,this.x=i.default.BATTLE_START_X+i.default.GRID_WIDTH*(e+.5),this.y=i.default.BATTLE_START_Y+i.default.GRID_HEIGHT*(t+.5)},t.prototype.Hide=function(){this.active=!1},t}(cc.Node);n.default=s,cc._RF.pop()},{"../Config":"Config","../Core":"Core","../Define":"Define"}],PopUp2:[function(e,t,n){"use strict";cc._RF.push(t,"22df9pmA9lDm6IMh8hM3GKN","PopUp2"),Object.defineProperty(n,"__esModule",{value:!0});var i=e(".././BaseUI"),r=e(".././UIMgr"),o=e("../../Core"),s=function(e){function t(){var t=e.call(this,r.UIType.PopUp,r.UIShowMode.ReverseChange,r.UILucenyType.Lucency)||this;return t.UIName=r.UIName.PopUp2,t}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.UINode.getChildByName("close").on(cc.Node.EventType.TOUCH_END,function(){o.default.UIMgr.CloseUI(this.UIName)}.bind(this))},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core",".././BaseUI":"BaseUI",".././UIMgr":"UIMgr"}],PopUp:[function(e,t,n){"use strict";cc._RF.push(t,"b8267P6O5FH87OufPXyql3M","PopUp"),Object.defineProperty(n,"__esModule",{value:!0});var i=e(".././BaseUI"),r=e(".././UIMgr"),o=e("../../Core"),s=function(e){function t(){var t=e.call(this,r.UIType.PopUp,r.UIShowMode.ReverseChange,r.UILucenyType.Lucency)||this;return t.UIName=r.UIName.PopUp,t}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.UINode.getChildByName("close").on(cc.Node.EventType.TOUCH_END,function(){o.default.UIMgr.CloseUI(this.UIName)}.bind(this)),this.UINode.getChildByName("sure").on(cc.Node.EventType.TOUCH_END,function(){o.default.UIMgr.ShowUI(r.UIName.PopUp2)}.bind(this))},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core",".././BaseUI":"BaseUI",".././UIMgr":"UIMgr"}],ResourcesMgr:[function(e,t,n){"use strict";cc._RF.push(t,"de8a2oU/TJLUJpOKOFWDdry","ResourcesMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Define"),r=function(){function e(){this.m_arrRes=new Map,this.m_mapLoadInfo=new Map}return e.prototype.LoadResArray=function(e,t,n,i){this.m_arrRes.has(t)||(this.m_arrRes.set(t,new Map),this.m_mapLoadInfo.set(t,new Map)),cc.loader.loadResArray(e,this.GetResType(t),function(e,t,i){n&&n(e,t)}.bind(this),function(n,r){if(n)cc.log(n);else if(r){for(var o=0;o<r.length;o++)r[o]?this.m_arrRes.get(t).set(e[o],r[o]):cc.log(e[o]+" is Error URL! type:",t);i&&i(r)}else cc.log(e+" is Error URLList! type:",t)}.bind(this))},e.prototype.LoadRes=function(e,t,n){var i=this;i.m_arrRes.get(t)||(i.m_arrRes.set(t,new Map),i.m_mapLoadInfo.set(t,new Map));var r=i.m_arrRes.get(t).get(e);if(r)n(r);else{var o=i.m_mapLoadInfo.get(t).get(e);o?o.push(n):(o=new Array,i.m_mapLoadInfo.get(t).set(e,o),o.push(n),cc.loader.loadRes(e,this.GetResType(t),function(n,r){n?cc.log(n):r?(i.m_arrRes.get(t).set(e,r),i.OnCompleteCallback(e,t)):cc.log(e+" is Error URL! type:",t)}))}},e.prototype.GetResType=function(e){switch(e){case i.ResType.SpineRes:return sp.SkeletonData;case i.ResType.BitmapRes:return cc.SpriteFrame;case i.ResType.Prefab:return cc.Prefab;case i.ResType.AudioClip:return cc.AudioClip;default:throw new Error("Error! type Not Found! type:"+e)}},e.prototype.OnCompleteCallback=function(e,t){var n=this,i=this.m_mapLoadInfo.get(t).get(e);i.forEach(function(i){i(n.m_arrRes.get(t).get(e))}),i.length=0},e}();n.default=r;(function(){function e(){}Object.defineProperty(e.prototype,"Url",{get:function(){return this.m_sUrl},set:function(e){this.m_sUrl=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Type",{get:function(){return this.m_sType},set:function(e){this.m_sType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CallBack",{get:function(){return this.m_pCallBack},set:function(e){this.m_pCallBack=e},enumerable:!0,configurable:!0})})();cc._RF.pop()},{"../Define":"Define"}],RightMenu:[function(e,t,n){"use strict";cc._RF.push(t,"3d56enj0alMsoCylyOBZW8L","RightMenu"),Object.defineProperty(n,"__esModule",{value:!0});var i=e(".././BaseUI"),r=e(".././UIMgr"),o=e("../../Core"),s=function(e){function t(){var t=e.call(this,r.UIType.Fixed,r.UIShowMode.Normal,r.UILucenyType.Lucency)||this;return t.UIName=r.UIName.RightMenu,t}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.UINode.getChildByName("New Sprite(Splash)").on(cc.Node.EventType.TOUCH_END,function(){o.default.UIMgr.CloseUI(this.UIName)}.bind(this))},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core",".././BaseUI":"BaseUI",".././UIMgr":"UIMgr"}],SceneMgr:[function(e,t,n){"use strict";cc._RF.push(t,"1f68bLNP+1EQILD5O06hxrv","SceneMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Define"),r=e("../Core"),o=e("../Config"),s=e("../../proto/msg"),a=function(){function e(){this.m_sCurrentScene=i.SceneType.LoginScene}return e.prototype.switchScene=function(e){this.m_sCurrentScene!=e?(r.default.EventMgr.Clear(),r.default.LoadingUI.LoadScene(e,this.OnLoadSceneCompleted.bind(this),this.OnLoadResCompleted.bind(this))):cc.log("\u5f53\u524d\u573a\u666f\u5c31\u662f",e,"\u65e0\u9700\u5207\u6362")},e.prototype.OnLoadSceneCompleted=function(e){this.m_sCurrentScene=e,cc.log(this.m_sCurrentScene,"scene loaded!"),this.LoadRes()},e.prototype.LoadRes=function(){switch(this.m_sCurrentScene){case i.SceneType.BattleScene:this.LoadBattleRes();break;case i.SceneType.LobbyScene:this.LoadLobbyRes()}},e.prototype.OnLoadResCompleted=function(){switch(cc.log(this.m_sCurrentScene,"res loaded!"),this.m_sCurrentScene){case i.SceneType.BattleScene:o.default.IsOnlyClient?r.default.EventMgr.Emit(s.CSProtoID.INF_GAME_BATTLE_START,s.InfGameBattleStart.create()):r.default.ServerHandler.MapLoadReady();break;case i.SceneType.LobbyScene:r.default.LoadingUI.Hide()}},e.prototype.LoadLobbyRes=function(){r.default.LoadingUI.m_iProgress=1,r.default.LoadingUI.m_iTotalProgress=1},e.prototype.LoadBattleRes=function(){var e=new Array,t=new Array;t.push("spineAnim/gameUI/fire/skeleton"),t.push("spineAnim/gameUI/chanzi/skeleton"),t.push("spineAnim/Card/0x1/skeleton");for(var n=0;n<r.default.BattleMgr.m_arrUseCardId.length;n++)e.push("gameUI/0x"+r.default.BattleMgr.m_arrUseCardId[n].toString(16)),e.push("gameUI/0x"+r.default.BattleMgr.m_arrUseCardId[n].toString(16)+"v"),t.push("spineAnim/Card/0x"+r.default.BattleMgr.m_arrUseCardId[n].toString(16)+"/skeleton");for(n=0;n<r.default.BattleMgr.m_arrUseMouseId.length;n++)t.push("spineAnim/Mouse/0x"+r.default.BattleMgr.m_arrUseMouseId[n].toString(16)+"/skeleton");r.default.LoadingUI.m_iProgress=0,r.default.LoadingUI.m_iTotalProgress=0,r.default.ResourcesMgr.LoadResArray(e,i.ResType.BitmapRes,this.LoadResProgress),r.default.ResourcesMgr.LoadResArray(t,i.ResType.SpineRes,this.LoadResProgress),r.default.ResourcesMgr.LoadResArray(["sound/music/battle_day_1","sound/sound/mouse_jump","sound/sound/mouse_eating","sound/sound/mouse_appear","sound/sound/get_item","sound/sound/get_energy","sound/sound/get_coin","sound/sound/click_shovel","sound/sound/click_remove","sound/sound/click_place","sound/sound/click_card","sound/sound/card_shot_1","sound/sound/card_firedamage","sound/sound/card_fire","sound/sound/card_damage_1","sound/sound/card_boom_1","sound/sound/battle_win","sound/sound/battle_warning","sound/sound/battle_mew","sound/sound/battle_lose"],i.ResType.AudioClip,this.LoadResProgress)},e.prototype.LoadResProgress=function(e,t){1==e&&(r.default.LoadingUI.m_iTotalProgress+=t),r.default.LoadingUI.m_iProgress++},Object.defineProperty(e.prototype,"CurrentScene",{get:function(){return this.m_sCurrentScene},enumerable:!0,configurable:!0}),e}();n.default=a,cc._RF.pop()},{"../../proto/msg":"msg","../Config":"Config","../Core":"Core","../Define":"Define"}],ServerHandler:[function(e,t,n){"use strict";cc._RF.push(t,"d6c02/Y/uFDQasT0xltTOia","ServerHandler"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Core"),r=e("../../proto/msg"),o=e("./MsgHeader"),s=e("../Config"),a=function(){function e(){}return e.prototype.Init=function(){this.m_pNetMgr=i.default.NetMgr,this.m_bIsAuth=!0,this.m_sIP=null,this.m_iPort=0,this.m_iUid=Number(this.getQueryString("uid")),this.m_iUid||(this.m_iUid=Math.floor(1e6*Math.random())+1e6,cc.log("\u68c0\u6d4b\u5230\u6cbf\u9014\u7684\u6838\u805a\u53d8\u6253\u51fb\uff08uid\u975e\u6cd5\uff09, uid\u5df2\u968f\u673a\u751f\u6210, uid:",this.m_iUid));var e=Number(this.getQueryString("sid"));e&&e>=1&&e<=3&&(s.default.SERVER_ID=e,s.default.IsOnlyClient=!1),this.m_iPid=0,this.m_sToken=null},e.prototype.getQueryString=function(e){return""},e.prototype.Register=function(){this.m_pNetMgr.BindMessage2Function(r.CSProtoID.RSP_PLAYER_AUTH,this.OnRspPlayerAuth.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.RSP_PLAYER_LOGIN,this.OnRspPlayerLogin.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.RSP_SET_ROLE_INFO,this.OnSetRoleInfo.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.RSP_CREATE_TEAM,this.OnRspCreateTeam.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.RSP_START_GAME,this.OnRspStartGame.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_GAME_BATTLE_START,this.OnInfGameBattleStart.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_GAME_END,this.OnInfGameEnd.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_PLAYER_KICK,this.OnInfPlayerKick.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_ADD_ENTITY,this.OnAddEntity.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_REMOVE_ENTITY,this.OnRemoveEntity.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_ADD_FIRE,this.OnAddFire.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_FIRE_NUM_CHANGE,this.OnFireNumChange.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_COM_CHANGE_MOVE,this.OnComChangeMove.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_COM_CHANGE_AFSM,this.OnComChangeAFSM.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_COM_GENERATOR,this.onComGenerator.bind(this)),this.m_pNetMgr.BindMessage2Function(r.CSProtoID.INF_COM_CHANGE_HP,this.onComChangeHP.bind(this))},e.prototype.Emit=function(e,t){i.default.EventMgr.Emit(e,t)},e.prototype.PlayerAuth=function(){var e=r.ReqPlayerAuth.create();e.uid=this.m_iUid,e.name="Noyi",e.sesskey=this.m_iUid.toString()+this.m_iUid.toString(),e.platform=1,e.serverid=s.default.SERVER_ID;var t=r.ReqPlayerAuth.encode(e).finish();i.default.NetMgr.sendBody(t,r.CSProtoID.REQ_PLAYER_AUTH,o.EntityType.Entity_Auth)},e.prototype.OnRspPlayerAuth=function(e){var t=e.m_stBody,n=r.RspPlayerAuth.decode(t);0==n.resultID?(cc.log("----auth success! pid =",n.pid),this.m_sIP=n.ip,this.m_iPort=n.port,this.m_iPid=n.pid,this.m_sToken=n.token):cc.log("----auth failed",n.resultID),this.Emit(e.m_iMessageID,n)},e.prototype.PlayerLogin=function(){var e=r.ReqPlayerLogin.create();e.pid=this.m_iPid;var t=r.ReqPlayerLogin.encode(e).finish();i.default.NetMgr.sendBody(t,r.CSProtoID.REQ_PLAYER_LOGIN,o.EntityType.Entity_Hall)},e.prototype.OnRspPlayerLogin=function(e){var t=e.m_stBody,n=r.RspPlayerLogin.decode(t);0==n.resultID?(cc.log("----login success!"),n.tableID&&-1!=n.tableID&&cc.log("------player is in table:",n.tableID)):cc.log("----login failed"),this.Emit(e.m_iMessageID,n)},e.prototype.SetRoleInfo=function(){var e=r.ReqSetRoleInfo.create();e.name="noyi gao",e.roleSex=r.PlayerSex.PLAYERSEX_BOY;var t=r.ReqSetRoleInfo.encode(e).finish();i.default.NetMgr.sendBody(t,r.CSProtoID.REQ_SET_ROLE_INFO,o.EntityType.Entity_Hall)},e.prototype.OnSetRoleInfo=function(e){var t=e.m_stBody,n=r.RspSetRoleInfo.decode(t);this.Emit(e.m_iMessageID,n)},e.prototype.CreateTeam=function(e){var t=r.ReqCreateTeam.create();t.name=e,t.mapid=10086;var n=r.ReqCreateTeam.encode(t).finish();i.default.NetMgr.sendBody(n,r.CSProtoID.REQ_CREATE_TEAM,o.EntityType.Entity_Hall)},e.prototype.OnRspCreateTeam=function(e){var t=e.m_stBody,n=r.RspCreateTeam.decode(t);0==n.resultID?(cc.log("----create team success!"),cc.log("------teamid:",n.teamID),this.test_teamID=n.teamID):cc.log("----create team failed"),this.Emit(e.m_iMessageID,n)},e.prototype.StartGame=function(e){var t=r.ReqStartGame.create();t.teamID=this.test_teamID,t.mapID=10086;var n=r.ReqStartGame.encode(t).finish();i.default.NetMgr.sendBody(n,r.CSProtoID.REQ_START_GAME,o.EntityType.Entity_Hall)},e.prototype.OnRspStartGame=function(e){var t=e.m_stBody,n=r.RspStartGame.decode(t);0==n.resultID?(cc.log("----create table success!"),cc.log("------tableid:",n.tableid),cc.log("------mapid:",n.mapid)):cc.log("----start game failed"),this.Emit(e.m_iMessageID,n)},e.prototype.OnInfPlayerKick=function(e){var t=e.m_stBody;switch(r.InfPlayerKick.decode(t).reason){case r.KickReason.REPEAT_LOGIN:cc.log("\u91cd\u590d\u767b\u5f55"),cc.director.loadScene("LoginScene")}},e.prototype.MapLoadReady=function(){var e=r.ReqMapLoadReady.create(),t=r.ReqMapLoadReady.encode(e).finish();i.default.NetMgr.sendBody(t,r.CSProtoID.REQ_MAP_LOAD_READY,o.EntityType.Entity_Game)},e.prototype.OnInfGameBattleStart=function(e){var t=e.m_stBody,n=r.InfGameBattleStart.decode(t);cc.log("----start game success!"),this.Emit(e.m_iMessageID,n)},e.prototype.OnInfGameEnd=function(e){var t=e.m_stBody,n=r.InfGameEnd.decode(t);this.Emit(e.m_iMessageID,n)},e.prototype.PlaceDefender=function(e,t,n){var s=r.ReqPlaceDefender.create();s.cardID=e,s.x=t,s.y=n;var a=r.ReqPlaceDefender.encode(s).finish();i.default.NetMgr.sendBody(a,r.CSProtoID.REQ_PLACE_DEFENDER,o.EntityType.Entity_Game)},e.prototype.UseShovel=function(e,t){var n=r.ReqUseShovel.create();n.gridX=e,n.gridY=t;var s=r.ReqUseShovel.encode(n).finish();i.default.NetMgr.sendBody(s,r.CSProtoID.REQ_USE_SHOVEL,o.EntityType.Entity_Game)},e.prototype.PickFire=function(e){var t=r.ReqPickFire.create();t.fireID=e;var n=r.ReqPickFire.encode(t).finish();i.default.NetMgr.sendBody(n,r.CSProtoID.REQ_PICK_FIRE,o.EntityType.Entity_Game)},e.prototype.OnAddEntity=function(e){var t=e.m_stBody,n=r.InfAddEntity.decode(t);this.Emit(e.m_iMessageID,n)},e.prototype.OnRemoveEntity=function(e){var t=e.m_stBody,n=r.InfRemoveEntity.decode(t);this.Emit(e.m_iMessageID,n)},e.prototype.OnAddFire=function(e){var t=e.m_stBody,n=r.InfAddFire.decode(t);this.Emit(e.m_iMessageID,n)},e.prototype.OnFireNumChange=function(e){var t=e.m_stBody,n=r.InfFireNumChange.decode(t);this.Emit(e.m_iMessageID,n)},e.prototype.OnComChangeMove=function(e){var t=e.m_stBody,n=r.InfMoveComChange.decode(t);this.Emit(e.m_iMessageID,n)},e.prototype.OnComChangeAFSM=function(e){var t=e.m_stBody,n=r.InfAFSMComChange.decode(t);this.Emit(e.m_iMessageID,n)},e.prototype.onComGenerator=function(e){var t=e.m_stBody,n=r.InfComGenerator.decode(t);this.Emit(e.m_iMessageID,n)},e.prototype.onComChangeHP=function(e){var t=e.m_stBody,n=r.InfComChangeHP.decode(t);this.Emit(e.m_iMessageID,n)},Object.defineProperty(e.prototype,"IsAuth",{get:function(){return this.m_bIsAuth},set:function(e){this.m_bIsAuth=e},enumerable:!0,configurable:!0}),e}();n.default=a,cc._RF.pop()},{"../../proto/msg":"msg","../Config":"Config","../Core":"Core","./MsgHeader":"MsgHeader"}],SettingUI:[function(e,t,n){"use strict";cc._RF.push(t,"179bahYQRRP+INb/OqVQHlV","SettingUI"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Core"),r=e("../../proto/msg"),o=function(){function e(e){this.m_stGameUI=e}return e.prototype.BindNode=function(e){this.m_stNode=e,this.m_stCloseBtn=this.m_stNode.getChildByName("close"),this.m_stMusicBtn=this.m_stNode.getChildByName("music_btn"),this.m_stSoundBtn=this.m_stNode.getChildByName("sound_btn"),this.m_stBreakBtn=this.m_stNode.getChildByName("break_btn"),this.m_stRestartBtn=this.m_stNode.getChildByName("restart_btn"),this.m_stContinueBtn=this.m_stNode.getChildByName("continue_btn"),this.m_stMusicVolume=this.m_stNode.getChildByName("music_line").getChildByName("voice"),this.m_stSoundVolume=this.m_stNode.getChildByName("sound_line").getChildByName("voice"),this.m_stMusicSlider=this.m_stNode.getChildByName("music_line").getComponent(cc.Slider),this.m_stSoundSlider=this.m_stNode.getChildByName("sound_line").getComponent(cc.Slider),this.m_stCloseBtn.on(cc.Node.EventType.TOUCH_END,this.OnContinueBtn.bind(this)),this.m_stMusicBtn.on(cc.Node.EventType.TOUCH_END,this.ClickMusicBtn.bind(this)),this.m_stSoundBtn.on(cc.Node.EventType.TOUCH_END,this.ClickSoundBtn.bind(this)),this.m_stBreakBtn.on(cc.Node.EventType.TOUCH_END,this.OnBreakBtn.bind(this)),this.m_stRestartBtn.on(cc.Node.EventType.TOUCH_END,this.OnRestartBtn.bind(this)),this.m_stContinueBtn.on(cc.Node.EventType.TOUCH_END,this.OnContinueBtn.bind(this)),this.m_stMusicSlider.node.on("slide",this.SlideMusic,this),this.m_stSoundSlider.node.on("slide",this.SlideSound,this),this.m_stNode.parent&&this.m_stNode.parent.removeChild(this.m_stNode,!1)},e.prototype.SlideMusic=function(e){var t=e.detail;this.m_stMusicVolume.width=t.progress*e.target.width,i.default.AudioMgr.MusicVolume=t.progress,this.UpdateView()},e.prototype.SlideSound=function(e){var t=e.detail;this.m_stSoundVolume.width=t.progress*e.target.width,i.default.AudioMgr.SoundVolume=t.progress,this.UpdateView()},e.prototype.Show=function(){this.m_stNode.parent||this.m_stGameUI.m_stNode.addChild(this.m_stNode),this.m_stNode.active=!0,this.UpdateView()},e.prototype.Hide=function(){this.m_stNode.active=!1,this.m_stGameUI.m_stFirePanelUI&&(this.m_stGameUI.m_stFirePanelUI.active=!0),cc.director.resume()},e.prototype.UpdateView=function(){i.default.AudioMgr.MusicVolume>0?(this.m_bIsMusicOn=!0,this.m_stMusicBtn.x=-165,this.m_stMusicSlider.progress=i.default.AudioMgr.MusicVolume,this.m_stMusicVolume.width=330*i.default.AudioMgr.MusicVolume):(this.m_bIsMusicOn=!1,this.m_stMusicBtn.x=-207,this.m_stMusicSlider.progress=0,this.m_stMusicVolume.width=0),i.default.AudioMgr.SoundVolume>0?(this.m_bIsSoundOn=!0,this.m_stSoundBtn.x=-165,this.m_stSoundSlider.progress=i.default.AudioMgr.SoundVolume,this.m_stSoundVolume.width=330*i.default.AudioMgr.SoundVolume):(this.m_bIsSoundOn=!1,this.m_stSoundBtn.x=-207,this.m_stSoundSlider.progress=0,this.m_stSoundVolume.width=0)},e.prototype.ClickMusicBtn=function(){this.m_bIsMusicOn=!this.m_bIsMusicOn,this.m_bIsMusicOn?i.default.AudioMgr.MusicVolume=1:i.default.AudioMgr.MusicVolume=0,this.UpdateView()},e.prototype.ClickSoundBtn=function(){this.m_bIsSoundOn=!this.m_bIsSoundOn,this.m_bIsSoundOn?i.default.AudioMgr.SoundVolume=1:i.default.AudioMgr.SoundVolume=0,this.UpdateView()},e.prototype.OnBreakBtn=function(){},e.prototype.OnRestartBtn=function(){i.default.BattleMgr.m_mapServerEntity.clear(),i.default.ECSMgr.Clear(),i.default.BattleMgr.InitBattle(),i.default.EventMgr.Emit(r.CSProtoID.INF_GAME_BATTLE_START,r.InfGameBattleStart.create()),this.Hide()},e.prototype.OnContinueBtn=function(){this.Hide()},e}();n.default=o,cc._RF.pop()},{"../../proto/msg":"msg","../Core":"Core"}],ShaderTest:[function(e,t,n){"use strict";cc._RF.push(t,"42605JZXMhAJJQAX+05HozW","ShaderTest");var i=e("ShaderUtils");cc.Class({extends:cc.Component,properties:{spGray:cc.Sprite},onLoad:function(){i.setShader(this.spGray,"gray")},update:function(e){}}),cc._RF.pop()},{ShaderUtils:"ShaderUtils"}],ShaderUtils:[function(e,t,n){"use strict";cc._RF.push(t,"a46cb9N+5hHnbvYQGaT7NIe","ShaderUtils");var i={shaderPrograms:{},setShader:function(t,n){var i=this.shaderPrograms[n];if(!i){i=new cc.GLProgram;var r=e(cc.js.formatStr("%s.vert",n)),o=e(cc.js.formatStr("%s.frag",n));cc.sys.isNative?i.initWithString(r,o):(i.initWithVertexShaderByteArray(r,o),i.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION,cc.macro.VERTEX_ATTRIB_POSITION),i.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR,cc.macro.VERTEX_ATTRIB_COLOR),i.addAttribute(cc.macro.ATTRIBUTE_NAME_TEX_COORD,cc.macro.VERTEX_ATTRIB_TEX_COORDS)),i.link(),i.updateUniforms(),this.shaderPrograms[n]=i}t._sgNode.setShaderProgram(i)}};t.exports=i,cc._RF.pop()},{}],SpineCom:[function(e,t,n){"use strict";cc._RF.push(t,"7ec03WcTXxJ7aqCKdHFlW7F","SpineCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=function(e){function t(){return e.call(this,r.ComType.Spine)||this}return __extends(t,e),t.prototype.ReadFromFile=function(e){e.spine_url&&(this.m_sFileUrl=String(e.spine_url),cc.log("SpineCom.m_sFileUrl:",this.m_sFileUrl))},t.prototype.CopyFrom=function(e){this.m_sFileUrl=e.m_sFileUrl},t.prototype.Reset=function(){this.m_sFileUrl=null},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],SpineSys:[function(e,t,n){"use strict";cc._RF.push(t,"60ae4zems9OVKRV9cxBgzke","SpineSys"),Object.defineProperty(n,"__esModule",{value:!0});var i,r,o,s,a=e("../BaseSystem"),u=e("../ECSDefine"),c=e("../../Core"),l=e("../../Define"),d=e("../../../proto/msg"),p=e("../../Config"),m=e("../../util/ObjectPool"),f=function(e){function t(){var t=e.call(this,u.ComType.Spine)||this;return t.m_stNode=new cc.Node,t.m_stNode.zIndex=1,t.m_stEquipNode=new cc.Node,t.m_stEquipNode.zIndex=2,t}return __extends(t,e),t.prototype.OnLoad=function(){this.m_sCurrentAction=null,this.m_stSpineCom=this.GetCom(),this.m_stSpineCom.m_sFileUrl||(this.m_stSpineCom.m_sFileUrl="0x".concat(this.m_pOwnEntity.ConfigID.toString(16))),this.m_stSkeleton=this.m_stNode.getComponent(sp.Skeleton),this.m_stSkeleton||(this.m_stSkeleton=this.m_stNode.addComponent(sp.Skeleton),this.m_stEquipSkeleton=this.m_stEquipNode.addComponent(sp.Skeleton)),this.m_pOwnEntity.NodeType==l.NodeType.Card&&this.m_pOwnEntity.BindEvent(u.ECSEventDefine.SpineAnimSkill,this.PlaySkillAnim.bind(this)),this.m_stSkeleton.setEventListener(this.OnTrackEntryHandler.bind(this)),this.m_pOwnEntity.BindEvent(u.ECSEventDefine.EquipDropOut,this.OnEquipDropOut.bind(this)),this.m_pOwnEntity.BindEvent(u.ECSEventDefine.MouseBeHitted,this.OnMouseBeHitted.bind(this)),this.m_iEquipStatus=o.NoEquip},t.prototype.Start=function(){this.m_sCurrentAction=null,this.ReloadRes(),this.m_pOwnEntity.NodeType!=l.NodeType.Bullet&&c.default.ResourcesMgr.LoadRes("prefab/Shadow",l.ResType.Prefab,function(e){var t=cc.instantiate(e);t.zIndex=-1,this.m_pOwnEntity.NodeType==l.NodeType.Mouse?t.x=60:t.x=0,this.Node.SetShadow(t)}.bind(this))},t.prototype.OnChangeCom=function(){this.m_stActionFSMCom=this.GetComByType(u.ComType.ActionFSM);this.m_iEquipStatus;this.m_iEquipStatus=null!=this.GetComByType(u.ComType.EquipSpine)?1:0,1==this.m_iEquipStatus&&this.m_iEquipStatus&&(this.SkinChange(d.EntityHealthy.NORMAL,d.EntityHealthy.NORMAL),this.ActionChange(this.m_sCurrentAction))},t.prototype.OnMouseBeHitted=function(){this.Node.BeHitted()},t.prototype.OnEquipDropOut=function(){this.m_iEquipStatus!=o.DropEquip&&(this.m_iEquipStatus=o.DropEquip,this.PlayEquipDie(),this.ActionChange(this.m_sCurrentAction))},t.prototype.OnTrackEntryHandler=function(e,t){if(this.m_stActionFSMCom.m_iNextAction!=d.EntityAction.DIE&&this.m_stActionFSMCom.m_iNextAction!=d.EntityAction.BURN_DIE)switch(t.data.name){case u.SpineEventDefine.Attack:this.m_pOwnEntity.Emit(u.ECSEventDefine.AnimDoAction,null);break;case u.SpineEventDefine.Attack1:this.m_pOwnEntity.Emit(u.ECSEventDefine.AnimDoAction,u.SpineEventDefine.Attack1);break;case u.SpineEventDefine.Attack2:this.m_pOwnEntity.Emit(u.ECSEventDefine.AnimDoAction,u.SpineEventDefine.Attack2);break;case u.SpineEventDefine.Attack3:this.m_pOwnEntity.Emit(u.ECSEventDefine.AnimDoAction,u.SpineEventDefine.Attack3);break;default:cc.log("Error:Not find SpineEventDefine:",t.data.nam)}},t.prototype.Tick=function(e,t){},t.prototype.SkinChange=function(e,t){var n=null,i=null;switch(e){case d.EntityHealthy.NORMAL:n=s.Normal;break;case d.EntityHealthy.WOUNDED:n=s.Wounded;break;case d.EntityHealthy.DYING:n=s.Dying}switch(t){case d.EntityHealthy.NORMAL:i=s.Normal;break;case d.EntityHealthy.WOUNDED:i=s.Wounded;break;case d.EntityHealthy.DYING:i=s.Dying}this.SwitchSkin(n,i)},t.prototype.ActionChange=function(e){switch(this.m_sCurrentAction=e,e){case d.EntityAction.IDLE:this.PlayIdleAnim();break;case d.EntityAction.ATTACK:this.PlayAttackAnim();break;case d.EntityAction.MOVE:this.PlayWalkAnim();break;case d.EntityAction.CREATE:this.PlaySkillAnim();break;case d.EntityAction.DIE:this.PlayDieAnim();break;case d.EntityAction.JUMP:this.PlayJumpAnim();break;case d.EntityAction.BURN_DIE:this.PlayBurnDieAnim();break;default:cc.log("not find Action:",e)}},t.prototype.PlaySkillAnim=function(){this.FindAnimation(i.Skill)?this.PlayLoopAnim(i.Skill,!0):cc.log("Not Find AnimName.Skill")},t.prototype.PlayAttackAnim=function(){this.FindAnimation(i.Attack)?this.PlayLoopAnim(i.Attack):cc.log("Not Find AnimName.Attack")},t.prototype.PlayJumpAnim=function(){this.FindAnimation(i.Jump)?this.PlayLoopAnim(i.Jump):this.FindAnimation(i.Skill)?this.PlayLoopAnim(i.Skill):cc.log("Not Find AnimName.Jump")},t.prototype.PlayDieAnim=function(){var e=null;l.NodeType.Bullet==this.m_pOwnEntity.NodeType?e=i.Bullet_Hit:(e=i.Die,this.m_pOwnEntity.RemoveCom(u.ComType.Collider)),this.FindAnimation(e)?this.PlayOnce(e,this.RemoveSelfEntity.bind(this)):this.RemoveSelfEntity()},t.prototype.PlayIdleAnim=function(){var e;if(l.NodeType.Bullet==this.m_pOwnEntity.NodeType){if(e=i.Bullet_Idle,0==this.FindAnimation(i.Bullet_Idle,!1)){if(this.FindAnimation(i.Debut,!1))return void this.PlayOnce(i.Debut,this.RemoveSelfEntity.bind(this));e=null}}else if(l.NodeType.Mouse==this.m_pOwnEntity.NodeType){if(e=i.Idle,0==this.FindAnimation(i.Idle)&&this.FindAnimation(i.Debut,!1))return void this.PlayOnce(i.Debut,this.RemoveSelfEntity.bind(this))}else e=i.Idle,0==this.FindAnimation(i.Idle)&&(e=i.Skill);this.PlayLoopAnim(e,!0)},t.prototype.PlayWalkAnim=function(){var e=i.Walk_Normal;l.NodeType.Bullet==this.m_pOwnEntity.NodeType&&(e=i.Bullet_Idle),this.PlayLoopAnim(e)},t.prototype.PlayBurnDieAnim=function(){"ashes"!=this.m_stSpineCom.m_sFileUrl?(this.m_stSpineCom.m_sFileUrl="ashes",this.ReloadRes()):this.FindAnimation(i.Debut,!1)?this.PlayOnce(i.Debut,this.RemoveSelfEntity.bind(this)):cc.log("\u70e7\u6b7b\u5b83 \u70e7\u6b7b\u5b83\uff01 \u54a6\uff0c\u597d\u50cf\u903b\u8f91\u51fa\u95ee\u9898\u4e86\uff01")},t.prototype.RemoveSelfEntity=function(){this.m_stSkeleton&&(this.m_stNode.active=!1,this.m_stEquipNode.active=!1,this.m_stSkeleton.timeScale=1),this.m_stEquipSkeleton&&(this.m_stEquipSkeleton.timeScale=1),c.default.ECSMgr.RemoveEntity(this.m_pOwnEntity)},t.prototype.ReloadRes=function(){var e=this.GetRUL();this.m_sCurrentFileUrl=e,c.default.ResourcesMgr.LoadRes(e,l.ResType.SpineRes,this.OnCompleteCallback.bind(this))},t.prototype.OnCompleteCallback=function(e){if(e)if(this.m_pOwnEntity&&this.m_pOwnEntity.m_bActive)if(this.m_pOwnEntity.Node){if(this.m_pOwnEntity.NodeType==l.NodeType.Bullet)(t=this.GetComByType(u.ComType.Move))&&0!=t.m_iSpeed?this.m_stNode.x=t.m_iSpeed/Math.abs(t.m_iSpeed)*p.default.BULLET_OFFSET_X:this.m_stNode.x=0;else if(this.m_pOwnEntity.NodeType==l.NodeType.Mouse){var t;(t=this.GetComByType(u.ComType.Move))&&0!=t.m_iSpeed?(this.m_stNode.x=-t.m_iSpeed/Math.abs(t.m_iSpeed)*p.default.BULLET_OFFSET_X,this.m_stEquipNode.x=-t.m_iSpeed/Math.abs(t.m_iSpeed)*p.default.BULLET_OFFSET_X):(this.m_stNode.x=0,this.m_stEquipNode.x=0)}else this.m_stNode.x=0,this.m_stEquipNode.x=0;this.m_pOwnEntity.Node.AddToBattle(),this.m_stSkeleton.skeletonData=e,this.m_stSkeleton.node.active=!0,this.m_stSkeleton.timeScale=1,this.m_stEquipSkeleton.timeScale=1,null==this.m_stNode.parent&&this.Node.AddChild(this.m_stNode);var n=this.GetComByType(u.ComType.EquipSpine);if(n&&(this.m_stEquipSkeleton.skeletonData=e,null==this.m_stEquipNode.parent&&(this.m_stEquipNode.active=!0,this.Node.AddChild(this.m_stEquipNode)),this.m_stEquipNode.zIndex=n.m_iZIndex),this.SkinChange(d.EntityHealthy.NORMAL,d.EntityHealthy.NORMAL),!c.default.BattleMgr.m_mapShootPointList.has(this.m_pOwnEntity.ConfigID)){c.default.BattleMgr.m_mapShootPointList.set(this.m_pOwnEntity.ConfigID,new Array);for(var i=c.default.BattleMgr.m_mapShootPointList.get(this.m_pOwnEntity.ConfigID),r=0;r<3;r++)i.push(new cc.Vec2(p.default.GRID_WIDTH>>1,p.default.GRID_HEIGHT>>1));var o=this.m_stSkeleton.findBone("ShootPoint");o&&(i[0]=new cc.Vec2(o.x,o.y)),(o=this.m_stSkeleton.findBone("ShootPoint2"))&&(i[1]=new cc.Vec2(o.x,o.y)),(o=this.m_stSkeleton.findBone("ShootPoint3"))&&(i[2]=new cc.Vec2(o.x,o.y))}this.SwitchSkin(s.Normal,s.Normal),this.m_stActionFSMCom?this.ActionChange(this.m_stActionFSMCom.m_iNextAction):this.ActionChange(d.EntityAction.IDLE)}else cc.log("this.m_pOwnEntity.Node",this.m_pOwnEntity.Node);else cc.log("\u5df2\u88ab\u79fb\u9664\uff01");else cc.log(this.m_stSpineCom.m_sFileUrl+" is Error URL!")},t.prototype.SwitchSkin=function(e,t){switch(void 0===t&&(t=null),e){case s.Normal:this.m_stSkeleton.skeletonData.skeletonJson.skins.normal&&this.m_stSkeleton.setSkin(e);break;case s.Wounded:this.m_stSkeleton.skeletonData.skeletonJson.skins.wounded&&this.m_stSkeleton.setSkin(e);break;case s.Dying:this.m_stSkeleton.skeletonData.skeletonJson.skins.dying&&this.m_stSkeleton.setSkin(e)}if(t&&this.m_stEquipSkeleton&&this.m_stEquipSkeleton.skeletonData)switch(t){case s.Normal:this.m_stEquipSkeleton.skeletonData.skeletonJson.skins.normal&&this.m_stEquipSkeleton.setSkin(t);break;case s.Wounded:this.m_stEquipSkeleton.skeletonData.skeletonJson.skins.wounded&&this.m_stEquipSkeleton.setSkin(t);break;case s.Dying:this.m_stEquipSkeleton.skeletonData.skeletonJson.skins.dying&&this.m_stEquipSkeleton.setSkin(t)}},t.prototype.PlayEquipDie=function(){var e=i.Die;if(this.m_stEquipSkeleton){var t=this;if(!this.FindAnimation(e+r.Eq))return cc.log("PlayEquipDie:: Die_eq not find!"),t.m_stEquipSkeleton.setCompleteListener(null),void(t.m_stEquipSkeleton.node.active=!1);this.m_stEquipSkeleton.setAnimation(0,e+r.Eq,!1),this.m_stEquipSkeleton.setCompleteListener(function(){t.m_stEquipSkeleton.setCompleteListener(null),t.m_stEquipSkeleton.node.active=!1}.bind(this))}else cc.log("PlayOnce Error Anim:",e,"Entity.Config:","0x"+this.m_pOwnEntity.ConfigID.toString(16))},t.prototype.PlayLoopAnim=function(e,t){if(void 0===t&&(t=!1),e&&this.m_stSkeleton&&this.m_stSkeleton.findAnimation(e)){var n=this.m_stSkeleton.animation;this.m_iEquipStatus==o.HasEquip?t?(this.FindAnimation(e+r.Eq,!1)&&this.m_stEquipSkeleton.addAnimation(0,e+r.Eq,!0),this.FindAnimation(e+r.Eqpd)?this.m_stSkeleton.addAnimation(0,e+r.Eqpd,!0):this.m_stSkeleton.addAnimation(0,e,!0)):(this.FindAnimation(e+r.Eq,!1)&&this.m_stEquipSkeleton.setAnimation(0,e+r.Eq,!0),this.FindAnimation(e+r.Eqpd)?this.m_stSkeleton.setAnimation(0,e+r.Eqpd,!0):this.m_stSkeleton.setAnimation(0,e,!0)):t?this.m_stSkeleton.addAnimation(0,e,!0):this.m_stSkeleton.setAnimation(0,e,!0),t&&n!=e&&n&&(e==i.Die||e==i.Debut)?(this.m_stSkeleton.timeScale=3,this.m_stEquipSkeleton.timeScale=3):(this.m_stSkeleton.timeScale=1,this.m_stEquipSkeleton.timeScale=1),this.m_stSkeleton.setCompleteListener(function(){this.m_stSkeleton.timeScale=1,this.m_stEquipSkeleton.timeScale=1,this.m_stSkeleton.setCompleteListener(null)}.bind(this))}else cc.log("PlayAnim Error Anim:",e,"Entity.Config:","0x"+this.m_pOwnEntity.ConfigID.toString(16))},t.prototype.PlayAnim=function(e,t,n){this.m_stSkeleton.setCompleteListener(null),t?this.m_stSkeleton.setAnimation(0,e,!0):(this.m_stSkeleton.setAnimation(0,e,!1),this.m_stSkeleton.setCompleteListener(function(){this.m_stSkeleton.setCompleteListener(null),null!=n&&n()}.bind(this)))},t.prototype.PlayEqAnim=function(e,t){this.m_stEquipSkeleton.setAnimation(0,e,!0),this.m_stEquipSkeleton.setCompleteListener(function(){null!=t&&t()}.bind(this))},t.prototype.PlayEffectAnim=function(e){var t=new cc.Node,n=t.addComponent(sp.Skeleton);n.skeletonData=this.m_stSkeleton.skeletonData,t.x=this.m_pOwnEntity.Node.x+p.default.BATTLE_START_X,t.y=this.m_pOwnEntity.Node.y+p.default.BATTLE_START_Y,c.default.BattleMgr.GetFieldView().addChild(t),n.setAnimation(0,e,!0),n.setCompleteListener(function(){t.removeFromParent(!0),t.destroy()})},t.prototype.PlayOnce=function(e,t,n){if(void 0===n&&(n=!1),e&&this.m_stSkeleton){this.m_stSkeleton.setCompleteListener(null);var s=this.m_stSkeleton.animation;this.m_iEquipStatus==o.HasEquip?n?(this.FindAnimation(e+r.Eq,!1)?(this.m_stEquipSkeleton.node.active=!0,this.m_stEquipSkeleton.addAnimation(0,e+r.Eq,!1)):this.m_stEquipSkeleton.node.active=!1,this.FindAnimation(e+r.Eqpd)?this.m_stSkeleton.addAnimation(0,e+r.Eqpd,!1):this.m_stSkeleton.addAnimation(0,e,!1)):(this.FindAnimation(e+r.Eq,!1)?(this.m_stEquipSkeleton.node.active=!0,this.m_stEquipSkeleton.setAnimation(0,e+r.Eq,!1)):this.m_stEquipSkeleton.node.active=!1,this.FindAnimation(e+r.Eqpd)?this.m_stSkeleton.setAnimation(0,e+r.Eqpd,!1):this.m_stSkeleton.setAnimation(0,e,!1)):n?this.m_stSkeleton.addAnimation(0,e,!1):this.m_stSkeleton.setAnimation(0,e,!1),n&&s!=e&&s&&(e==i.Die||e==i.Debut)?(this.m_stSkeleton.timeScale=3,this.m_stEquipSkeleton.timeScale=3):(this.m_stSkeleton.timeScale=1,this.m_stEquipSkeleton.timeScale=1),this.m_stSkeleton.setCompleteListener(function(){this.m_stSkeleton.timeScale=1,this.m_stEquipSkeleton.timeScale=1,s==this.m_stSkeleton.animation&&n||null!=t&&t()}.bind(this))}else cc.log("PlayOnce Error Anim:",e,"Entity.Config:","0x"+this.m_pOwnEntity.ConfigID.toString(16))},t.prototype.OnDestroy=function(){this.m_stSkeleton&&this.m_stSkeleton.setCompleteListener(null),this.m_stEquipSkeleton&&this.m_stEquipSkeleton.setCompleteListener(null),this.m_sCurrentAction=null,this.m_stNode.removeFromParent(!1),this.m_stEquipNode.removeFromParent(!1)},t.prototype.FindAnimation=function(e,t){if(void 0===t&&(t=!0),t&&this.m_iEquipStatus==o.HasEquip){var n=e.concat(r.Eqpd);return!!this.m_stSkeleton.findAnimation(e)||!!this.m_stSkeleton.findAnimation(n)}return!!this.m_stSkeleton.findAnimation(e)},t.prototype.GetRUL=function(){var e="";return this.m_pOwnEntity.NodeType==l.NodeType.Bullet||this.m_pOwnEntity.NodeType==l.NodeType.Card?e="spineAnim/Card/"+this.m_stSpineCom.m_sFileUrl+"/skeleton":this.m_pOwnEntity.NodeType==l.NodeType.Mouse&&(e="spineAnim/Mouse/"+this.m_stSpineCom.m_sFileUrl+"/skeleton"),e},t.prototype.CloneEmpty=function(){return m.default.CheckOut(t)},t}(a.default);n.default=f,function(e){e.Skill="Skill",e.Attack="Attack",e.Walk="Walk",e.Walk_Normal="Walk_normal",e.Walk_Special="Walk_special",e.Jump="Jump",e.Die="Die",e.Idle="Idle",e.Debut="Debut",e.Bullet_Idle="Bullet_Idle",e.Bullet_Hit="Bullet_Hit",e.PreAttack="PreAttack",e.PostAttack="PostAttack",e.AttackEffect_Jet="AttackEffect_Jet"}(i=n.AnimName||(n.AnimName={})),function(e){e.Eq="_Eq",e.Eqpd="_Eqpd"}(r=n.EquipSuffix||(n.EquipSuffix={})),function(e){e[e.NoEquip=0]="NoEquip",e[e.HasEquip=1]="HasEquip",e[e.DropEquip=2]="DropEquip"}(o||(o={})),function(e){e.Normal="normal",e.Wounded="wounded",e.Dying="dying"}(s||(s={})),cc._RF.pop()},{"../../../proto/msg":"msg","../../Config":"Config","../../Core":"Core","../../Define":"Define","../../util/ObjectPool":"ObjectPool","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine"}],TargetCom:[function(e,t,n){"use strict";cc._RF.push(t,"f0210Pc1GVG9Jh5U4IPTjrk","TargetCom"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../ECSDefine"),o=function(e){function t(){var t=e.call(this,r.ComType.Target)||this;return t.m_iTargetType=0,t}return __extends(t,e),t.prototype.ReadFromFile=function(e){},t.prototype.CopyFrom=function(e){this.m_iTargetType=e.m_iTargetType},t.prototype.Reset=function(){},t}(i.default);n.default=o,cc._RF.pop()},{"../BaseCom":"BaseCom","../ECSDefine":"ECSDefine"}],TargetSprite:[function(e,t,n){"use strict";cc._RF.push(t,"fa011M5S6xJB5KqAf3dbiqw","TargetSprite"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Config"),r=e("../Core"),o=e("../Define"),s=function(e){function t(t){var n=e.call(this)||this;return n.Init(t),n}return __extends(t,e),t.prototype.Init=function(e){this.m_pGameUI=e;var t=this.addComponent(cc.Sprite);r.default.ResourcesMgr.LoadRes("gameUI/target",o.ResType.BitmapRes,function(e){t.spriteFrame=e,t.type=cc.Sprite.Type.SLICED,t.sizeMode=cc.Sprite.SizeMode.CUSTOM,t.node.width=1.1*i.default.GRID_WIDTH,t.node.height=1.1*i.default.GRID_HEIGHT}.bind(this)),this.active=!1,this.m_pGameUI.m_stNode.addChild(this)},t.prototype.Show=function(e,t){this.active=!0,this.x=i.default.BATTLE_START_X+e*i.default.GRID_WIDTH+(i.default.GRID_WIDTH>>1),this.y=i.default.BATTLE_START_Y+t*i.default.GRID_HEIGHT+(i.default.GRID_HEIGHT>>1)},t.prototype.Hide=function(){this.active=!1},t.prototype.SetColor=function(e){this.color=e?cc.color(255,0,0):cc.color(255,255,255)},t}(cc.Node);n.default=s,cc._RF.pop()},{"../Config":"Config","../Core":"Core","../Define":"Define"}],TargetSys:[function(e,t,n){"use strict";cc._RF.push(t,"5d961YT8EhLR5bzf0h/OOFs","TargetSys"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseSystem"),r=e("../../Core"),o=e("../ECSDefine"),s=function(e){function t(){return e.call(this,o.ComType.Target)||this}return __extends(t,e),t.prototype.OnLoad=function(){this.m_stTargetCom=this.GetCom(),this.m_stTarget=null},t.prototype.OnEnable=function(){r.default.CollisionMgr.AddTarget(this)},t.prototype.HasTarget=function(){return null!=this.m_stTarget},Object.defineProperty(t.prototype,"Target",{get:function(){return this.m_stTarget},set:function(e){this.m_stTarget=e},enumerable:!0,configurable:!0}),t.prototype.OnDisable=function(){r.default.CollisionMgr.RemoveTarget(this)},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine"}],TestUI:[function(e,t,n){"use strict";cc._RF.push(t,"c8630LWHhBJyqhVRHBZlly1","TestUI"),Object.defineProperty(n,"__esModule",{value:!0});var i=e(".././BaseUI"),r=e(".././UIMgr"),o=e("../../Core"),s=function(e){function t(){var t=e.call(this,r.UIType.Normal,r.UIShowMode.Normal,r.UILucenyType.Lucency)||this;return t.UIName=r.UIName.TestUI,t}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.loginBtn=this.UINode.getChildByName("Login"),this.loginBtn.on("click",function(){o.default.UIMgr.CloseUI(r.UIName.TestUI)}),this.leftBtn=this.UINode.getChildByName("LeftMenu"),this.leftBtn.on("click",function(){o.default.UIMgr.ShowUI(r.UIName.LeftMenu)}),this.rightBtn=this.UINode.getChildByName("RightMenu"),this.rightBtn.on("click",function(){o.default.UIMgr.ShowUI(r.UIName.RightMenu)}),this.topBtn=this.UINode.getChildByName("TopMenu"),this.topBtn.on("click",function(){o.default.UIMgr.ShowUI(r.UIName.TopMenu)}),this.bottonBtn=this.UINode.getChildByName("BottonMenu"),this.bottonBtn.on("click",function(){o.default.UIMgr.ShowUI(r.UIName.BottonMenu)}),this.worldMapBtn=this.UINode.getChildByName("WorldMap"),this.worldMapBtn.on("click",function(){o.default.UIMgr.ShowUI(r.UIName.WorldMap)}),this.popUpBtn=this.UINode.getChildByName("PopUp"),this.popUpBtn.on("click",function(){o.default.UIMgr.ShowUI(r.UIName.PopUp)})},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core",".././BaseUI":"BaseUI",".././UIMgr":"UIMgr"}],Ticker:[function(e,t,n){"use strict";cc._RF.push(t,"f1afbCWY35DY5VDGP4b2/ZB","Ticker"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n){this.m_iTickCount=0,this.m_iRunTime=0,this.m_vTickList=new Array,this.m_vFixedTickList=new Array,this.m_vQueueTickList=new Array,this.m_bIsRuning=!1}return Object.defineProperty(e.prototype,"TickCount",{get:function(){return this.m_iTickCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RunTime",{get:function(){return this.m_iRunTime},enumerable:!0,configurable:!0}),e.prototype.Pause=function(e){this.m_iRestPauseTick=e},e.prototype.Continue=function(){this.m_bIsRuning=!0},e.prototype.Stop=function(){this.m_bIsRuning=!1},e.prototype.Start=function(){this.m_iTickCount=0,this.m_bIsRuning=!0},e.prototype.AddTick=function(e){this.m_vTickList.indexOf(e)>=0||this.m_vTickList.push(e)},e.prototype.RemoveTick=function(e){var t=this.m_vTickList.indexOf(e);if(-1!=t){var n=--this.m_vTickList.length;this.m_vTickList[t]=this.m_vTickList[n],this.m_vTickList.length=n}},e.prototype.AddFixedTickAt=function(e,t){this.m_vFixedTickList[e]=t},e.prototype.AddQueueTickAt=function(e,t){if(t<2)throw new Error("\u5206\u5e27\u903b\u8f91\u6700\u5c0f\u5206\u5e27\u4e3a2\u5e27\uff0c\u5c0f\u4e8e2\u5e27\u8c03\u7528AddFixedTickAt()");null==this.m_vQueueTickList[t]&&(this.m_vQueueTickList[t]=new Array),this.m_vQueueTickList[t].push(e)},e.prototype.ClearAllTick=function(){this.m_vFixedTickList.length=0,this.m_vTickList.length=0,this.m_iTickCount=0,this.m_vQueueTickList.length=0},e.prototype.DoTick=function(e){if(0!=this.m_bIsRuning){++this.m_iTickCount,this.m_iRunTime+=e;for(var t=0,n=this.m_vFixedTickList;t<n.length;t++){n[t].Tick(this.m_iTickCount,e)}for(var i=0,r=this.m_vTickList;i<r.length;i++){r[i].Tick(this.m_iTickCount,e)}this.m_vQueueTickList.length;for(var o in this.m_vQueueTickList){if(this.m_iTickCount%Number(o)!=0)break;for(var s=0,a=this.m_vQueueTickList[o];s<a.length;s++){a[s].Tick(this.m_iTickCount,e)}}}},e.prototype.GetTickerTetail=function(){var e="Ticker::",t=this.m_vFixedTickList.length;e+="\n\u6bcf\u4e00\u5e27\u6267\u884c\uff1aFixedTickList:lenght:"+t;for(var n=0,i=this.m_vFixedTickList;n<i.length;n++){e+="\n    "+i[n].GetName()}for(var r in t=this.m_vQueueTickList.length,e+="\n\u5206\u5e27\u6267\u884c\uff1a",this.m_vQueueTickList){var o=this.m_vQueueTickList[r];e+="\n  \u95f4\u9694\u5e27\u6570: "+r+"\u5e27\n    ";for(var s=0,a=o;s<a.length;s++){e+=a[s].GetName()+" "}}return e},e}();n.default=i,cc._RF.pop()},{}],TimeLine:[function(e,t,n){"use strict";cc._RF.push(t,"2296eBzksBKwKxcIMTPDjmT","TimeLine"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Core"),r=e("../Config"),o=e("../../proto/msg"),s=e("../gameUI/GameUI"),a=function(){function e(){this.m_stMapConfig=null,this.m_stWaveStartTime=0,this.m_arrMouseQueue=null,this.m_iCurrentTime=0}return e.prototype.Init=function(){},e.prototype.GetName=function(){return"TimeLine"},e.prototype.SetMapConfig=function(e){this.m_stMapConfig=r.default.m_mapMapConfig.get(e),i.default.BattleMgr.m_iFireNum=this.m_stMapConfig.m_iInitFire,this.m_stCurrentWave=0,this.m_iCurrentTime=0,this.m_bIsGameOver=!1,this.m_stWaveStartTime=0,this.m_iNextSkyFire=7,this.CheckInInitCardQueue(),this.CheckInMouseQueue(),this.AddInitEntity()},e.prototype.CheckInInitCardQueue=function(){this.m_arrInitCard||(this.m_arrInitCard=new Array),this.m_arrInitCard.length=0;for(var e=0,t=this.m_stMapConfig.m_arrInitCard;e<t.length;e++)for(var n=t[e],i=n.m_iCardId,o=0,s=n.m_arrPos;o<s.length;o++){var a=s[o],c=0,l=r.default.GRID_MAX_X,d=0,p=r.default.GRID_MAX_Y;-1!=a.X&&(l=(c=a.X)+1),-1!=a.Y&&(p=(d=a.Y)+1);for(var m=c;m<l;m++)for(var f=d;f<p;f++){var h=new u;h.configId=i,h.gridX=m,h.gridY=f,h.time=0,this.m_arrInitCard.push(h)}}},e.prototype.AddInitCard=function(e,t){if(this.m_arrInitCard&&this.m_arrInitCard.length)for(var n=0,r=this.m_arrInitCard;n<r.length;n++){var s=r[n];s.gridX==e&&s.gridY==t||i.default.EventMgr.Emit(o.CSProtoID.INF_ADD_ENTITY,s.ToInfAddEntity())}},e.prototype.CheckInMouseQueue=function(){if(this.m_stMapConfig.m_arrWave[this.m_stCurrentWave]&&"trigger"==this.m_stMapConfig.m_arrWave[this.m_stCurrentWave].m_sType&&(this.m_stCurrentWave++,i.default.BattleMgr.GameUI.ShowWarning()),this.m_arrMouseQueue||(this.m_arrMouseQueue=new Array),this.m_arrMouseQueue.length=0,this.m_stMapConfig.m_arrWave[this.m_stCurrentWave]&&"mouse"==this.m_stMapConfig.m_arrWave[this.m_stCurrentWave].m_sType)for(var e=0,t=this.m_stMapConfig.m_arrWave[this.m_stCurrentWave].m_arrMouse;e<t.length;e++)for(var n=t[e],r=0,o=n.m_arrMouseId;r<o.length;r++)for(var s=o[r],a=0;a<n.m_iNumber;a++){var c=new u;c.configId=Number(s),c.gridX=9,c.time=n.m_iTime,c.gridY=n.m_arrLine[a],n.m_iNumber>=2&&cc.log("\u8001\u9f20\u884c\u6570\uff1a"+c.gridY),this.m_arrMouseQueue.push(c)}this.m_arrMouseQueue.sort(function(e,t){return e.time<t.time?-1:e.time>t.time?1:e.time==t.time?0:void 0})},e.prototype.GameOver=function(){var e=o.InfGameEnd.create();e.result=o.GameResult.Win,e.battleTime=Math.floor(this.m_iCurrentTime/1e3),i.default.EventMgr.Emit(o.CSProtoID.INF_GAME_END,e),this.m_bIsGameOver=!0},e.prototype.Tick=function(e,t){if(i.default.BattleMgr.GameUI.m_iCurrentOptionState==s.OptionState.usePlayer&&(i.default.BattleMgr.m_iUsePlayerTime=i.default.BattleMgr.m_iUsePlayerTime-t,i.default.BattleMgr.GameUI.UpdatePlayerMoveUI()),i.default.BattleMgr.m_bIsTickStart){if(this.m_stMapConfig&&!this.m_bIsGameOver){if(!this.m_stMapConfig.m_arrWave[this.m_stCurrentWave])return i.default.BattleMgr.m_iOverX=-1,i.default.BattleMgr.m_iOverY=-1,void this.GameOver();if(this.m_iCurrentTime+=1e3*t,i.default.BattleMgr.GameUI.UpdateTimeUI(Math.floor(this.m_iCurrentTime/1e3)),Math.floor(this.m_iCurrentTime/1e3)==this.m_iNextSkyFire&&(this.m_iNextSkyFire+=12,i.default.BattleMgr.GameUI.AddSkyFire(i.default.BattleMgr.m_iSkyFireId++)),this.m_arrMouseQueue.length?this.m_arrMouseQueue[0].time+this.m_stWaveStartTime<=this.m_iCurrentTime&&i.default.EventMgr.Emit(o.CSProtoID.INF_ADD_ENTITY,this.m_arrMouseQueue.shift().ToInfAddEntity()):this.m_stMapConfig.m_arrWave[this.m_stCurrentWave].m_bCanSkip&&(this.m_stWaveNextStartTime=this.m_iCurrentTime+2e3),!this.m_stMapConfig.m_arrWave[this.m_stCurrentWave])return i.default.BattleMgr.m_iOverX=-1,i.default.BattleMgr.m_iOverY=-1,void this.GameOver();this.m_stWaveNextStartTime&&this.m_iCurrentTime>=this.m_stWaveNextStartTime&&!i.default.CollisionMgr.BattleIsHasMouse()&&(this.m_stWaveNextStartTime=NaN,this.m_stWaveStartTime=this.m_iCurrentTime,this.m_stCurrentWave++,cc.log("\u6253\u5b8c\u8001\u9f20\u5207\u6ce2\u6b21",this.m_stCurrentWave),this.CheckInMouseQueue()),this.m_iCurrentTime>=this.m_stMapConfig.m_arrWave[this.m_stCurrentWave].m_iTime+this.m_stWaveStartTime&&(this.m_stWaveStartTime=this.m_iCurrentTime,this.m_stCurrentWave++,cc.log("\u6b63\u5e38\u5207\u6ce2\u6b21",this.m_stCurrentWave),this.CheckInMouseQueue())}}else this.m_stWaveStartTime+=1e3*t},e.prototype.AddInitEntity=function(){this.m_stMapConfig},e}();n.default=a;var u=function(){function e(){}return e.prototype.ToInfAddEntity=function(){var e=o.InfAddEntity.create();return e.configID=this.configId,e.gridX=this.gridX,e.gridY=this.gridY,e.entityID=i.default.BattleMgr.m_iMockEntityId++,e.playerID=i.default.ServerHandler.m_iPid+1,e},e}();cc._RF.pop()},{"../../proto/msg":"msg","../Config":"Config","../Core":"Core","../gameUI/GameUI":"GameUI"}],TopMenu:[function(e,t,n){"use strict";cc._RF.push(t,"b6c98t7UnZIzpUK6jgZED++","TopMenu"),Object.defineProperty(n,"__esModule",{value:!0});var i=e(".././BaseUI"),r=e(".././UIMgr"),o=e("../../Core"),s=function(e){function t(){var t=e.call(this,r.UIType.Fixed,r.UIShowMode.Normal,r.UILucenyType.Lucency)||this;return t.UIName=r.UIName.TopMenu,t}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.UINode.getChildByName("New Sprite(Splash)").on(cc.Node.EventType.TOUCH_END,function(){o.default.UIMgr.CloseUI(this.UIName)}.bind(this))},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core",".././BaseUI":"BaseUI",".././UIMgr":"UIMgr"}],UIMgr:[function(e,t,n){"use strict";cc._RF.push(t,"f0fa0tGch1HRZI82CTbjlfx","UIMgr"),Object.defineProperty(n,"__esModule",{value:!0});var i,r,o=e("../Core"),s=e("../Define"),a=e("./TestUI/LeftMenu"),u=e("./TestUI/RightMenu"),c=e("./TestUI/TopMenu"),l=e("./TestUI/BottonMenu"),d=e("./TestUI/TestUI"),p=e("./TestUI/WorldMap"),m=e("./TestUI/PopUp"),f=e("./TestUI/PopUp2"),h=e("./LoginUI"),y=function(){function e(){this.m_sRootPath="prefab/ui/",this.m_mapUIPool=new Map,this.m_mapShowingUI=new Map,this.m_arrReverseChangeUI=new Array}return e.prototype.ShowUI=function(e){if(this.m_mapUIPool.get(e))this.AddUIToRoot(this.m_mapUIPool.get(e));else{switch(e){case i.LoginUI:this.m_mapUIPool.set(e,new h.default);break;case i.TestUI:this.m_mapUIPool.set(e,new d.default);break;case i.LeftMenu:this.m_mapUIPool.set(e,new a.default);break;case i.RightMenu:this.m_mapUIPool.set(e,new u.default);break;case i.TopMenu:this.m_mapUIPool.set(e,new c.default);break;case i.BottonMenu:this.m_mapUIPool.set(e,new l.default);break;case i.WorldMap:this.m_mapUIPool.set(e,new p.default);break;case i.PopUp:this.m_mapUIPool.set(e,new m.default);break;case i.PopUp2:this.m_mapUIPool.set(e,new f.default);break;default:return void cc.log("uiName not defined",e)}o.default.ResourcesMgr.LoadRes(this.m_sRootPath+e,s.ResType.Prefab,function(t){this.m_mapUIPool.get(e).UINode=cc.instantiate(t),this.m_mapUIPool.get(e).Init(),this.AddUIToRoot(this.m_mapUIPool.get(e))}.bind(this))}},e.prototype.CloseUI=function(e){var t=this.m_mapUIPool.get(e);if(t)switch(t.ShowMode){case r.Normal:this.m_mapShowingUI.get(e)&&(t.Hiding(),this.m_mapShowingUI.delete(t.UIName));break;case r.ReverseChange:var n=this.m_arrReverseChangeUI.length;if(this.m_arrReverseChangeUI[n-1].UIName!=e)return;n>=2?(this.m_arrReverseChangeUI[n-1].Hiding(),this.m_arrReverseChangeUI.length=n-1,this.m_arrReverseChangeUI[n-2].Redisplay()):1==n&&(this.m_arrReverseChangeUI[0].Hiding(),this.m_arrReverseChangeUI.length=0);break;case r.HideOther:this.m_mapShowingUI.get(e)&&(t.Hiding(),this.m_mapShowingUI.delete(t.UIName),this.m_mapShowingUI.forEach(function(e){e.Redisplay()}),this.m_arrReverseChangeUI.forEach(function(e){e.Redisplay()}))}},e.prototype.AddUIToRoot=function(e){switch(e.ShowMode){case r.Normal:this.m_mapShowingUI.get(e.UIName)||(this.m_mapShowingUI.set(e.UIName,e),e.Display());break;case r.ReverseChange:var t=this.m_arrReverseChangeUI.length;t>0&&this.m_arrReverseChangeUI[t-1].Freeze(),e.Display(),this.m_arrReverseChangeUI.push(e);break;case r.HideOther:this.m_mapShowingUI.get(e.UIName)||(this.m_mapShowingUI.forEach(function(e){e.Hiding()}),this.m_arrReverseChangeUI.forEach(function(e){e.Hiding()}),this.m_mapShowingUI.set(e.UIName,e),e.Display())}},e}();n.default=y,function(e){e.LoginUI="LoginUI",e.TestUI="TestUI",e.LeftMenu="LeftMenu",e.RightMenu="RightMenu",e.TopMenu="TopMenu",e.BottonMenu="BottonMenu",e.WorldMap="WorldMap",e.PopUp="PopUp",e.PopUp2="PopUp2"}(i=n.UIName||(n.UIName={})),function(e){e[e.Normal=1]="Normal",e[e.Fixed=2]="Fixed",e[e.PopUp=3]="PopUp"}(n.UIType||(n.UIType={})),function(e){e[e.Normal=1]="Normal",e[e.ReverseChange=2]="ReverseChange",e[e.HideOther=3]="HideOther"}(r=n.UIShowMode||(n.UIShowMode={})),function(e){e[e.Lucency=1]="Lucency",e[e.Translucence=2]="Translucence",e[e.ImPenetrable=3]="ImPenetrable",e[e.Pentrate=4]="Pentrate"}(n.UILucenyType||(n.UILucenyType={})),cc._RF.pop()},{"../Core":"Core","../Define":"Define","./LoginUI":"LoginUI","./TestUI/BottonMenu":"BottonMenu","./TestUI/LeftMenu":"LeftMenu","./TestUI/PopUp":"PopUp","./TestUI/PopUp2":"PopUp2","./TestUI/RightMenu":"RightMenu","./TestUI/TestUI":"TestUI","./TestUI/TopMenu":"TopMenu","./TestUI/WorldMap":"WorldMap"}],UIRoot:[function(e,t,n){"use strict";cc._RF.push(t,"b2550oamHFOoZJiWLTkMpSa","UIRoot"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Config"),r=function(e){function t(){var t=e.call(this)||this;return t.Init(),t}return __extends(t,e),t.prototype.Init=function(){cc.game.addPersistRootNode(this),this.addChild(this.m_stNormalNode=new cc.Node),this.addChild(this.m_stFixedNode=new cc.Node),this.addChild(this.m_stPopUpNode=new cc.Node),this.m_stPopUpNode.addChild(this.m_stMaskNode=new cc.Node),this.m_stMaskNode.addComponent(cc.BlockInputEvents),this.m_stMaskNode.width=i.default.BATTLE_WIDTH,this.m_stMaskNode.height=i.default.BATTLE_HEIGHT,this.m_stMaskNode.zIndex=999,this.m_stMaskNode.active=!1,this.x=i.default.BATTLE_WIDTH/2,this.y=i.default.BATTLE_HEIGHT/2},t.prototype.ShowMask=function(){this.m_stMaskNode.active=!0},t.prototype.HideMask=function(){this.m_stMaskNode.active=!1},Object.defineProperty(t.prototype,"Normal",{get:function(){return this.m_stNormalNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Fixed",{get:function(){return this.m_stFixedNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"PopUp",{get:function(){return this.m_stPopUpNode},enumerable:!0,configurable:!0}),t}(cc.Node);n.default=r,cc._RF.pop()},{"../Config":"Config"}],Updater:[function(e,t,n){"use strict";cc._RF.push(t,"991c7an+sJGvKDjU9lqvEWn","Updater"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Core"),r=cc._decorator,o=r.ccclass,s=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){},t.prototype.update=function(e){i.default.Get().Update(e)},t=__decorate([o],t)}(cc.Component));n.default=s,cc._RF.pop()},{"./Core":"Core"}],UserDetail:[function(e,t,n){"use strict";cc._RF.push(t,"2c2deJ/tiFChp0voZAYieFl","UserDetail"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return Object.defineProperty(e.prototype,"Level",{get:function(){return 16},enumerable:!0,configurable:!0}),e}();n.default=i,cc._RF.pop()},{}],Vec2:[function(e,t,n){"use strict";cc._RF.push(t,"b4384ekTiRFELVyZW8lD3tO","Vec2"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(e,t){this.x=0,this.y=0,e&&(this.x=e),t&&(this.y=t)}}();n.default=i,cc._RF.pop()},{}],VirtualCard:[function(e,t,n){"use strict";cc._RF.push(t,"f2947bS9vBMqongt78ZzvYJ","VirtualCard"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Config"),r=e("../Core"),o=e("../Define"),s=function(e){function t(t){var n=e.call(this)||this;return n.Init(t),n}return __extends(t,e),t.prototype.Init=function(e){this.m_pGameUI=e,this.addComponent(cc.Sprite),this.opacity=100,this.scale=i.default.SPINE_SCALE,this.active=!1,this.m_pGameUI.m_stNode.addChild(this)},t.prototype.Show=function(e){if(-1!=e){if(!this.active&&e){var t="gameUI/0x".concat(e.toString(16)+"v");r.default.ResourcesMgr.LoadRes(t,o.ResType.BitmapRes,function(e){this.getComponent(cc.Sprite).spriteFrame=e}.bind(this)),this.active=!0}}else this.active=!1},t.prototype.Hide=function(){this.active=!1,this.x=-i.default.BATTLE_WIDTH,this.y=-i.default.BATTLE_HEIGHT},t.prototype.SetPos=function(e,t){this.x=e,this.y=t},t}(cc.Node);n.default=s,cc._RF.pop()},{"../Config":"Config","../Core":"Core","../Define":"Define"}],WarningAnim:[function(e,t,n){"use strict";cc._RF.push(t,"1e893EWFAVOaL9sHj3X3XAJ","WarningAnim"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){this.m_stGameUI=e}return e.prototype.BindNode=function(e){this.m_stNode=e,this.m_stSpine=this.m_stNode.getComponent(sp.Skeleton),this.m_stNode.active=!1},e.prototype.Show=function(){this.m_stNode.active=!0,this.m_stSpine.setAnimation(0,"Idle",!1),this.m_stSpine.setCompleteListener(this.Hide.bind(this))},e.prototype.Hide=function(){this.m_stNode.active=!1},e}();n.default=i,cc._RF.pop()},{}],WorldMap:[function(e,t,n){"use strict";cc._RF.push(t,"fec380GfS9Fbak/EDuUp+1W","WorldMap"),Object.defineProperty(n,"__esModule",{value:!0});var i=e(".././BaseUI"),r=e(".././UIMgr"),o=e("../../Core"),s=function(e){function t(){var t=e.call(this,r.UIType.Normal,r.UIShowMode.HideOther,r.UILucenyType.Lucency)||this;return t.UIName=r.UIName.WorldMap,t}return __extends(t,e),t.prototype.Init=function(){e.prototype.Init.call(this),this.UINode.getChildByName("New Sprite(Splash)").on(cc.Node.EventType.TOUCH_END,function(){o.default.UIMgr.CloseUI(this.UIName)}.bind(this))},t}(i.default);n.default=s,cc._RF.pop()},{"../../Core":"Core",".././BaseUI":"BaseUI",".././UIMgr":"UIMgr"}],XiaoChouYuShu:[function(e,t,n){"use strict";cc._RF.push(t,"dfd5budhodK9YiSTl04pgVk","XiaoChouYuShu"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../BaseCom"),r=e("../BaseSystem"),o=e("../ECSDefine"),s=e("../system/SpineSys"),a=e("../../../proto/msg"),u=e("../../Config"),c=e("../../Core"),l=e("../../Define"),d=function(e){function t(){return e.call(this,o.ComType.XiaoChouYuShu)||this}return __extends(t,e),t.prototype.ReadFromFile=function(e){},t.prototype.CopyFrom=function(e){},t.prototype.Reset=function(){},t}(i.default);n.XiaoChouYuCom=d;var p=function(e){function t(){var t=e.call(this,o.ComType.XiaoChouYuShu)||this;return t.m_stMouseFSM=new m,t}return __extends(t,e),t.prototype.OnLoad=function(){},t.prototype.Start=function(){this.m_stMouseFSM.Init(this.m_pOwnEntity),this.m_stMouseFSM.InputStatus(new f)},t.prototype.Tick=function(e,t){this.m_stHPCom.m_iHP>0?this.m_stMouseFSM.GetCurrentState().Tick(t):(this.GetSysByType(o.ComType.HP).Enabled=!0,this.GetSysByType(o.ComType.HP).Tick(e,t))},t.prototype.OnChangeCom=function(){this.m_stHPCom=this.m_pOwnEntity.GetComByType(o.ComType.HP)},t}(r.default);n.XiaoChouYuSys=p;var m=function(){function e(){}return e.prototype.Init=function(e){this.m_pEntity=e,this.m_bHasEquip=!0,this.m_stActionFSMCom=e.GetComByType(o.ComType.ActionFSM),this.m_stTargetSys=e.GetSysByType(o.ComType.Target),this.m_stSpineSys=e.GetSysByType(o.ComType.Spine),this.m_stHPCom=e.GetComByType(o.ComType.HP),this.m_stMoveCom=e.GetComByType(o.ComType.Move),this.m_stDirectAttackSys=e.GetSysByType(o.ComType.DirectAttack),this.m_stDirectAttackSys.Enabled=!1,e.GetSysByType(o.ComType.Move).Enabled=!1,this.m_iJumpGridX=-1},e.prototype.InputStatus=function(e){this.m_stLastState=this.m_stCurrentState,this.m_stLastState&&this.m_stLastState.Exit(e),this.m_stCurrentState=e,this.m_stCurrentState.HandleInput(this),this.m_stCurrentState.Enter()},e.prototype.GetCurrentState=function(){return this.m_stCurrentState},e}(),f=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){this.m_stFSM.m_stDirectAttackSys.Enabled=!1},e.prototype.Tick=function(e){this.m_stFSM.m_stTargetSys.HasTarget()&&this.m_stFSM.m_bHasEquip?this.m_stFSM.InputStatus(new h):this.m_stFSM.m_stTargetSys.HasTarget()?this.m_stFSM.InputStatus(new _):this.m_stFSM.InputStatus(new y)},e.prototype.Exit=function(e){},e}(),h=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){this.m_stFSM.m_pEntity.GetSysByType(o.ComType.HP).Enabled=!1;var e=this;this.m_stFSM.m_iJumpGridX=this.m_stFSM.m_pEntity.Node.GridX,this.m_stFSM.m_stSpineSys.PlayAnim(s.AnimName.Skill,!1,function(){e.m_stFSM.m_bHasEquip=!1,e.m_stFSM.InputStatus(new f)})},e.prototype.Tick=function(e){this.m_stFSM.m_iJumpGridX==this.m_stFSM.m_pEntity.Node.GridX?this.m_stFSM.m_pEntity.Node.x-=e/20*2*u.default.GRID_WIDTH/60*1e3:this.m_stFSM.m_pEntity.Node.x-=e/20*1*u.default.GRID_WIDTH/60*1e3},e.prototype.Exit=function(e){this.m_stFSM.m_pEntity.GetSysByType(o.ComType.HP).Enabled=!0,this.m_stFSM.m_bHasEquip=!1},e}(),y=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){this.m_stFSM.m_bHasEquip?this.m_stFSM.m_stSpineSys.PlayAnim(s.AnimName.Walk_Special,!0,null):this.m_stFSM.m_stSpineSys.PlayAnim(s.AnimName.Walk_Normal,!0,null)},e.prototype.Tick=function(e){var t=this.m_stFSM.m_stMoveCom.m_iSpeed*e*u.default.GAME_FPS;this.m_stFSM.m_pEntity.Node.x+=t>u.default.GRID_WIDTH?u.default.GRID_WIDTH-1:t,this.m_stFSM.m_stTargetSys.HasTarget()&&this.m_stFSM.m_bHasEquip?this.m_stFSM.InputStatus(new h):this.m_stFSM.m_stTargetSys.HasTarget()&&this.m_stFSM.InputStatus(new _),this.m_stFSM.m_pEntity.Node.x>u.default.BATTLE_WIDTH&&c.default.ECSMgr.RemoveEntity(this.m_stFSM.m_pEntity),this.m_stFSM.m_pEntity.Node.x<0&&this.m_stFSM.m_pEntity.NodeType==l.NodeType.Mouse&&(c.default.BattleMgr.m_iOverX=this.m_stFSM.m_pEntity.Node.GridX-.5,c.default.BattleMgr.m_iOverY=this.m_stFSM.m_pEntity.Node.GridY,c.default.TimeLine.GameOver())},e.prototype.Exit=function(e){},e}(),_=function(){function e(){}return e.prototype.HandleInput=function(e){this.m_stFSM=e},e.prototype.Enter=function(){this.m_stFSM.m_stSpineSys.PlayAnim(s.AnimName.Attack,!0,null)},e.prototype.Tick=function(e){this.m_stFSM.m_stTargetSys.HasTarget()?this.m_stFSM.m_stActionFSMCom.m_iNextAction=a.EntityAction.ATTACK:this.m_stFSM.InputStatus(new f)},e.prototype.Exit=function(e){},e}();cc._RF.pop()},{"../../../proto/msg":"msg","../../Config":"Config","../../Core":"Core","../../Define":"Define","../BaseCom":"BaseCom","../BaseSystem":"BaseSystem","../ECSDefine":"ECSDefine","../system/SpineSys":"SpineSys"}],"gray.frag":[function(e,t,n){"use strict";cc._RF.push(t,"00245yXXgdAO4wRITn1k4WL","gray.frag"),t.exports="\n#ifdef GL_ES\nprecision lowp float;\n#endif\n\nvarying vec4 v_fragmentColor;\nvarying vec2 v_texCoord;\nvoid main()\n{\n    vec4 c = v_fragmentColor * texture2D(CC_Texture0, v_texCoord);\n    gl_FragColor.xyz = vec3(0.2126*c.r + 0.7152*c.g + 0.0722*c.b);\n    gl_FragColor.w = c.w;\n}\n",cc._RF.pop()},{}],"gray.vert":[function(e,t,n){"use strict";cc._RF.push(t,"c209fjzVrZA5bi2SG8ogxW9","gray.vert"),t.exports="\nattribute vec4 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying vec4 v_fragmentColor; \nvarying vec2 v_texCoord; \nvoid main() \n{ \n    gl_Position = CC_PMatrix * a_position;\n    v_fragmentColor = a_color; \n    v_texCoord = a_texCoord; \n}\n",cc._RF.pop()},{}],msg:[function(e,t,n){"use strict";cc._RF.push(t,"1076fEci7NHUrruaNZEkP60","msg");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("protobufjs/minimal"),o=r.Reader,s=r.Writer,a=r.util,u=r.roots.default||(r.roots.default={});u.ReqPlayerAuth=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.uid=0,e.prototype.name="",e.prototype.sesskey="",e.prototype.platform=0,e.prototype.serverid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.uid),t.uint32(18).string(e.name),t.uint32(26).string(e.sesskey),t.uint32(32).int32(e.platform),t.uint32(40).int32(e.serverid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqPlayerAuth;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.uid=e.int32();break;case 2:i.name=e.string();break;case 3:i.sesskey=e.string();break;case 4:i.platform=e.int32();break;case 5:i.serverid=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("uid"))throw a.ProtocolError("missing required 'uid'",{instance:i});if(!i.hasOwnProperty("name"))throw a.ProtocolError("missing required 'name'",{instance:i});if(!i.hasOwnProperty("sesskey"))throw a.ProtocolError("missing required 'sesskey'",{instance:i});if(!i.hasOwnProperty("platform"))throw a.ProtocolError("missing required 'platform'",{instance:i});if(!i.hasOwnProperty("serverid"))throw a.ProtocolError("missing required 'serverid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.uid)?a.isString(e.name)?a.isString(e.sesskey)?a.isInteger(e.platform)?a.isInteger(e.serverid)?null:"serverid: integer expected":"platform: integer expected":"sesskey: string expected":"name: string expected":"uid: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqPlayerAuth)return e;var t=new u.ReqPlayerAuth;return null!=e.uid&&(t.uid=0|e.uid),null!=e.name&&(t.name=String(e.name)),null!=e.sesskey&&(t.sesskey=String(e.sesskey)),null!=e.platform&&(t.platform=0|e.platform),null!=e.serverid&&(t.serverid=0|e.serverid),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.uid=0,n.name="",n.sesskey="",n.platform=0,n.serverid=0),null!=e.uid&&e.hasOwnProperty("uid")&&(n.uid=e.uid),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.sesskey&&e.hasOwnProperty("sesskey")&&(n.sesskey=e.sesskey),null!=e.platform&&e.hasOwnProperty("platform")&&(n.platform=e.platform),null!=e.serverid&&e.hasOwnProperty("serverid")&&(n.serverid=e.serverid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspPlayerAuth=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.ip="",e.prototype.port=0,e.prototype.pid=0,e.prototype.token="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),null!=e.ip&&e.hasOwnProperty("ip")&&t.uint32(18).string(e.ip),null!=e.port&&e.hasOwnProperty("port")&&t.uint32(24).int32(e.port),null!=e.pid&&e.hasOwnProperty("pid")&&t.uint32(32).int32(e.pid),null!=e.token&&e.hasOwnProperty("token")&&t.uint32(42).string(e.token),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspPlayerAuth;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.ip=e.string();break;case 3:i.port=e.int32();break;case 4:i.pid=e.int32();break;case 5:i.token=e.string();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null!=e.ip&&e.hasOwnProperty("ip")&&!a.isString(e.ip)?"ip: string expected":null!=e.port&&e.hasOwnProperty("port")&&!a.isInteger(e.port)?"port: integer expected":null!=e.pid&&e.hasOwnProperty("pid")&&!a.isInteger(e.pid)?"pid: integer expected":null!=e.token&&e.hasOwnProperty("token")&&!a.isString(e.token)?"token: string expected":null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspPlayerAuth)return e;var t=new u.RspPlayerAuth;return null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.ip&&(t.ip=String(e.ip)),null!=e.port&&(t.port=0|e.port),null!=e.pid&&(t.pid=0|e.pid),null!=e.token&&(t.token=String(e.token)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0,n.ip="",n.port=0,n.pid=0,n.token=""),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.ip&&e.hasOwnProperty("ip")&&(n.ip=e.ip),null!=e.port&&e.hasOwnProperty("port")&&(n.port=e.port),null!=e.pid&&e.hasOwnProperty("pid")&&(n.pid=e.pid),null!=e.token&&e.hasOwnProperty("token")&&(n.token=e.token),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.PlayerBaseData=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pid=0,e.prototype.sexType=0,e.prototype.status=0,e.prototype.name="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.pid),t.uint32(16).int32(e.sexType),t.uint32(24).int32(e.status),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(34).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.PlayerBaseData;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.pid=e.int32();break;case 2:i.sexType=e.int32();break;case 3:i.status=e.int32();break;case 4:i.name=e.string();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("pid"))throw a.ProtocolError("missing required 'pid'",{instance:i});if(!i.hasOwnProperty("sexType"))throw a.ProtocolError("missing required 'sexType'",{instance:i});if(!i.hasOwnProperty("status"))throw a.ProtocolError("missing required 'status'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.pid))return"pid: integer expected";switch(e.sexType){default:return"sexType: enum value expected";case 0:case 1:case 2:}switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}return null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name)?"name: string expected":null},e.fromObject=function(e){if(e instanceof u.PlayerBaseData)return e;var t=new u.PlayerBaseData;switch(null!=e.pid&&(t.pid=0|e.pid),e.sexType){case"PLAYERSEX_NOT":case 0:t.sexType=0;break;case"PLAYERSEX_BOY":case 1:t.sexType=1;break;case"PLAYERSEX_GIRL":case 2:t.sexType=2}switch(e.status){case"TABLE_OUT":case 0:t.status=0;break;case"TABLE_IN":case 1:t.status=1;break;case"TABLE_READY":case 2:t.status=2;break;case"TABLE_LOADED":case 3:t.status=3;break;case"TABLE_GAME":case 4:t.status=4;break;case"TABLE_END":case 5:t.status=5}return null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.pid=0,n.sexType=t.enums===String?"PLAYERSEX_NOT":0,n.status=t.enums===String?"TABLE_OUT":0,n.name=""),null!=e.pid&&e.hasOwnProperty("pid")&&(n.pid=e.pid),null!=e.sexType&&e.hasOwnProperty("sexType")&&(n.sexType=t.enums===String?u.PlayerSex[e.sexType]:e.sexType),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?u.PlayerTableStatus[e.status]:e.status),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.BaseCardInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cardID=0,e.prototype.level=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.cardID),t.uint32(16).int32(e.level),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.BaseCardInfo;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.cardID=e.int32();break;case 2:i.level=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("cardID"))throw a.ProtocolError("missing required 'cardID'",{instance:i});if(!i.hasOwnProperty("level"))throw a.ProtocolError("missing required 'level'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.cardID)?a.isInteger(e.level)?null:"level: integer expected":"cardID: integer expected"},e.fromObject=function(e){if(e instanceof u.BaseCardInfo)return e;var t=new u.BaseCardInfo;return null!=e.cardID&&(t.cardID=0|e.cardID),null!=e.level&&(t.level=0|e.level),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.cardID=0,n.level=0),null!=e.cardID&&e.hasOwnProperty("cardID")&&(n.cardID=e.cardID),null!=e.level&&e.hasOwnProperty("level")&&(n.level=e.level),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.PlayerBattleData=function(){function e(e){if(this.cardList=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.player=null,e.prototype.cardList=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),u.PlayerBaseData.encode(e.player,t.uint32(10).fork()).ldelim(),null!=e.cardList&&e.cardList.length)for(var n=0;n<e.cardList.length;++n)u.BaseCardInfo.encode(e.cardList[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.PlayerBattleData;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.player=u.PlayerBaseData.decode(e,e.uint32());break;case 2:i.cardList&&i.cardList.length||(i.cardList=[]),i.cardList.push(u.BaseCardInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("player"))throw a.ProtocolError("missing required 'player'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(n=u.PlayerBaseData.verify(e.player))return"player."+n;if(null!=e.cardList&&e.hasOwnProperty("cardList")){if(!Array.isArray(e.cardList))return"cardList: array expected";for(var t=0;t<e.cardList.length;++t){var n;if(n=u.BaseCardInfo.verify(e.cardList[t]))return"cardList."+n}}return null},e.fromObject=function(e){if(e instanceof u.PlayerBattleData)return e;var t=new u.PlayerBattleData;if(null!=e.player){if("object"!==i(e.player))throw TypeError(".PlayerBattleData.player: object expected");t.player=u.PlayerBaseData.fromObject(e.player)}if(e.cardList){if(!Array.isArray(e.cardList))throw TypeError(".PlayerBattleData.cardList: array expected");t.cardList=[];for(var n=0;n<e.cardList.length;++n){if("object"!==i(e.cardList[n]))throw TypeError(".PlayerBattleData.cardList: object expected");t.cardList[n]=u.BaseCardInfo.fromObject(e.cardList[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.cardList=[]),t.defaults&&(n.player=null),null!=e.player&&e.hasOwnProperty("player")&&(n.player=u.PlayerBaseData.toObject(e.player,t)),e.cardList&&e.cardList.length){n.cardList=[];for(var i=0;i<e.cardList.length;++i)n.cardList[i]=u.BaseCardInfo.toObject(e.cardList[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqPlayerLogin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.pid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqPlayerLogin;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.pid=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("pid"))throw a.ProtocolError("missing required 'pid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.pid)?null:"pid: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqPlayerLogin)return e;var t=new u.ReqPlayerLogin;return null!=e.pid&&(t.pid=0|e.pid),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.pid=0),null!=e.pid&&e.hasOwnProperty("pid")&&(n.pid=e.pid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspPlayerLogin=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.isNewUser=!1,e.prototype.name="",e.prototype.roleSex=0,e.prototype.tableID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),null!=e.isNewUser&&e.hasOwnProperty("isNewUser")&&t.uint32(16).bool(e.isNewUser),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(26).string(e.name),null!=e.roleSex&&e.hasOwnProperty("roleSex")&&t.uint32(32).int32(e.roleSex),null!=e.tableID&&e.hasOwnProperty("tableID")&&t.uint32(40).int32(e.tableID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspPlayerLogin;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.isNewUser=e.bool();break;case 3:i.name=e.string();break;case 4:i.roleSex=e.int32();break;case 5:i.tableID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.resultID))return"resultID: integer expected";if(null!=e.isNewUser&&e.hasOwnProperty("isNewUser")&&"boolean"!=typeof e.isNewUser)return"isNewUser: boolean expected";if(null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name))return"name: string expected";if(null!=e.roleSex&&e.hasOwnProperty("roleSex"))switch(e.roleSex){default:return"roleSex: enum value expected";case 0:case 1:case 2:}return null!=e.tableID&&e.hasOwnProperty("tableID")&&!a.isInteger(e.tableID)?"tableID: integer expected":null},e.fromObject=function(e){if(e instanceof u.RspPlayerLogin)return e;var t=new u.RspPlayerLogin;switch(null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.isNewUser&&(t.isNewUser=Boolean(e.isNewUser)),null!=e.name&&(t.name=String(e.name)),e.roleSex){case"PLAYERSEX_NOT":case 0:t.roleSex=0;break;case"PLAYERSEX_BOY":case 1:t.roleSex=1;break;case"PLAYERSEX_GIRL":case 2:t.roleSex=2}return null!=e.tableID&&(t.tableID=0|e.tableID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0,n.isNewUser=!1,n.name="",n.roleSex=t.enums===String?"PLAYERSEX_NOT":0,n.tableID=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.isNewUser&&e.hasOwnProperty("isNewUser")&&(n.isNewUser=e.isNewUser),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.roleSex&&e.hasOwnProperty("roleSex")&&(n.roleSex=t.enums===String?u.PlayerSex[e.roleSex]:e.roleSex),null!=e.tableID&&e.hasOwnProperty("tableID")&&(n.tableID=e.tableID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqSetRoleInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.roleSex=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(10).string(e.name),t.uint32(16).int32(e.roleSex),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqSetRoleInfo;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.name=e.string();break;case 2:i.roleSex=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("name"))throw a.ProtocolError("missing required 'name'",{instance:i});if(!i.hasOwnProperty("roleSex"))throw a.ProtocolError("missing required 'roleSex'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isString(e.name))return"name: string expected";switch(e.roleSex){default:return"roleSex: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.ReqSetRoleInfo)return e;var t=new u.ReqSetRoleInfo;switch(null!=e.name&&(t.name=String(e.name)),e.roleSex){case"PLAYERSEX_NOT":case 0:t.roleSex=0;break;case"PLAYERSEX_BOY":case 1:t.roleSex=1;break;case"PLAYERSEX_GIRL":case 2:t.roleSex=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.roleSex=t.enums===String?"PLAYERSEX_NOT":0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.roleSex&&e.hasOwnProperty("roleSex")&&(n.roleSex=t.enums===String?u.PlayerSex[e.roleSex]:e.roleSex),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspSetRoleInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspSetRoleInfo;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspSetRoleInfo)return e;var t=new u.RspSetRoleInfo;return null!=e.resultID&&(t.resultID=0|e.resultID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqDelayTime=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.microsec=a.Long?a.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int64(e.microsec),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqDelayTime;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.microsec=e.int64();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("microsec"))throw a.ProtocolError("missing required 'microsec'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.microsec)||e.microsec&&a.isInteger(e.microsec.low)&&a.isInteger(e.microsec.high)?null:"microsec: integer|Long expected"},e.fromObject=function(e){if(e instanceof u.ReqDelayTime)return e;var t=new u.ReqDelayTime;return null!=e.microsec&&(a.Long?(t.microsec=a.Long.fromValue(e.microsec)).unsigned=!1:"string"==typeof e.microsec?t.microsec=parseInt(e.microsec,10):"number"==typeof e.microsec?t.microsec=e.microsec:"object"===i(e.microsec)&&(t.microsec=new a.LongBits(e.microsec.low>>>0,e.microsec.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(a.Long){var i=new a.Long(0,0,!1);n.microsec=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.microsec=t.longs===String?"0":0;return null!=e.microsec&&e.hasOwnProperty("microsec")&&("number"==typeof e.microsec?n.microsec=t.longs===String?String(e.microsec):e.microsec:n.microsec=t.longs===String?a.Long.prototype.toString.call(e.microsec):t.longs===Number?new a.LongBits(e.microsec.low>>>0,e.microsec.high>>>0).toNumber():e.microsec),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspDelayTime=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.microsec=a.Long?a.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int64(e.microsec),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspDelayTime;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.microsec=e.int64();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("microsec"))throw a.ProtocolError("missing required 'microsec'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.microsec)||e.microsec&&a.isInteger(e.microsec.low)&&a.isInteger(e.microsec.high)?null:"microsec: integer|Long expected"},e.fromObject=function(e){if(e instanceof u.RspDelayTime)return e;var t=new u.RspDelayTime;return null!=e.microsec&&(a.Long?(t.microsec=a.Long.fromValue(e.microsec)).unsigned=!1:"string"==typeof e.microsec?t.microsec=parseInt(e.microsec,10):"number"==typeof e.microsec?t.microsec=e.microsec:"object"===i(e.microsec)&&(t.microsec=new a.LongBits(e.microsec.low>>>0,e.microsec.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults)if(a.Long){var i=new a.Long(0,0,!1);n.microsec=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.microsec=t.longs===String?"0":0;return null!=e.microsec&&e.hasOwnProperty("microsec")&&("number"==typeof e.microsec?n.microsec=t.longs===String?String(e.microsec):e.microsec:n.microsec=t.longs===String?a.Long.prototype.toString.call(e.microsec):t.longs===Number?new a.LongBits(e.microsec.low>>>0,e.microsec.high>>>0).toNumber():e.microsec),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqCreateTeam=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.mapid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(10).string(e.name),t.uint32(16).int32(e.mapid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqCreateTeam;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.name=e.string();break;case 2:i.mapid=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("name"))throw a.ProtocolError("missing required 'name'",{instance:i});if(!i.hasOwnProperty("mapid"))throw a.ProtocolError("missing required 'mapid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isString(e.name)?a.isInteger(e.mapid)?null:"mapid: integer expected":"name: string expected"},e.fromObject=function(e){if(e instanceof u.ReqCreateTeam)return e;var t=new u.ReqCreateTeam;return null!=e.name&&(t.name=String(e.name)),null!=e.mapid&&(t.mapid=0|e.mapid),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.name="",n.mapid=0),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.mapid&&e.hasOwnProperty("mapid")&&(n.mapid=e.mapid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspCreateTeam=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.teamID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),null!=e.teamID&&e.hasOwnProperty("teamID")&&t.uint32(16).int32(e.teamID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspCreateTeam;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.teamID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null!=e.teamID&&e.hasOwnProperty("teamID")&&!a.isInteger(e.teamID)?"teamID: integer expected":null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspCreateTeam)return e;var t=new u.RspCreateTeam;return null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.teamID&&(t.teamID=0|e.teamID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0,n.teamID=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.teamID&&e.hasOwnProperty("teamID")&&(n.teamID=e.teamID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqTeamList=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqTeamList;e.pos<n;){var r=e.uint32();e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.ReqTeamList?e:new u.ReqTeamList},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.MsgTeamInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.teamID=0,e.prototype.name="",e.prototype.mapID=0,e.prototype.count=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.teamID),null!=e.name&&e.hasOwnProperty("name")&&t.uint32(18).string(e.name),t.uint32(24).int32(e.mapID),t.uint32(32).int32(e.count),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.MsgTeamInfo;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.teamID=e.int32();break;case 2:i.name=e.string();break;case 3:i.mapID=e.int32();break;case 4:i.count=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("teamID"))throw a.ProtocolError("missing required 'teamID'",{instance:i});if(!i.hasOwnProperty("mapID"))throw a.ProtocolError("missing required 'mapID'",{instance:i});if(!i.hasOwnProperty("count"))throw a.ProtocolError("missing required 'count'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.teamID)?null!=e.name&&e.hasOwnProperty("name")&&!a.isString(e.name)?"name: string expected":a.isInteger(e.mapID)?a.isInteger(e.count)?null:"count: integer expected":"mapID: integer expected":"teamID: integer expected"},e.fromObject=function(e){if(e instanceof u.MsgTeamInfo)return e;var t=new u.MsgTeamInfo;return null!=e.teamID&&(t.teamID=0|e.teamID),null!=e.name&&(t.name=String(e.name)),null!=e.mapID&&(t.mapID=0|e.mapID),null!=e.count&&(t.count=0|e.count),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.teamID=0,n.name="",n.mapID=0,n.count=0),null!=e.teamID&&e.hasOwnProperty("teamID")&&(n.teamID=e.teamID),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.mapID&&e.hasOwnProperty("mapID")&&(n.mapID=e.mapID),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspTableList=function(){function e(e){if(this.teams=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.count=0,e.prototype.teams=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),t.uint32(8).int32(e.count),null!=e.teams&&e.teams.length)for(var n=0;n<e.teams.length;++n)u.MsgTeamInfo.encode(e.teams[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspTableList;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.count=e.int32();break;case 2:i.teams&&i.teams.length||(i.teams=[]),i.teams.push(u.MsgTeamInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("count"))throw a.ProtocolError("missing required 'count'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.count))return"count: integer expected";if(null!=e.teams&&e.hasOwnProperty("teams")){if(!Array.isArray(e.teams))return"teams: array expected";for(var t=0;t<e.teams.length;++t){var n=u.MsgTeamInfo.verify(e.teams[t]);if(n)return"teams."+n}}return null},e.fromObject=function(e){if(e instanceof u.RspTableList)return e;var t=new u.RspTableList;if(null!=e.count&&(t.count=0|e.count),e.teams){if(!Array.isArray(e.teams))throw TypeError(".RspTableList.teams: array expected");t.teams=[];for(var n=0;n<e.teams.length;++n){if("object"!==i(e.teams[n]))throw TypeError(".RspTableList.teams: object expected");t.teams[n]=u.MsgTeamInfo.fromObject(e.teams[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.teams=[]),t.defaults&&(n.count=0),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),e.teams&&e.teams.length){n.teams=[];for(var i=0;i<e.teams.length;++i)n.teams[i]=u.MsgTeamInfo.toObject(e.teams[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqJoinTeam=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.teamID=0,e.prototype.identityType=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.teamID),null!=e.identityType&&e.hasOwnProperty("identityType")&&t.uint32(16).int32(e.identityType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqJoinTeam;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.teamID=e.int32();break;case 2:i.identityType=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("teamID"))throw a.ProtocolError("missing required 'teamID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.teamID))return"teamID: integer expected";if(null!=e.identityType&&e.hasOwnProperty("identityType"))switch(e.identityType){default:return"identityType: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.ReqJoinTeam)return e;var t=new u.ReqJoinTeam;switch(null!=e.teamID&&(t.teamID=0|e.teamID),e.identityType){case"IDENTITY_NONE":case 0:t.identityType=0;break;case"IDENTITY_PLAYER":case 1:t.identityType=1;break;case"IDENTITY_OBSERVER":case 2:t.identityType=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.teamID=0,n.identityType=t.enums===String?"IDENTITY_PLAYER":1),null!=e.teamID&&e.hasOwnProperty("teamID")&&(n.teamID=e.teamID),null!=e.identityType&&e.hasOwnProperty("identityType")&&(n.identityType=t.enums===String?u.IdentityType[e.identityType]:e.identityType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfPlayerTableStatus=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.roomHostID=0,e.prototype.pid=0,e.prototype.status=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),null!=e.roomHostID&&e.hasOwnProperty("roomHostID")&&t.uint32(8).int32(e.roomHostID),t.uint32(16).int32(e.pid),t.uint32(24).int32(e.status),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfPlayerTableStatus;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.roomHostID=e.int32();break;case 2:i.pid=e.int32();break;case 3:i.status=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("pid"))throw a.ProtocolError("missing required 'pid'",{instance:i});if(!i.hasOwnProperty("status"))throw a.ProtocolError("missing required 'status'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(null!=e.roomHostID&&e.hasOwnProperty("roomHostID")&&!a.isInteger(e.roomHostID))return"roomHostID: integer expected";if(!a.isInteger(e.pid))return"pid: integer expected";switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}return null},e.fromObject=function(e){if(e instanceof u.InfPlayerTableStatus)return e;var t=new u.InfPlayerTableStatus;switch(null!=e.roomHostID&&(t.roomHostID=0|e.roomHostID),null!=e.pid&&(t.pid=0|e.pid),e.status){case"TABLE_OUT":case 0:t.status=0;break;case"TABLE_IN":case 1:t.status=1;break;case"TABLE_READY":case 2:t.status=2;break;case"TABLE_LOADED":case 3:t.status=3;break;case"TABLE_GAME":case 4:t.status=4;break;case"TABLE_END":case 5:t.status=5}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.roomHostID=0,n.pid=0,n.status=t.enums===String?"TABLE_OUT":0),null!=e.roomHostID&&e.hasOwnProperty("roomHostID")&&(n.roomHostID=e.roomHostID),null!=e.pid&&e.hasOwnProperty("pid")&&(n.pid=e.pid),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?u.PlayerTableStatus[e.status]:e.status),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfPlayerJoinTeam=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.roomHostPid=0,e.prototype.players=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.roomHostPid),u.PlayerBaseData.encode(e.players,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfPlayerJoinTeam;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.roomHostPid=e.int32();break;case 2:i.players=u.PlayerBaseData.decode(e,e.uint32());break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("roomHostPid"))throw a.ProtocolError("missing required 'roomHostPid'",{instance:i});if(!i.hasOwnProperty("players"))throw a.ProtocolError("missing required 'players'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.roomHostPid))return"roomHostPid: integer expected";var t=u.PlayerBaseData.verify(e.players);return t?"players."+t:null},e.fromObject=function(e){if(e instanceof u.InfPlayerJoinTeam)return e;var t=new u.InfPlayerJoinTeam;if(null!=e.roomHostPid&&(t.roomHostPid=0|e.roomHostPid),null!=e.players){if("object"!==i(e.players))throw TypeError(".InfPlayerJoinTeam.players: object expected");t.players=u.PlayerBaseData.fromObject(e.players)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.roomHostPid=0,n.players=null),null!=e.roomHostPid&&e.hasOwnProperty("roomHostPid")&&(n.roomHostPid=e.roomHostPid),null!=e.players&&e.hasOwnProperty("players")&&(n.players=u.PlayerBaseData.toObject(e.players,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspJoinTeam=function(){function e(e){if(this.players=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.teamHostPid=0,e.prototype.players=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),t.uint32(8).int32(e.resultID),null!=e.teamHostPid&&e.hasOwnProperty("teamHostPid")&&t.uint32(16).int32(e.teamHostPid),null!=e.players&&e.players.length)for(var n=0;n<e.players.length;++n)u.PlayerBaseData.encode(e.players[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspJoinTeam;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.teamHostPid=e.int32();break;case 3:i.players&&i.players.length||(i.players=[]),i.players.push(u.PlayerBaseData.decode(e,e.uint32()));break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.resultID))return"resultID: integer expected";if(null!=e.teamHostPid&&e.hasOwnProperty("teamHostPid")&&!a.isInteger(e.teamHostPid))return"teamHostPid: integer expected";if(null!=e.players&&e.hasOwnProperty("players")){if(!Array.isArray(e.players))return"players: array expected";for(var t=0;t<e.players.length;++t){var n=u.PlayerBaseData.verify(e.players[t]);if(n)return"players."+n}}return null},e.fromObject=function(e){if(e instanceof u.RspJoinTeam)return e;var t=new u.RspJoinTeam;if(null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.teamHostPid&&(t.teamHostPid=0|e.teamHostPid),e.players){if(!Array.isArray(e.players))throw TypeError(".RspJoinTeam.players: array expected");t.players=[];for(var n=0;n<e.players.length;++n){if("object"!==i(e.players[n]))throw TypeError(".RspJoinTeam.players: object expected");t.players[n]=u.PlayerBaseData.fromObject(e.players[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.players=[]),t.defaults&&(n.resultID=0,n.teamHostPid=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.teamHostPid&&e.hasOwnProperty("teamHostPid")&&(n.teamHostPid=e.teamHostPid),e.players&&e.players.length){n.players=[];for(var i=0;i<e.players.length;++i)n.players[i]=u.PlayerBaseData.toObject(e.players[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqSelectCards=function(){function e(e){if(this.cardList=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cardList=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),null!=e.cardList&&e.cardList.length)for(var n=0;n<e.cardList.length;++n)u.BaseCardInfo.encode(e.cardList[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqSelectCards;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.cardList&&i.cardList.length||(i.cardList=[]),i.cardList.push(u.BaseCardInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(null!=e.cardList&&e.hasOwnProperty("cardList")){if(!Array.isArray(e.cardList))return"cardList: array expected";for(var t=0;t<e.cardList.length;++t){var n=u.BaseCardInfo.verify(e.cardList[t]);if(n)return"cardList."+n}}return null},e.fromObject=function(e){if(e instanceof u.ReqSelectCards)return e;var t=new u.ReqSelectCards;if(e.cardList){if(!Array.isArray(e.cardList))throw TypeError(".ReqSelectCards.cardList: array expected");t.cardList=[];for(var n=0;n<e.cardList.length;++n){if("object"!==i(e.cardList[n]))throw TypeError(".ReqSelectCards.cardList: object expected");t.cardList[n]=u.BaseCardInfo.fromObject(e.cardList[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.cardList=[]),e.cardList&&e.cardList.length){n.cardList=[];for(var i=0;i<e.cardList.length;++i)n.cardList[i]=u.BaseCardInfo.toObject(e.cardList[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspSelectCards=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspSelectCards;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspSelectCards)return e;var t=new u.RspSelectCards;return null!=e.resultID&&(t.resultID=0|e.resultID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqStartGame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.teamID=0,e.prototype.mapID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.teamID),t.uint32(16).int32(e.mapID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqStartGame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.teamID=e.int32();break;case 2:i.mapID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("teamID"))throw a.ProtocolError("missing required 'teamID'",{instance:i});if(!i.hasOwnProperty("mapID"))throw a.ProtocolError("missing required 'mapID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.teamID)?a.isInteger(e.mapID)?null:"mapID: integer expected":"teamID: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqStartGame)return e;var t=new u.ReqStartGame;return null!=e.teamID&&(t.teamID=0|e.teamID),null!=e.mapID&&(t.mapID=0|e.mapID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.teamID=0,n.mapID=0),null!=e.teamID&&e.hasOwnProperty("teamID")&&(n.teamID=e.teamID),null!=e.mapID&&e.hasOwnProperty("mapID")&&(n.mapID=e.mapID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspStartGame=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.tableid=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.mapid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),null!=e.tableid&&e.hasOwnProperty("tableid")&&t.uint32(16).int64(e.tableid),null!=e.mapid&&e.hasOwnProperty("mapid")&&t.uint32(24).int32(e.mapid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspStartGame;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.tableid=e.int64();break;case 3:i.mapid=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null!=e.tableid&&e.hasOwnProperty("tableid")&&!(a.isInteger(e.tableid)||e.tableid&&a.isInteger(e.tableid.low)&&a.isInteger(e.tableid.high))?"tableid: integer|Long expected":null!=e.mapid&&e.hasOwnProperty("mapid")&&!a.isInteger(e.mapid)?"mapid: integer expected":null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspStartGame)return e;var t=new u.RspStartGame;return null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.tableid&&(a.Long?(t.tableid=a.Long.fromValue(e.tableid)).unsigned=!1:"string"==typeof e.tableid?t.tableid=parseInt(e.tableid,10):"number"==typeof e.tableid?t.tableid=e.tableid:"object"===i(e.tableid)&&(t.tableid=new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber())),null!=e.mapid&&(t.mapid=0|e.mapid),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.resultID=0,a.Long){var i=new a.Long(0,0,!1);n.tableid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.tableid=t.longs===String?"0":0;n.mapid=0}return null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.tableid&&e.hasOwnProperty("tableid")&&("number"==typeof e.tableid?n.tableid=t.longs===String?String(e.tableid):e.tableid:n.tableid=t.longs===String?a.Long.prototype.toString.call(e.tableid):t.longs===Number?new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber():e.tableid),null!=e.mapid&&e.hasOwnProperty("mapid")&&(n.mapid=e.mapid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqUpdateTableStatus=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.status=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.status),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqUpdateTableStatus;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.status=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("status"))throw a.ProtocolError("missing required 'status'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}return null},e.fromObject=function(e){if(e instanceof u.ReqUpdateTableStatus)return e;var t=new u.ReqUpdateTableStatus;switch(e.status){case"TABLE_OUT":case 0:t.status=0;break;case"TABLE_IN":case 1:t.status=1;break;case"TABLE_READY":case 2:t.status=2;break;case"TABLE_LOADED":case 3:t.status=3;break;case"TABLE_GAME":case 4:t.status=4;break;case"TABLE_END":case 5:t.status=5}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.status=t.enums===String?"TABLE_OUT":0),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?u.PlayerTableStatus[e.status]:e.status),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspUpdateTableStatus=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.status=1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),null!=e.status&&e.hasOwnProperty("status")&&t.uint32(16).int32(e.status),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspUpdateTableStatus;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.status=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.resultID))return"resultID: integer expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}return null},e.fromObject=function(e){if(e instanceof u.RspUpdateTableStatus)return e;var t=new u.RspUpdateTableStatus;switch(null!=e.resultID&&(t.resultID=0|e.resultID),e.status){case"TABLE_OUT":case 0:t.status=0;break;case"TABLE_IN":case 1:t.status=1;break;case"TABLE_READY":case 2:t.status=2;break;case"TABLE_LOADED":case 3:t.status=3;break;case"TABLE_GAME":case 4:t.status=4;break;case"TABLE_END":case 5:t.status=5}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0,n.status=t.enums===String?"TABLE_IN":1),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?u.PlayerTableStatus[e.status]:e.status),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqUpdateType=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqUpdateType;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("type"))throw a.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.type)?null:"type: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqUpdateType)return e;var t=new u.ReqUpdateType;return null!=e.type&&(t.type=0|e.type),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspUpdateType=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspUpdateType;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspUpdateType)return e;var t=new u.RspUpdateType;return null!=e.resultID&&(t.resultID=0|e.resultID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqMapLoadReady=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqMapLoadReady;e.pos<n;){var r=e.uint32();e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.ReqMapLoadReady?e:new u.ReqMapLoadReady},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfGameBattleStart=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfGameBattleStart;e.pos<n;){var r=e.uint32();e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.InfGameBattleStart?e:new u.InfGameBattleStart},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.GameResult=function(){var e={},t=Object.create(e);return t[e[0]="Lose"]=0,t[e[1]="Win"]=1,t}(),u.InfGameEnd=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.result=0,e.prototype.battleTime=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.result),t.uint32(16).int32(e.battleTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfGameEnd;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.result=e.int32();break;case 2:i.battleTime=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("result"))throw a.ProtocolError("missing required 'result'",{instance:i});if(!i.hasOwnProperty("battleTime"))throw a.ProtocolError("missing required 'battleTime'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";switch(e.result){default:return"result: enum value expected";case 0:case 1:}return a.isInteger(e.battleTime)?null:"battleTime: integer expected"},e.fromObject=function(e){if(e instanceof u.InfGameEnd)return e;var t=new u.InfGameEnd;switch(e.result){case"Lose":case 0:t.result=0;break;case"Win":case 1:t.result=1}return null!=e.battleTime&&(t.battleTime=0|e.battleTime),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.result=t.enums===String?"Lose":0,n.battleTime=0),null!=e.result&&e.hasOwnProperty("result")&&(n.result=t.enums===String?u.GameResult[e.result]:e.result),null!=e.battleTime&&e.hasOwnProperty("battleTime")&&(n.battleTime=e.battleTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.TickCommand=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pid=0,e.prototype.commandValue=0,e.prototype.operateTypeValue=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.pid),t.uint32(16).int32(e.commandValue),t.uint32(24).int32(e.operateTypeValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.TickCommand;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.pid=e.int32();break;case 2:i.commandValue=e.int32();break;case 3:i.operateTypeValue=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("pid"))throw a.ProtocolError("missing required 'pid'",{instance:i});if(!i.hasOwnProperty("commandValue"))throw a.ProtocolError("missing required 'commandValue'",{instance:i});if(!i.hasOwnProperty("operateTypeValue"))throw a.ProtocolError("missing required 'operateTypeValue'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.pid)?a.isInteger(e.commandValue)?a.isInteger(e.operateTypeValue)?null:"operateTypeValue: integer expected":"commandValue: integer expected":"pid: integer expected"},e.fromObject=function(e){if(e instanceof u.TickCommand)return e;var t=new u.TickCommand;return null!=e.pid&&(t.pid=0|e.pid),null!=e.commandValue&&(t.commandValue=0|e.commandValue),null!=e.operateTypeValue&&(t.operateTypeValue=0|e.operateTypeValue),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.pid=0,n.commandValue=0,n.operateTypeValue=0),null!=e.pid&&e.hasOwnProperty("pid")&&(n.pid=e.pid),null!=e.commandValue&&e.hasOwnProperty("commandValue")&&(n.commandValue=e.commandValue),null!=e.operateTypeValue&&e.hasOwnProperty("operateTypeValue")&&(n.operateTypeValue=e.operateTypeValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfGameBattleTick=function(){function e(e){if(this.commands=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tick=0,e.prototype.commands=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),t.uint32(8).int32(e.tick),null!=e.commands&&e.commands.length)for(var n=0;n<e.commands.length;++n)u.TickCommand.encode(e.commands[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfGameBattleTick;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.tick=e.int32();break;case 2:i.commands&&i.commands.length||(i.commands=[]),i.commands.push(u.TickCommand.decode(e,e.uint32()));break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("tick"))throw a.ProtocolError("missing required 'tick'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.tick))return"tick: integer expected";if(null!=e.commands&&e.hasOwnProperty("commands")){if(!Array.isArray(e.commands))return"commands: array expected";for(var t=0;t<e.commands.length;++t){var n=u.TickCommand.verify(e.commands[t]);if(n)return"commands."+n}}return null},e.fromObject=function(e){if(e instanceof u.InfGameBattleTick)return e;var t=new u.InfGameBattleTick;if(null!=e.tick&&(t.tick=0|e.tick),e.commands){if(!Array.isArray(e.commands))throw TypeError(".InfGameBattleTick.commands: array expected");t.commands=[];for(var n=0;n<e.commands.length;++n){if("object"!==i(e.commands[n]))throw TypeError(".InfGameBattleTick.commands: object expected");t.commands[n]=u.TickCommand.fromObject(e.commands[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.commands=[]),t.defaults&&(n.tick=0),null!=e.tick&&e.hasOwnProperty("tick")&&(n.tick=e.tick),e.commands&&e.commands.length){n.commands=[];for(var i=0;i<e.commands.length;++i)n.commands[i]=u.TickCommand.toObject(e.commands[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqGameBattleIssue=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.timeStamp=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.command=0,e.prototype.operateTypeValue=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int64(e.timeStamp),t.uint32(16).int32(e.command),t.uint32(24).int32(e.operateTypeValue),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqGameBattleIssue;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.timeStamp=e.int64();break;case 2:i.command=e.int32();break;case 3:i.operateTypeValue=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("timeStamp"))throw a.ProtocolError("missing required 'timeStamp'",{instance:i});if(!i.hasOwnProperty("command"))throw a.ProtocolError("missing required 'command'",{instance:i});if(!i.hasOwnProperty("operateTypeValue"))throw a.ProtocolError("missing required 'operateTypeValue'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.timeStamp)||e.timeStamp&&a.isInteger(e.timeStamp.low)&&a.isInteger(e.timeStamp.high)?a.isInteger(e.command)?a.isInteger(e.operateTypeValue)?null:"operateTypeValue: integer expected":"command: integer expected":"timeStamp: integer|Long expected"},e.fromObject=function(e){if(e instanceof u.ReqGameBattleIssue)return e;var t=new u.ReqGameBattleIssue;return null!=e.timeStamp&&(a.Long?(t.timeStamp=a.Long.fromValue(e.timeStamp)).unsigned=!1:"string"==typeof e.timeStamp?t.timeStamp=parseInt(e.timeStamp,10):"number"==typeof e.timeStamp?t.timeStamp=e.timeStamp:"object"===i(e.timeStamp)&&(t.timeStamp=new a.LongBits(e.timeStamp.low>>>0,e.timeStamp.high>>>0).toNumber())),null!=e.command&&(t.command=0|e.command),null!=e.operateTypeValue&&(t.operateTypeValue=0|e.operateTypeValue),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var i=new a.Long(0,0,!1);n.timeStamp=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.timeStamp=t.longs===String?"0":0;n.command=0,n.operateTypeValue=0}return null!=e.timeStamp&&e.hasOwnProperty("timeStamp")&&("number"==typeof e.timeStamp?n.timeStamp=t.longs===String?String(e.timeStamp):e.timeStamp:n.timeStamp=t.longs===String?a.Long.prototype.toString.call(e.timeStamp):t.longs===Number?new a.LongBits(e.timeStamp.low>>>0,e.timeStamp.high>>>0).toNumber():e.timeStamp),null!=e.command&&e.hasOwnProperty("command")&&(n.command=e.command),null!=e.operateTypeValue&&e.hasOwnProperty("operateTypeValue")&&(n.operateTypeValue=e.operateTypeValue),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfGameBattleTickList=function(){function e(e){if(this.gameTicks=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.nowTick=0,e.prototype.gameTicks=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),t.uint32(8).int32(e.nowTick),null!=e.gameTicks&&e.gameTicks.length)for(var n=0;n<e.gameTicks.length;++n)u.InfGameBattleTick.encode(e.gameTicks[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfGameBattleTickList;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.nowTick=e.int32();break;case 2:i.gameTicks&&i.gameTicks.length||(i.gameTicks=[]),i.gameTicks.push(u.InfGameBattleTick.decode(e,e.uint32()));break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("nowTick"))throw a.ProtocolError("missing required 'nowTick'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.nowTick))return"nowTick: integer expected";if(null!=e.gameTicks&&e.hasOwnProperty("gameTicks")){if(!Array.isArray(e.gameTicks))return"gameTicks: array expected";for(var t=0;t<e.gameTicks.length;++t){var n=u.InfGameBattleTick.verify(e.gameTicks[t]);if(n)return"gameTicks."+n}}return null},e.fromObject=function(e){if(e instanceof u.InfGameBattleTickList)return e;var t=new u.InfGameBattleTickList;if(null!=e.nowTick&&(t.nowTick=0|e.nowTick),e.gameTicks){if(!Array.isArray(e.gameTicks))throw TypeError(".InfGameBattleTickList.gameTicks: array expected");t.gameTicks=[];for(var n=0;n<e.gameTicks.length;++n){if("object"!==i(e.gameTicks[n]))throw TypeError(".InfGameBattleTickList.gameTicks: object expected");t.gameTicks[n]=u.InfGameBattleTick.fromObject(e.gameTicks[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.gameTicks=[]),t.defaults&&(n.nowTick=0),null!=e.nowTick&&e.hasOwnProperty("nowTick")&&(n.nowTick=e.nowTick),e.gameTicks&&e.gameTicks.length){n.gameTicks=[];for(var i=0;i<e.gameTicks.length;++i)n.gameTicks[i]=u.InfGameBattleTick.toObject(e.gameTicks[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.SettlementResult=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.score=0,e.prototype.wavenum=0,e.prototype.stagecleartime=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.score),t.uint32(16).int32(e.wavenum),t.uint32(24).int32(e.stagecleartime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.SettlementResult;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.score=e.int32();break;case 2:i.wavenum=e.int32();break;case 3:i.stagecleartime=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("score"))throw a.ProtocolError("missing required 'score'",{instance:i});if(!i.hasOwnProperty("wavenum"))throw a.ProtocolError("missing required 'wavenum'",{instance:i});if(!i.hasOwnProperty("stagecleartime"))throw a.ProtocolError("missing required 'stagecleartime'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.score)?a.isInteger(e.wavenum)?a.isInteger(e.stagecleartime)?null:"stagecleartime: integer expected":"wavenum: integer expected":"score: integer expected"},e.fromObject=function(e){if(e instanceof u.SettlementResult)return e;var t=new u.SettlementResult;return null!=e.score&&(t.score=0|e.score),null!=e.wavenum&&(t.wavenum=0|e.wavenum),null!=e.stagecleartime&&(t.stagecleartime=0|e.stagecleartime),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.score=0,n.wavenum=0,n.stagecleartime=0),null!=e.score&&e.hasOwnProperty("score")&&(n.score=e.score),null!=e.wavenum&&e.hasOwnProperty("wavenum")&&(n.wavenum=e.wavenum),null!=e.stagecleartime&&e.hasOwnProperty("stagecleartime")&&(n.stagecleartime=e.stagecleartime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqSettlementResult=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.result=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.type),u.SettlementResult.encode(e.result,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqSettlementResult;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.type=e.int32();break;case 2:i.result=u.SettlementResult.decode(e,e.uint32());break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("type"))throw a.ProtocolError("missing required 'type'",{instance:i});if(!i.hasOwnProperty("result"))throw a.ProtocolError("missing required 'result'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:}var t=u.SettlementResult.verify(e.result);return t?"result."+t:null},e.fromObject=function(e){if(e instanceof u.ReqSettlementResult)return e;var t=new u.ReqSettlementResult;switch(e.type){case"SETTLEMENT_NOT":case 0:t.type=0;break;case"SETTLEMENT_VICTORY":case 1:t.type=1;break;case"SETTLEMENT_FAILURE":case 2:t.type=2}if(null!=e.result){if("object"!==i(e.result))throw TypeError(".ReqSettlementResult.result: object expected");t.result=u.SettlementResult.fromObject(e.result)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"SETTLEMENT_NOT":0,n.result=null),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.SettlementTyle[e.type]:e.type),null!=e.result&&e.hasOwnProperty("result")&&(n.result=u.SettlementResult.toObject(e.result,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspSettlementResult=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.type),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspSettlementResult;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.type=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("type"))throw a.ProtocolError("missing required 'type'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.RspSettlementResult)return e;var t=new u.RspSettlementResult;switch(e.type){case"SETTLEMENT_NOT":case 0:t.type=0;break;case"SETTLEMENT_VICTORY":case 1:t.type=1;break;case"SETTLEMENT_FAILURE":case 2:t.type=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"SETTLEMENT_NOT":0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.SettlementTyle[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.SettlementAwardInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.location=0,e.prototype.itemID=0,e.prototype.isGeted=!1,e.prototype.uid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.location),t.uint32(16).int32(e.itemID),null!=e.isGeted&&e.hasOwnProperty("isGeted")&&t.uint32(24).bool(e.isGeted),null!=e.uid&&e.hasOwnProperty("uid")&&t.uint32(32).int32(e.uid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.SettlementAwardInfo;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.location=e.int32();break;case 2:i.itemID=e.int32();break;case 3:i.isGeted=e.bool();break;case 4:i.uid=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("location"))throw a.ProtocolError("missing required 'location'",{instance:i});if(!i.hasOwnProperty("itemID"))throw a.ProtocolError("missing required 'itemID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.location)?a.isInteger(e.itemID)?null!=e.isGeted&&e.hasOwnProperty("isGeted")&&"boolean"!=typeof e.isGeted?"isGeted: boolean expected":null!=e.uid&&e.hasOwnProperty("uid")&&!a.isInteger(e.uid)?"uid: integer expected":null:"itemID: integer expected":"location: integer expected"},e.fromObject=function(e){if(e instanceof u.SettlementAwardInfo)return e;var t=new u.SettlementAwardInfo;return null!=e.location&&(t.location=0|e.location),null!=e.itemID&&(t.itemID=0|e.itemID),null!=e.isGeted&&(t.isGeted=Boolean(e.isGeted)),null!=e.uid&&(t.uid=0|e.uid),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.location=0,n.itemID=0,n.isGeted=!1,n.uid=0),null!=e.location&&e.hasOwnProperty("location")&&(n.location=e.location),null!=e.itemID&&e.hasOwnProperty("itemID")&&(n.itemID=e.itemID),null!=e.isGeted&&e.hasOwnProperty("isGeted")&&(n.isGeted=e.isGeted),null!=e.uid&&e.hasOwnProperty("uid")&&(n.uid=e.uid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqSettlementAwards=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.location=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.location),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqSettlementAwards;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.location=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("location"))throw a.ProtocolError("missing required 'location'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.location)?null:"location: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqSettlementAwards)return e;var t=new u.ReqSettlementAwards;return null!=e.location&&(t.location=0|e.location),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.location=0),null!=e.location&&e.hasOwnProperty("location")&&(n.location=e.location),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspSettlementAwards=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.count=0,e.prototype.itemID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),null!=e.count&&e.hasOwnProperty("count")&&t.uint32(16).int32(e.count),null!=e.itemID&&e.hasOwnProperty("itemID")&&t.uint32(24).int32(e.itemID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspSettlementAwards;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.count=e.int32();break;case 3:i.itemID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null!=e.count&&e.hasOwnProperty("count")&&!a.isInteger(e.count)?"count: integer expected":null!=e.itemID&&e.hasOwnProperty("itemID")&&!a.isInteger(e.itemID)?"itemID: integer expected":null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspSettlementAwards)return e;var t=new u.RspSettlementAwards;return null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.count&&(t.count=0|e.count),null!=e.itemID&&(t.itemID=0|e.itemID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0,n.count=0,n.itemID=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.itemID&&e.hasOwnProperty("itemID")&&(n.itemID=e.itemID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfGetedSettlementAwards=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.award=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),u.SettlementAwardInfo.encode(e.award,t.uint32(10).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfGetedSettlementAwards;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.award=u.SettlementAwardInfo.decode(e,e.uint32());break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("award"))throw a.ProtocolError("missing required 'award'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";var t=u.SettlementAwardInfo.verify(e.award);return t?"award."+t:null},e.fromObject=function(e){if(e instanceof u.InfGetedSettlementAwards)return e;var t=new u.InfGetedSettlementAwards;if(null!=e.award){if("object"!==i(e.award))throw TypeError(".InfGetedSettlementAwards.award: object expected");t.award=u.SettlementAwardInfo.fromObject(e.award)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.award=null),null!=e.award&&e.hasOwnProperty("award")&&(n.award=u.SettlementAwardInfo.toObject(e.award,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqPlayerLoginAgain=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pid=0,e.prototype.platform=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.pid),t.uint32(16).int32(e.platform),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqPlayerLoginAgain;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.pid=e.int32();break;case 2:i.platform=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("pid"))throw a.ProtocolError("missing required 'pid'",{instance:i});if(!i.hasOwnProperty("platform"))throw a.ProtocolError("missing required 'platform'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.pid)?a.isInteger(e.platform)?null:"platform: integer expected":"pid: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqPlayerLoginAgain)return e;var t=new u.ReqPlayerLoginAgain;return null!=e.pid&&(t.pid=0|e.pid),null!=e.platform&&(t.platform=0|e.platform),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.pid=0,n.platform=0),null!=e.pid&&e.hasOwnProperty("pid")&&(n.pid=e.pid),null!=e.platform&&e.hasOwnProperty("platform")&&(n.platform=e.platform),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspPlayerLoginAgain=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.tableID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),t.uint32(16).int32(e.tableID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspPlayerLoginAgain;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.tableID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});if(!i.hasOwnProperty("tableID"))throw a.ProtocolError("missing required 'tableID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?a.isInteger(e.tableID)?null:"tableID: integer expected":"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspPlayerLoginAgain)return e;var t=new u.RspPlayerLoginAgain;return null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.tableID&&(t.tableID=0|e.tableID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0,n.tableID=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.tableID&&e.hasOwnProperty("tableID")&&(n.tableID=e.tableID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqPlaceDefender=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cardID=0,e.prototype.x=0,e.prototype.y=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.cardID),t.uint32(16).int32(e.x),t.uint32(24).int32(e.y),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqPlaceDefender;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.cardID=e.int32();break;case 2:i.x=e.int32();break;case 3:i.y=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("cardID"))throw a.ProtocolError("missing required 'cardID'",{instance:i});if(!i.hasOwnProperty("x"))throw a.ProtocolError("missing required 'x'",{instance:i});if(!i.hasOwnProperty("y"))throw a.ProtocolError("missing required 'y'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.cardID)?a.isInteger(e.x)?a.isInteger(e.y)?null:"y: integer expected":"x: integer expected":"cardID: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqPlaceDefender)return e;var t=new u.ReqPlaceDefender;return null!=e.cardID&&(t.cardID=0|e.cardID),null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.cardID=0,n.x=0,n.y=0),null!=e.cardID&&e.hasOwnProperty("cardID")&&(n.cardID=e.cardID),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfAddEntity=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.playerID=0,e.prototype.configID=0,e.prototype.entityID=0,e.prototype.gridX=0,e.prototype.gridY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.playerID),t.uint32(16).int32(e.configID),t.uint32(24).int32(e.entityID),t.uint32(32).int32(e.gridX),t.uint32(40).int32(e.gridY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfAddEntity;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.playerID=e.int32();break;case 2:i.configID=e.int32();break;case 3:i.entityID=e.int32();break;case 4:i.gridX=e.int32();break;case 5:i.gridY=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("playerID"))throw a.ProtocolError("missing required 'playerID'",{instance:i});if(!i.hasOwnProperty("configID"))throw a.ProtocolError("missing required 'configID'",{instance:i});if(!i.hasOwnProperty("entityID"))throw a.ProtocolError("missing required 'entityID'",{instance:i});if(!i.hasOwnProperty("gridX"))throw a.ProtocolError("missing required 'gridX'",{instance:i});if(!i.hasOwnProperty("gridY"))throw a.ProtocolError("missing required 'gridY'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.playerID)?a.isInteger(e.configID)?a.isInteger(e.entityID)?a.isInteger(e.gridX)?a.isInteger(e.gridY)?null:"gridY: integer expected":"gridX: integer expected":"entityID: integer expected":"configID: integer expected":"playerID: integer expected"},e.fromObject=function(e){if(e instanceof u.InfAddEntity)return e;var t=new u.InfAddEntity;return null!=e.playerID&&(t.playerID=0|e.playerID),null!=e.configID&&(t.configID=0|e.configID),null!=e.entityID&&(t.entityID=0|e.entityID),null!=e.gridX&&(t.gridX=0|e.gridX),null!=e.gridY&&(t.gridY=0|e.gridY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.playerID=0,n.configID=0,n.entityID=0,n.gridX=0,n.gridY=0),null!=e.playerID&&e.hasOwnProperty("playerID")&&(n.playerID=e.playerID),null!=e.configID&&e.hasOwnProperty("configID")&&(n.configID=e.configID),null!=e.entityID&&e.hasOwnProperty("entityID")&&(n.entityID=e.entityID),null!=e.gridX&&e.hasOwnProperty("gridX")&&(n.gridX=e.gridX),null!=e.gridY&&e.hasOwnProperty("gridY")&&(n.gridY=e.gridY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfAddFire=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.entityID=0,e.prototype.fireID=0,e.prototype.gridX=0,e.prototype.gridY=0,e.prototype.fireNum=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.entityID),t.uint32(16).int32(e.fireID),t.uint32(24).int32(e.gridX),t.uint32(32).int32(e.gridY),t.uint32(40).int32(e.fireNum),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfAddFire;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.entityID=e.int32();break;case 2:i.fireID=e.int32();break;case 3:i.gridX=e.int32();break;case 4:i.gridY=e.int32();break;case 5:i.fireNum=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("entityID"))throw a.ProtocolError("missing required 'entityID'",{instance:i});if(!i.hasOwnProperty("fireID"))throw a.ProtocolError("missing required 'fireID'",{instance:i});if(!i.hasOwnProperty("gridX"))throw a.ProtocolError("missing required 'gridX'",{instance:i});if(!i.hasOwnProperty("gridY"))throw a.ProtocolError("missing required 'gridY'",{instance:i});if(!i.hasOwnProperty("fireNum"))throw a.ProtocolError("missing required 'fireNum'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.entityID)?a.isInteger(e.fireID)?a.isInteger(e.gridX)?a.isInteger(e.gridY)?a.isInteger(e.fireNum)?null:"fireNum: integer expected":"gridY: integer expected":"gridX: integer expected":"fireID: integer expected":"entityID: integer expected"},e.fromObject=function(e){if(e instanceof u.InfAddFire)return e;var t=new u.InfAddFire;return null!=e.entityID&&(t.entityID=0|e.entityID),null!=e.fireID&&(t.fireID=0|e.fireID),null!=e.gridX&&(t.gridX=0|e.gridX),null!=e.gridY&&(t.gridY=0|e.gridY),null!=e.fireNum&&(t.fireNum=0|e.fireNum),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.entityID=0,n.fireID=0,n.gridX=0,n.gridY=0,n.fireNum=0),null!=e.entityID&&e.hasOwnProperty("entityID")&&(n.entityID=e.entityID),null!=e.fireID&&e.hasOwnProperty("fireID")&&(n.fireID=e.fireID),null!=e.gridX&&e.hasOwnProperty("gridX")&&(n.gridX=e.gridX),null!=e.gridY&&e.hasOwnProperty("gridY")&&(n.gridY=e.gridY),null!=e.fireNum&&e.hasOwnProperty("fireNum")&&(n.fireNum=e.fireNum),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqPickFire=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fireID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.fireID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqPickFire;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.fireID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("fireID"))throw a.ProtocolError("missing required 'fireID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.fireID)?null:"fireID: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqPickFire)return e;var t=new u.ReqPickFire;return null!=e.fireID&&(t.fireID=0|e.fireID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.fireID=0),null!=e.fireID&&e.hasOwnProperty("fireID")&&(n.fireID=e.fireID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfFireNumChange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.fireNum=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.fireNum),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfFireNumChange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.fireNum=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("fireNum"))throw a.ProtocolError("missing required 'fireNum'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.fireNum)?null:"fireNum: integer expected"},e.fromObject=function(e){if(e instanceof u.InfFireNumChange)return e;var t=new u.InfFireNumChange;return null!=e.fireNum&&(t.fireNum=0|e.fireNum),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.fireNum=0),null!=e.fireNum&&e.hasOwnProperty("fireNum")&&(n.fireNum=e.fireNum),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfEntityAction=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.entityID=0,e.prototype.action=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),t.uint32(16).int32(e.entityID),t.uint32(24).int32(e.action),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfEntityAction;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.entityID=e.int32();break;case 3:i.action=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});if(!i.hasOwnProperty("entityID"))throw a.ProtocolError("missing required 'entityID'",{instance:i});if(!i.hasOwnProperty("action"))throw a.ProtocolError("missing required 'action'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.resultID))return"resultID: integer expected";if(!a.isInteger(e.entityID))return"entityID: integer expected";switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:}return null},e.fromObject=function(e){if(e instanceof u.InfEntityAction)return e;var t=new u.InfEntityAction;switch(null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.entityID&&(t.entityID=0|e.entityID),e.action){case"IDLE":case 0:t.action=0;break;case"ATTACK":case 1:t.action=1;break;case"MOVE":case 2:t.action=2;break;case"CREATE":case 3:t.action=3;break;case"DIE":case 4:t.action=4;break;case"JUMP":case 5:t.action=5;break;case"BURN_DIE":case 6:t.action=6}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0,n.entityID=0,n.action=t.enums===String?"IDLE":0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.entityID&&e.hasOwnProperty("entityID")&&(n.entityID=e.entityID),null!=e.action&&e.hasOwnProperty("action")&&(n.action=t.enums===String?u.EntityAction[e.action]:e.action),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfPlayerKick=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.reason=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.reason),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfPlayerKick;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.reason=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("reason"))throw a.ProtocolError("missing required 'reason'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.reason)?null:"reason: integer expected"},e.fromObject=function(e){if(e instanceof u.InfPlayerKick)return e;var t=new u.InfPlayerKick;return null!=e.reason&&(t.reason=0|e.reason),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.reason=0),null!=e.reason&&e.hasOwnProperty("reason")&&(n.reason=e.reason),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfMoveComChange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.entityID=0,e.prototype.x=0,e.prototype.y=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.entityID),t.uint32(16).int32(e.x),t.uint32(24).int32(e.y),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfMoveComChange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.entityID=e.int32();break;case 2:i.x=e.int32();break;case 3:i.y=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("entityID"))throw a.ProtocolError("missing required 'entityID'",{instance:i});if(!i.hasOwnProperty("x"))throw a.ProtocolError("missing required 'x'",{instance:i});if(!i.hasOwnProperty("y"))throw a.ProtocolError("missing required 'y'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.entityID)?a.isInteger(e.x)?a.isInteger(e.y)?null:"y: integer expected":"x: integer expected":"entityID: integer expected"},e.fromObject=function(e){if(e instanceof u.InfMoveComChange)return e;var t=new u.InfMoveComChange;return null!=e.entityID&&(t.entityID=0|e.entityID),null!=e.x&&(t.x=0|e.x),null!=e.y&&(t.y=0|e.y),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.entityID=0,n.x=0,n.y=0),null!=e.entityID&&e.hasOwnProperty("entityID")&&(n.entityID=e.entityID),null!=e.x&&e.hasOwnProperty("x")&&(n.x=e.x),null!=e.y&&e.hasOwnProperty("y")&&(n.y=e.y),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfAFSMComChange=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.entityID=0,e.prototype.action=0,e.prototype.healthy=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.entityID),t.uint32(16).int32(e.action),t.uint32(24).int32(e.healthy),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfAFSMComChange;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.entityID=e.int32();break;case 2:i.action=e.int32();break;case 3:i.healthy=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("entityID"))throw a.ProtocolError("missing required 'entityID'",{instance:i});if(!i.hasOwnProperty("action"))throw a.ProtocolError("missing required 'action'",{instance:i});if(!i.hasOwnProperty("healthy"))throw a.ProtocolError("missing required 'healthy'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.entityID))return"entityID: integer expected";switch(e.action){default:return"action: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:}switch(e.healthy){default:return"healthy: enum value expected";case 0:case 1:case 2:}return null},e.fromObject=function(e){if(e instanceof u.InfAFSMComChange)return e;var t=new u.InfAFSMComChange;switch(null!=e.entityID&&(t.entityID=0|e.entityID),e.action){case"IDLE":case 0:t.action=0;break;case"ATTACK":case 1:t.action=1;break;case"MOVE":case 2:t.action=2;break;case"CREATE":case 3:t.action=3;break;case"DIE":case 4:t.action=4;break;case"JUMP":case 5:t.action=5;break;case"BURN_DIE":case 6:t.action=6}switch(e.healthy){case"NORMAL":case 0:t.healthy=0;break;case"WOUNDED":case 1:t.healthy=1;break;case"DYING":case 2:t.healthy=2}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.entityID=0,n.action=t.enums===String?"IDLE":0,n.healthy=t.enums===String?"NORMAL":0),null!=e.entityID&&e.hasOwnProperty("entityID")&&(n.entityID=e.entityID),null!=e.action&&e.hasOwnProperty("action")&&(n.action=t.enums===String?u.EntityAction[e.action]:e.action),null!=e.healthy&&e.hasOwnProperty("healthy")&&(n.healthy=t.enums===String?u.EntityHealthy[e.healthy]:e.healthy),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqUseShovel=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.gridX=0,e.prototype.gridY=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.gridX),t.uint32(16).int32(e.gridY),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqUseShovel;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.gridX=e.int32();break;case 2:i.gridY=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("gridX"))throw a.ProtocolError("missing required 'gridX'",{instance:i});if(!i.hasOwnProperty("gridY"))throw a.ProtocolError("missing required 'gridY'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.gridX)?a.isInteger(e.gridY)?null:"gridY: integer expected":"gridX: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqUseShovel)return e;var t=new u.ReqUseShovel;return null!=e.gridX&&(t.gridX=0|e.gridX),null!=e.gridY&&(t.gridY=0|e.gridY),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.gridX=0,n.gridY=0),null!=e.gridX&&e.hasOwnProperty("gridX")&&(n.gridX=e.gridX),null!=e.gridY&&e.hasOwnProperty("gridY")&&(n.gridY=e.gridY),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfRemoveEntity=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.entityID=0,e.prototype.removeType=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.entityID),t.uint32(16).int32(e.removeType),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfRemoveEntity;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.entityID=e.int32();break;case 2:i.removeType=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("entityID"))throw a.ProtocolError("missing required 'entityID'",{instance:i});if(!i.hasOwnProperty("removeType"))throw a.ProtocolError("missing required 'removeType'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.entityID))return"entityID: integer expected";switch(e.removeType){default:return"removeType: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null},e.fromObject=function(e){if(e instanceof u.InfRemoveEntity)return e;var t=new u.InfRemoveEntity;switch(null!=e.entityID&&(t.entityID=0|e.entityID),e.removeType){case"Remove":case 0:t.removeType=0;break;case"Shovel":case 1:t.removeType=1;break;case"Die":case 2:t.removeType=2;break;case"FireBoomDie":case 3:t.removeType=3;break;case"BoomSkill":case 4:t.removeType=4}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.entityID=0,n.removeType=t.enums===String?"Remove":0),null!=e.entityID&&e.hasOwnProperty("entityID")&&(n.entityID=e.entityID),null!=e.removeType&&e.hasOwnProperty("removeType")&&(n.removeType=t.enums===String?u.EntityRemoveType[e.removeType]:e.removeType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfComGenerator=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.entityID=0,e.prototype.targetEID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.entityID),t.uint32(16).int32(e.targetEID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfComGenerator;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.entityID=e.int32();break;case 2:i.targetEID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("entityID"))throw a.ProtocolError("missing required 'entityID'",{instance:i});if(!i.hasOwnProperty("targetEID"))throw a.ProtocolError("missing required 'targetEID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.entityID)?a.isInteger(e.targetEID)?null:"targetEID: integer expected":"entityID: integer expected"},e.fromObject=function(e){if(e instanceof u.InfComGenerator)return e;var t=new u.InfComGenerator;return null!=e.entityID&&(t.entityID=0|e.entityID),null!=e.targetEID&&(t.targetEID=0|e.targetEID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.entityID=0,n.targetEID=0),null!=e.entityID&&e.hasOwnProperty("entityID")&&(n.entityID=e.entityID),null!=e.targetEID&&e.hasOwnProperty("targetEID")&&(n.targetEID=e.targetEID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfComChangeHP=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.entityID=0,e.prototype.currentHP=0,e.prototype.damage=0,e.prototype.Multiply=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.entityID),t.uint32(16).int32(e.currentHP),t.uint32(24).int32(e.damage),t.uint32(32).int32(e.Multiply),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfComChangeHP;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.entityID=e.int32();break;case 2:i.currentHP=e.int32();break;case 3:i.damage=e.int32();break;case 4:i.Multiply=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("entityID"))throw a.ProtocolError("missing required 'entityID'",{instance:i});if(!i.hasOwnProperty("currentHP"))throw a.ProtocolError("missing required 'currentHP'",{instance:i});if(!i.hasOwnProperty("damage"))throw a.ProtocolError("missing required 'damage'",{instance:i});if(!i.hasOwnProperty("Multiply"))throw a.ProtocolError("missing required 'Multiply'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.entityID)?a.isInteger(e.currentHP)?a.isInteger(e.damage)?a.isInteger(e.Multiply)?null:"Multiply: integer expected":"damage: integer expected":"currentHP: integer expected":"entityID: integer expected"},e.fromObject=function(e){if(e instanceof u.InfComChangeHP)return e;var t=new u.InfComChangeHP;return null!=e.entityID&&(t.entityID=0|e.entityID),null!=e.currentHP&&(t.currentHP=0|e.currentHP),null!=e.damage&&(t.damage=0|e.damage),null!=e.Multiply&&(t.Multiply=0|e.Multiply),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.entityID=0,n.currentHP=0,n.damage=0,n.Multiply=0),null!=e.entityID&&e.hasOwnProperty("entityID")&&(n.entityID=e.entityID),null!=e.currentHP&&e.hasOwnProperty("currentHP")&&(n.currentHP=e.currentHP),null!=e.damage&&e.hasOwnProperty("damage")&&(n.damage=e.damage),null!=e.Multiply&&e.hasOwnProperty("Multiply")&&(n.Multiply=e.Multiply),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ErrorCode=function(){var e={},t=Object.create(e);return t[e[0]="SUCCESS"]=0,t[e[1]="FAIL"]=1,t[e[6e4]="ERROR_SERVER_CREATE_ROOM_FAILED"]=6e4,t[e[60001]="ERROR_SERVER_JOIN_TABLE_FAILED"]=60001,t[e[60002]="ERROR_UPDATE_TABLE_STATUS_FAILED"]=60002,t[e[60003]="ERROR_SETTLEMENT_COUNT_NOT_ENOUGH"]=60003,t[e[60004]="ERROR_SETTLEMENT_AWARD_GETED"]=60004,t[e[60005]="ERROR_SERRLWMWNR_PID_REPEATED"]=60005,t[e[60006]="ERROR_LOGIN_PID_REPEATED"]=60006,t[e[7e4]="ERROR_CONNECT_DB_FAILED"]=7e4,t[e[70001]="ERROR_EXEC_SQL_FAILED"]=70001,t[e[8e4]="ERROR_UPDATE_ROLE_NAME_FAILED"]=8e4,t}(),u.PlayerTableStatus=function(){var e={},t=Object.create(e);return t[e[0]="TABLE_OUT"]=0,t[e[1]="TABLE_IN"]=1,t[e[2]="TABLE_READY"]=2,t[e[3]="TABLE_LOADED"]=3,t[e[4]="TABLE_GAME"]=4,t[e[5]="TABLE_END"]=5,t}(),u.IdentityType=function(){var e={},t=Object.create(e);return t[e[0]="IDENTITY_NONE"]=0,t[e[1]="IDENTITY_PLAYER"]=1,t[e[2]="IDENTITY_OBSERVER"]=2,t}(),u.SettlementTyle=function(){var e={},t=Object.create(e);return t[e[0]="SETTLEMENT_NOT"]=0,t[e[1]="SETTLEMENT_VICTORY"]=1,t[e[2]="SETTLEMENT_FAILURE"]=2,t}(),u.PlayerSex=function(){var e={},t=Object.create(e);return t[e[0]="PLAYERSEX_NOT"]=0,t[e[1]="PLAYERSEX_BOY"]=1,t[e[2]="PLAYERSEX_GIRL"]=2,t}(),u.RankInfo=function(){var e={},t=Object.create(e);return t[e[0]="GET_MAXWAVENUM"]=0,t[e[1]="GET_SUMSCORE"]=1,t}(),u.KickReason=function(){var e={},t=Object.create(e);return t[e[0]="REPEAT_LOGIN"]=0,t}(),u.EntityAction=function(){var e={},t=Object.create(e);return t[e[0]="IDLE"]=0,t[e[1]="ATTACK"]=1,t[e[2]="MOVE"]=2,t[e[3]="CREATE"]=3,t[e[4]="DIE"]=4,t[e[5]="JUMP"]=5,t[e[6]="BURN_DIE"]=6,t}(),u.EntityHealthy=function(){var e={},t=Object.create(e);return t[e[0]="NORMAL"]=0,t[e[1]="WOUNDED"]=1,t[e[2]="DYING"]=2,t}(),u.EntityRemoveType=function(){var e={},t=Object.create(e);return t[e[0]="Remove"]=0,t[e[1]="Shovel"]=1,t[e[2]="Die"]=2,t[e[3]="FireBoomDie"]=3,t[e[4]="BoomSkill"]=4,t}(),u.SSProtoID=function(){var e={},t=Object.create(e);return t[e[30001]="REQ_REGIST_GATEWAY_TO_HALL"]=30001,t[e[30002]="RSP_REGIST_GATEWAY_TO_HALL"]=30002,t[e[30003]="REQ_UPDATE_GATEWAY_LOAD"]=30003,t[e[30004]="RSP_UPDATE_GATEWAY_LOAD"]=30004,t[e[30005]="REQ_PLAYER_DISCONNECT"]=30005,t[e[30006]="RSP_PLAYER_DISCONNECT"]=30006,t[e[30101]="REQ_REGIST_GATEWAY_TO_CTRL"]=30101,t[e[30102]="RSP_REGIST_GATEWAY_TO_CTRL"]=30102,t[e[31001]="REQ_REGIST_HALLSERVER_TO_ROUTER"]=31001,t[e[31002]="RSP_REGIST_HALLSERVER_TO_ROUTER"]=31002,t[e[32001]="REQ_REGIST_HALLSERVER_TO_DBPROC"]=32001,t[e[32002]="RSP_REGIST_HALLSERVER_TO_DBPROC"]=32002,t[e[32003]="REQ_EXEC_SQL"]=32003,t[e[32004]="RSP_EXEC_SQL"]=32004,t[e[33001]="REQ_REGIST_HALL_TO_CTRL"]=33001,t[e[33002]="RSP_REGIST_HALL_TO_CTRL"]=33002,t[e[33003]="REQ_INIT_GAMETABLE"]=33003,t[e[33004]="RSP_INIT_GAMETABLE"]=33004,t[e[33005]="REQ_EXIT_GAMETABLE"]=33005,t[e[33006]="RSP_EXIT_GAMETABLE"]=33006,t[e[33007]="INF_GAMETABLE_END"]=33007,t[e[34001]="REQ_REGIST_GAME_TO_CTRL"]=34001,t[e[34002]="RSP_REGIST_GAME_TO_CTRL"]=34002,t[e[34003]="INF_INIT_GAMETABLE"]=34003,t[e[34004]="REQ_GAMETABLE_INIT"]=34004,t[e[34005]="REQ_GAME_END"]=34005,t[e[34006]="RSP_GAME_END"]=34006,t}(),u.CSProtoID=function(){var e={},t=Object.create(e);return t[e[61001]="REQ_PLAYER_AUTH"]=61001,t[e[61002]="RSP_PLAYER_AUTH"]=61002,t[e[60001]="REQ_PLAYER_LOGIN"]=60001,t[e[60002]="RSP_PLAYER_LOGIN"]=60002,t[e[60003]="INF_PLAYER_KICK"]=60003,t[e[61003]="REQ_SET_ROLE_INFO"]=61003,t[e[61004]="RSP_SET_ROLE_INFO"]=61004,t[e[60005]="REQ_DELAY_TIME"]=60005,t[e[60006]="RSP_DELAY_TIME"]=60006,t[e[60101]="REQ_CREATE_TEAM"]=60101,t[e[60102]="RSP_CREATE_TEAM"]=60102,t[e[60103]="REQ_TEAM_LIST"]=60103,t[e[60104]="RSP_TEAM_LIST"]=60104,t[e[60105]="REQ_JOIN_TEAM"]=60105,t[e[60106]="RSP_JOIN_TEAM"]=60106,t[e[60107]="INF_PLAYER_TEAM_STATUS"]=60107,t[e[60108]="INF_PLAYER_JOIN_TEAM"]=60108,t[e[60109]="REQ_UPDATE_TEAM_STATUS"]=60109,t[e[60110]="RSP_UPDATE_TEAM_STATUS"]=60110,t[e[60111]="REQ_UPDATE_ROLE_BATTLE_TYPE"]=60111,t[e[60112]="RSP_UPDATE_ROLE_BATTLE_TYPE"]=60112,t[e[60113]="REQ_START_GAME"]=60113,t[e[60114]="RSP_START_GAME"]=60114,t[e[60116]="REQ_MAP_LOAD_READY"]=60116,t[e[60117]="INF_GAME_BATTLE_START"]=60117,t[e[60118]="INF_GAME_END"]=60118,t[e[60205]="REQ_PLACE_DEFENDER"]=60205,t[e[60206]="REQ_USE_SHOVEL"]=60206,t[e[60304]="INF_REMOVE_ENTITY"]=60304,t[e[60305]="INF_ADD_ENTITY"]=60305,t[e[60306]="INF_ENTITY_ACTION"]=60306,t[e[60307]="INF_COM_CHANGE_MOVE"]=60307,t[e[60308]="INF_ADD_FIRE"]=60308,t[e[60309]="REQ_PICK_FIRE"]=60309,t[e[60310]="INF_FIRE_NUM_CHANGE"]=60310,t[e[60311]="INF_COM_CHANGE_AFSM"]=60311,t[e[60312]="INF_COM_GENERATOR"]=60312,t[e[60313]="INF_COM_CHANGE_HP"]=60313,t}(),u.PlayerTableInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pid=0,e.prototype.sid=0,e.prototype.platform=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.pid),t.uint32(16).int32(e.sid),t.uint32(24).int32(e.platform),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.PlayerTableInfo;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.pid=e.int32();break;case 2:i.sid=e.int32();break;case 3:i.platform=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("pid"))throw a.ProtocolError("missing required 'pid'",{instance:i});if(!i.hasOwnProperty("sid"))throw a.ProtocolError("missing required 'sid'",{instance:i});if(!i.hasOwnProperty("platform"))throw a.ProtocolError("missing required 'platform'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.pid)?a.isInteger(e.sid)?a.isInteger(e.platform)?null:"platform: integer expected":"sid: integer expected":"pid: integer expected"},e.fromObject=function(e){if(e instanceof u.PlayerTableInfo)return e;var t=new u.PlayerTableInfo;return null!=e.pid&&(t.pid=0|e.pid),null!=e.sid&&(t.sid=0|e.sid),null!=e.platform&&(t.platform=0|e.platform),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.pid=0,n.sid=0,n.platform=0),null!=e.pid&&e.hasOwnProperty("pid")&&(n.pid=e.pid),null!=e.sid&&e.hasOwnProperty("sid")&&(n.sid=e.sid),null!=e.platform&&e.hasOwnProperty("platform")&&(n.platform=e.platform),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqRegistHallServerToRouter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.platform=0,e.prototype.serverid=0,e.prototype.ip="",e.prototype.port=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.platform),t.uint32(16).int32(e.serverid),t.uint32(26).string(e.ip),t.uint32(32).int32(e.port),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqRegistHallServerToRouter;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.platform=e.int32();break;case 2:i.serverid=e.int32();break;case 3:i.ip=e.string();break;case 4:i.port=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("platform"))throw a.ProtocolError("missing required 'platform'",{instance:i});if(!i.hasOwnProperty("serverid"))throw a.ProtocolError("missing required 'serverid'",{instance:i});if(!i.hasOwnProperty("ip"))throw a.ProtocolError("missing required 'ip'",{instance:i});if(!i.hasOwnProperty("port"))throw a.ProtocolError("missing required 'port'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.platform)?a.isInteger(e.serverid)?a.isString(e.ip)?a.isInteger(e.port)?null:"port: integer expected":"ip: string expected":"serverid: integer expected":"platform: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqRegistHallServerToRouter)return e;var t=new u.ReqRegistHallServerToRouter;return null!=e.platform&&(t.platform=0|e.platform),null!=e.serverid&&(t.serverid=0|e.serverid),null!=e.ip&&(t.ip=String(e.ip)),null!=e.port&&(t.port=0|e.port),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.platform=0,n.serverid=0,n.ip="",n.port=0),null!=e.platform&&e.hasOwnProperty("platform")&&(n.platform=e.platform),null!=e.serverid&&e.hasOwnProperty("serverid")&&(n.serverid=e.serverid),null!=e.ip&&e.hasOwnProperty("ip")&&(n.ip=e.ip),null!=e.port&&e.hasOwnProperty("port")&&(n.port=e.port),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspRegistHallServerToRouter=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspRegistHallServerToRouter;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("code"))throw a.ProtocolError("missing required 'code'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.code)?null:"code: integer expected"},e.fromObject=function(e){if(e instanceof u.RspRegistHallServerToRouter)return e;var t=new u.RspRegistHallServerToRouter;return null!=e.code&&(t.code=0|e.code),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqRegistGatewayToHall=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.ip="",e.prototype.port=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.id),t.uint32(18).string(e.ip),t.uint32(24).int32(e.port),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqRegistGatewayToHall;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.id=e.int32();break;case 2:i.ip=e.string();break;case 3:i.port=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("id"))throw a.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("ip"))throw a.ProtocolError("missing required 'ip'",{instance:i});if(!i.hasOwnProperty("port"))throw a.ProtocolError("missing required 'port'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.id)?a.isString(e.ip)?a.isInteger(e.port)?null:"port: integer expected":"ip: string expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqRegistGatewayToHall)return e;var t=new u.ReqRegistGatewayToHall;return null!=e.id&&(t.id=0|e.id),null!=e.ip&&(t.ip=String(e.ip)),null!=e.port&&(t.port=0|e.port),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.ip="",n.port=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.ip&&e.hasOwnProperty("ip")&&(n.ip=e.ip),null!=e.port&&e.hasOwnProperty("port")&&(n.port=e.port),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspRegistGatewayToHall=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspRegistGatewayToHall;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("code"))throw a.ProtocolError("missing required 'code'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.code)?null:"code: integer expected"},e.fromObject=function(e){if(e instanceof u.RspRegistGatewayToHall)return e;var t=new u.RspRegistGatewayToHall;return null!=e.code&&(t.code=0|e.code),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqRegistGatewayToCtrl=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=0,e.prototype.ip="",e.prototype.port=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.id),t.uint32(18).string(e.ip),t.uint32(24).int32(e.port),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqRegistGatewayToCtrl;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.id=e.int32();break;case 2:i.ip=e.string();break;case 3:i.port=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("id"))throw a.ProtocolError("missing required 'id'",{instance:i});if(!i.hasOwnProperty("ip"))throw a.ProtocolError("missing required 'ip'",{instance:i});if(!i.hasOwnProperty("port"))throw a.ProtocolError("missing required 'port'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.id)?a.isString(e.ip)?a.isInteger(e.port)?null:"port: integer expected":"ip: string expected":"id: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqRegistGatewayToCtrl)return e;var t=new u.ReqRegistGatewayToCtrl;return null!=e.id&&(t.id=0|e.id),null!=e.ip&&(t.ip=String(e.ip)),null!=e.port&&(t.port=0|e.port),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.id=0,n.ip="",n.port=0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.ip&&e.hasOwnProperty("ip")&&(n.ip=e.ip),null!=e.port&&e.hasOwnProperty("port")&&(n.port=e.port),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspRegistGatewayToCtrl=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspRegistGatewayToCtrl;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("code"))throw a.ProtocolError("missing required 'code'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.code)?null:"code: integer expected"},e.fromObject=function(e){if(e instanceof u.RspRegistGatewayToCtrl)return e;var t=new u.RspRegistGatewayToCtrl;return null!=e.code&&(t.code=0|e.code),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqRegistLogicToDBProc=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.platform=0,e.prototype.serverid=0,e.prototype.dbIp="",e.prototype.dbPort=0,e.prototype.dbUser="",e.prototype.dbPass="",e.prototype.dbName="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.platform),t.uint32(16).int32(e.serverid),t.uint32(26).string(e.dbIp),t.uint32(32).int32(e.dbPort),t.uint32(42).string(e.dbUser),t.uint32(50).string(e.dbPass),t.uint32(58).string(e.dbName),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqRegistLogicToDBProc;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.platform=e.int32();break;case 2:i.serverid=e.int32();break;case 3:i.dbIp=e.string();break;case 4:i.dbPort=e.int32();break;case 5:i.dbUser=e.string();break;case 6:i.dbPass=e.string();break;case 7:i.dbName=e.string();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("platform"))throw a.ProtocolError("missing required 'platform'",{instance:i});if(!i.hasOwnProperty("serverid"))throw a.ProtocolError("missing required 'serverid'",{instance:i});if(!i.hasOwnProperty("dbIp"))throw a.ProtocolError("missing required 'dbIp'",{instance:i});if(!i.hasOwnProperty("dbPort"))throw a.ProtocolError("missing required 'dbPort'",{instance:i});if(!i.hasOwnProperty("dbUser"))throw a.ProtocolError("missing required 'dbUser'",{instance:i});if(!i.hasOwnProperty("dbPass"))throw a.ProtocolError("missing required 'dbPass'",{instance:i});if(!i.hasOwnProperty("dbName"))throw a.ProtocolError("missing required 'dbName'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.platform)?a.isInteger(e.serverid)?a.isString(e.dbIp)?a.isInteger(e.dbPort)?a.isString(e.dbUser)?a.isString(e.dbPass)?a.isString(e.dbName)?null:"dbName: string expected":"dbPass: string expected":"dbUser: string expected":"dbPort: integer expected":"dbIp: string expected":"serverid: integer expected":"platform: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqRegistLogicToDBProc)return e;var t=new u.ReqRegistLogicToDBProc;return null!=e.platform&&(t.platform=0|e.platform),null!=e.serverid&&(t.serverid=0|e.serverid),null!=e.dbIp&&(t.dbIp=String(e.dbIp)),null!=e.dbPort&&(t.dbPort=0|e.dbPort),null!=e.dbUser&&(t.dbUser=String(e.dbUser)),null!=e.dbPass&&(t.dbPass=String(e.dbPass)),null!=e.dbName&&(t.dbName=String(e.dbName)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.platform=0,n.serverid=0,n.dbIp="",n.dbPort=0,n.dbUser="",n.dbPass="",n.dbName=""),null!=e.platform&&e.hasOwnProperty("platform")&&(n.platform=e.platform),null!=e.serverid&&e.hasOwnProperty("serverid")&&(n.serverid=e.serverid),null!=e.dbIp&&e.hasOwnProperty("dbIp")&&(n.dbIp=e.dbIp),null!=e.dbPort&&e.hasOwnProperty("dbPort")&&(n.dbPort=e.dbPort),null!=e.dbUser&&e.hasOwnProperty("dbUser")&&(n.dbUser=e.dbUser),null!=e.dbPass&&e.hasOwnProperty("dbPass")&&(n.dbPass=e.dbPass),null!=e.dbName&&e.hasOwnProperty("dbName")&&(n.dbName=e.dbName),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspRegistLogicTODBProc=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspRegistLogicTODBProc;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("code"))throw a.ProtocolError("missing required 'code'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.code)?null:"code: integer expected"},e.fromObject=function(e){if(e instanceof u.RspRegistLogicTODBProc)return e;var t=new u.RspRegistLogicTODBProc;return null!=e.code&&(t.code=0|e.code),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqExecSql=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.sql="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(10).string(e.sql),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqExecSql;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.sql=e.string();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("sql"))throw a.ProtocolError("missing required 'sql'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isString(e.sql)?null:"sql: string expected"},e.fromObject=function(e){if(e instanceof u.ReqExecSql)return e;var t=new u.ReqExecSql;return null!=e.sql&&(t.sql=String(e.sql)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.sql=""),null!=e.sql&&e.hasOwnProperty("sql")&&(n.sql=e.sql),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspExecSql=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspExecSql;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("code"))throw a.ProtocolError("missing required 'code'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.code)?null:"code: integer expected"},e.fromObject=function(e){if(e instanceof u.RspExecSql)return e;var t=new u.RspExecSql;return null!=e.code&&(t.code=0|e.code),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqPlayerDisconnect=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.pid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqPlayerDisconnect;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.pid=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("pid"))throw a.ProtocolError("missing required 'pid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.pid)?null:"pid: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqPlayerDisconnect)return e;var t=new u.ReqPlayerDisconnect;return null!=e.pid&&(t.pid=0|e.pid),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.pid=0),null!=e.pid&&e.hasOwnProperty("pid")&&(n.pid=e.pid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspPlayerDisconnect=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspPlayerDisconnect;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("code"))throw a.ProtocolError("missing required 'code'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.code)?null:"code: integer expected"},e.fromObject=function(e){if(e instanceof u.RspPlayerDisconnect)return e;var t=new u.RspPlayerDisconnect;return null!=e.code&&(t.code=0|e.code),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqRegistHallToCtrl=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.serverid=0,e.prototype.platform=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.serverid),t.uint32(16).int32(e.platform),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqRegistHallToCtrl;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.serverid=e.int32();break;case 2:i.platform=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("serverid"))throw a.ProtocolError("missing required 'serverid'",{instance:i});if(!i.hasOwnProperty("platform"))throw a.ProtocolError("missing required 'platform'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.serverid)?a.isInteger(e.platform)?null:"platform: integer expected":"serverid: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqRegistHallToCtrl)return e;var t=new u.ReqRegistHallToCtrl;return null!=e.serverid&&(t.serverid=0|e.serverid),null!=e.platform&&(t.platform=0|e.platform),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.serverid=0,n.platform=0),null!=e.serverid&&e.hasOwnProperty("serverid")&&(n.serverid=e.serverid),null!=e.platform&&e.hasOwnProperty("platform")&&(n.platform=e.platform),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspRegistHallToCtrl=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspRegistHallToCtrl;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("code"))throw a.ProtocolError("missing required 'code'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.code)?null:"code: integer expected"},e.fromObject=function(e){if(e instanceof u.RspRegistHallToCtrl)return e;var t=new u.RspRegistHallToCtrl;return null!=e.code&&(t.code=0|e.code),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqInitGameTable=function(){function e(e){if(this.players=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.teamid=0,e.prototype.mapid=0,e.prototype.hostPid=0,e.prototype.players=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),t.uint32(8).int32(e.teamid),t.uint32(16).int32(e.mapid),t.uint32(24).int32(e.hostPid),null!=e.players&&e.players.length)for(var n=0;n<e.players.length;++n)u.PlayerTableInfo.encode(e.players[n],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqInitGameTable;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.teamid=e.int32();break;case 2:i.mapid=e.int32();break;case 3:i.hostPid=e.int32();break;case 4:i.players&&i.players.length||(i.players=[]),i.players.push(u.PlayerTableInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("teamid"))throw a.ProtocolError("missing required 'teamid'",{instance:i});if(!i.hasOwnProperty("mapid"))throw a.ProtocolError("missing required 'mapid'",{instance:i});if(!i.hasOwnProperty("hostPid"))throw a.ProtocolError("missing required 'hostPid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.teamid))return"teamid: integer expected";if(!a.isInteger(e.mapid))return"mapid: integer expected";if(!a.isInteger(e.hostPid))return"hostPid: integer expected";if(null!=e.players&&e.hasOwnProperty("players")){if(!Array.isArray(e.players))return"players: array expected";for(var t=0;t<e.players.length;++t){var n=u.PlayerTableInfo.verify(e.players[t]);if(n)return"players."+n}}return null},e.fromObject=function(e){if(e instanceof u.ReqInitGameTable)return e;var t=new u.ReqInitGameTable;if(null!=e.teamid&&(t.teamid=0|e.teamid),null!=e.mapid&&(t.mapid=0|e.mapid),null!=e.hostPid&&(t.hostPid=0|e.hostPid),e.players){if(!Array.isArray(e.players))throw TypeError(".ReqInitGameTable.players: array expected");t.players=[];for(var n=0;n<e.players.length;++n){if("object"!==i(e.players[n]))throw TypeError(".ReqInitGameTable.players: object expected");t.players[n]=u.PlayerTableInfo.fromObject(e.players[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.players=[]),t.defaults&&(n.teamid=0,n.mapid=0,n.hostPid=0),null!=e.teamid&&e.hasOwnProperty("teamid")&&(n.teamid=e.teamid),null!=e.mapid&&e.hasOwnProperty("mapid")&&(n.mapid=e.mapid),null!=e.hostPid&&e.hasOwnProperty("hostPid")&&(n.hostPid=e.hostPid),e.players&&e.players.length){n.players=[];for(var i=0;i<e.players.length;++i)n.players[i]=u.PlayerTableInfo.toObject(e.players[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspInitGameTable=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.teamid=0,e.prototype.tableid=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.mapid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),null!=e.teamid&&e.hasOwnProperty("teamid")&&t.uint32(16).int32(e.teamid),null!=e.tableid&&e.hasOwnProperty("tableid")&&t.uint32(24).int64(e.tableid),null!=e.mapid&&e.hasOwnProperty("mapid")&&t.uint32(32).int32(e.mapid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspInitGameTable;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.teamid=e.int32();break;case 3:i.tableid=e.int64();break;case 4:i.mapid=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null!=e.teamid&&e.hasOwnProperty("teamid")&&!a.isInteger(e.teamid)?"teamid: integer expected":null!=e.tableid&&e.hasOwnProperty("tableid")&&!(a.isInteger(e.tableid)||e.tableid&&a.isInteger(e.tableid.low)&&a.isInteger(e.tableid.high))?"tableid: integer|Long expected":null!=e.mapid&&e.hasOwnProperty("mapid")&&!a.isInteger(e.mapid)?"mapid: integer expected":null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspInitGameTable)return e;var t=new u.RspInitGameTable;return null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.teamid&&(t.teamid=0|e.teamid),null!=e.tableid&&(a.Long?(t.tableid=a.Long.fromValue(e.tableid)).unsigned=!1:"string"==typeof e.tableid?t.tableid=parseInt(e.tableid,10):"number"==typeof e.tableid?t.tableid=e.tableid:"object"===i(e.tableid)&&(t.tableid=new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber())),null!=e.mapid&&(t.mapid=0|e.mapid),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.resultID=0,n.teamid=0,a.Long){var i=new a.Long(0,0,!1);n.tableid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.tableid=t.longs===String?"0":0;n.mapid=0}return null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.teamid&&e.hasOwnProperty("teamid")&&(n.teamid=e.teamid),null!=e.tableid&&e.hasOwnProperty("tableid")&&("number"==typeof e.tableid?n.tableid=t.longs===String?String(e.tableid):e.tableid:n.tableid=t.longs===String?a.Long.prototype.toString.call(e.tableid):t.longs===Number?new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber():e.tableid),null!=e.mapid&&e.hasOwnProperty("mapid")&&(n.mapid=e.mapid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqExitGameTable=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqExitGameTable;e.pos<n;){var r=e.uint32();e.skipType(7&r)}return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":null},e.fromObject=function(e){return e instanceof u.ReqExitGameTable?e:new u.ReqExitGameTable},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspExitGameTable=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspExitGameTable;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspExitGameTable)return e;var t=new u.RspExitGameTable;return null!=e.resultID&&(t.resultID=0|e.resultID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.GameEndData=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.result=0,e.prototype.battleTime=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(16).int32(e.result),t.uint32(24).int32(e.battleTime),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.GameEndData;e.pos<n;){var r=e.uint32();switch(r>>>3){case 2:i.result=e.int32();break;case 3:i.battleTime=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("result"))throw a.ProtocolError("missing required 'result'",{instance:i});if(!i.hasOwnProperty("battleTime"))throw a.ProtocolError("missing required 'battleTime'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.result)?a.isInteger(e.battleTime)?null:"battleTime: integer expected":"result: integer expected"},e.fromObject=function(e){if(e instanceof u.GameEndData)return e;var t=new u.GameEndData;return null!=e.result&&(t.result=0|e.result),null!=e.battleTime&&(t.battleTime=0|e.battleTime),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.result=0,n.battleTime=0),null!=e.result&&e.hasOwnProperty("result")&&(n.result=e.result),null!=e.battleTime&&e.hasOwnProperty("battleTime")&&(n.battleTime=e.battleTime),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfGameTableEnd=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.teamid=0,e.prototype.data=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.teamid),u.GameEndData.encode(e.data,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfGameTableEnd;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.teamid=e.int32();break;case 2:i.data=u.GameEndData.decode(e,e.uint32());break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("teamid"))throw a.ProtocolError("missing required 'teamid'",{instance:i});if(!i.hasOwnProperty("data"))throw a.ProtocolError("missing required 'data'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!a.isInteger(e.teamid))return"teamid: integer expected";var t=u.GameEndData.verify(e.data);return t?"data."+t:null},e.fromObject=function(e){if(e instanceof u.InfGameTableEnd)return e;var t=new u.InfGameTableEnd;if(null!=e.teamid&&(t.teamid=0|e.teamid),null!=e.data){if("object"!==i(e.data))throw TypeError(".InfGameTableEnd.data: object expected");t.data=u.GameEndData.fromObject(e.data)}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.teamid=0,n.data=null),null!=e.teamid&&e.hasOwnProperty("teamid")&&(n.teamid=e.teamid),null!=e.data&&e.hasOwnProperty("data")&&(n.data=u.GameEndData.toObject(e.data,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqRegistGameToCtrl=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.gameid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.gameid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqRegistGameToCtrl;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.gameid=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("gameid"))throw a.ProtocolError("missing required 'gameid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.gameid)?null:"gameid: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqRegistGameToCtrl)return e;var t=new u.ReqRegistGameToCtrl;return null!=e.gameid&&(t.gameid=0|e.gameid),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.gameid=0),null!=e.gameid&&e.hasOwnProperty("gameid")&&(n.gameid=e.gameid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspRegistGameToCtrl=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.code),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspRegistGameToCtrl;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.code=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("code"))throw a.ProtocolError("missing required 'code'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.code)?null:"code: integer expected"},e.fromObject=function(e){if(e instanceof u.RspRegistGameToCtrl)return e;var t=new u.RspRegistGameToCtrl;return null!=e.code&&(t.code=0|e.code),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.code=0),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.InfInitGameTable=function(){function e(e){if(this.players=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tableid=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.teamid=0,e.prototype.mapid=0,e.prototype.hallid=0,e.prototype.players=a.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=s.create()),t.uint32(8).int64(e.tableid),t.uint32(16).int32(e.teamid),t.uint32(24).int32(e.mapid),t.uint32(32).int32(e.hallid),null!=e.players&&e.players.length)for(var n=0;n<e.players.length;++n)u.PlayerTableInfo.encode(e.players[n],t.uint32(42).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.InfInitGameTable;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.tableid=e.int64();break;case 2:i.teamid=e.int32();break;case 3:i.mapid=e.int32();break;case 4:i.hallid=e.int32();break;case 5:i.players&&i.players.length||(i.players=[]),i.players.push(u.PlayerTableInfo.decode(e,e.uint32()));break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("tableid"))throw a.ProtocolError("missing required 'tableid'",{instance:i});if(!i.hasOwnProperty("teamid"))throw a.ProtocolError("missing required 'teamid'",{instance:i});if(!i.hasOwnProperty("mapid"))throw a.ProtocolError("missing required 'mapid'",{instance:i});if(!i.hasOwnProperty("hallid"))throw a.ProtocolError("missing required 'hallid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!(a.isInteger(e.tableid)||e.tableid&&a.isInteger(e.tableid.low)&&a.isInteger(e.tableid.high)))return"tableid: integer|Long expected";if(!a.isInteger(e.teamid))return"teamid: integer expected";if(!a.isInteger(e.mapid))return"mapid: integer expected";if(!a.isInteger(e.hallid))return"hallid: integer expected";if(null!=e.players&&e.hasOwnProperty("players")){if(!Array.isArray(e.players))return"players: array expected";for(var t=0;t<e.players.length;++t){var n=u.PlayerTableInfo.verify(e.players[t]);if(n)return"players."+n}}return null},e.fromObject=function(e){if(e instanceof u.InfInitGameTable)return e;var t=new u.InfInitGameTable;if(null!=e.tableid&&(a.Long?(t.tableid=a.Long.fromValue(e.tableid)).unsigned=!1:"string"==typeof e.tableid?t.tableid=parseInt(e.tableid,10):"number"==typeof e.tableid?t.tableid=e.tableid:"object"===i(e.tableid)&&(t.tableid=new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber())),null!=e.teamid&&(t.teamid=0|e.teamid),null!=e.mapid&&(t.mapid=0|e.mapid),null!=e.hallid&&(t.hallid=0|e.hallid),e.players){if(!Array.isArray(e.players))throw TypeError(".InfInitGameTable.players: array expected");t.players=[];for(var n=0;n<e.players.length;++n){if("object"!==i(e.players[n]))throw TypeError(".InfInitGameTable.players: object expected");t.players[n]=u.PlayerTableInfo.fromObject(e.players[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.players=[]),t.defaults){if(a.Long){var i=new a.Long(0,0,!1);n.tableid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.tableid=t.longs===String?"0":0;n.teamid=0,n.mapid=0,n.hallid=0}if(null!=e.tableid&&e.hasOwnProperty("tableid")&&("number"==typeof e.tableid?n.tableid=t.longs===String?String(e.tableid):e.tableid:n.tableid=t.longs===String?a.Long.prototype.toString.call(e.tableid):t.longs===Number?new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber():e.tableid),null!=e.teamid&&e.hasOwnProperty("teamid")&&(n.teamid=e.teamid),null!=e.mapid&&e.hasOwnProperty("mapid")&&(n.mapid=e.mapid),null!=e.hallid&&e.hasOwnProperty("hallid")&&(n.hallid=e.hallid),e.players&&e.players.length){n.players=[];for(var r=0;r<e.players.length;++r)n.players[r]=u.PlayerTableInfo.toObject(e.players[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqGameTableInit=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.prototype.tableid=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.teamid=0,e.prototype.mapid=0,e.prototype.hallid=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),t.uint32(16).int64(e.tableid),t.uint32(24).int32(e.teamid),t.uint32(32).int32(e.mapid),t.uint32(40).int32(e.hallid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqGameTableInit;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;case 2:i.tableid=e.int64();break;case 3:i.teamid=e.int32();break;case 4:i.mapid=e.int32();break;case 5:i.hallid=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});if(!i.hasOwnProperty("tableid"))throw a.ProtocolError("missing required 'tableid'",{instance:i});if(!i.hasOwnProperty("teamid"))throw a.ProtocolError("missing required 'teamid'",{instance:i});if(!i.hasOwnProperty("mapid"))throw a.ProtocolError("missing required 'mapid'",{instance:i});if(!i.hasOwnProperty("hallid"))throw a.ProtocolError("missing required 'hallid'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?a.isInteger(e.tableid)||e.tableid&&a.isInteger(e.tableid.low)&&a.isInteger(e.tableid.high)?a.isInteger(e.teamid)?a.isInteger(e.mapid)?a.isInteger(e.hallid)?null:"hallid: integer expected":"mapid: integer expected":"teamid: integer expected":"tableid: integer|Long expected":"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.ReqGameTableInit)return e;var t=new u.ReqGameTableInit;return null!=e.resultID&&(t.resultID=0|e.resultID),null!=e.tableid&&(a.Long?(t.tableid=a.Long.fromValue(e.tableid)).unsigned=!1:"string"==typeof e.tableid?t.tableid=parseInt(e.tableid,10):"number"==typeof e.tableid?t.tableid=e.tableid:"object"===i(e.tableid)&&(t.tableid=new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber())),null!=e.teamid&&(t.teamid=0|e.teamid),null!=e.mapid&&(t.mapid=0|e.mapid),null!=e.hallid&&(t.hallid=0|e.hallid),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(n.resultID=0,a.Long){var i=new a.Long(0,0,!1);n.tableid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.tableid=t.longs===String?"0":0;n.teamid=0,n.mapid=0,n.hallid=0}return null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),null!=e.tableid&&e.hasOwnProperty("tableid")&&("number"==typeof e.tableid?n.tableid=t.longs===String?String(e.tableid):e.tableid:n.tableid=t.longs===String?a.Long.prototype.toString.call(e.tableid):t.longs===Number?new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber():e.tableid),null!=e.teamid&&e.hasOwnProperty("teamid")&&(n.teamid=e.teamid),null!=e.mapid&&e.hasOwnProperty("mapid")&&(n.mapid=e.mapid),null!=e.hallid&&e.hasOwnProperty("hallid")&&(n.hallid=e.hallid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.ReqGameEnd=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tableid=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.data=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int64(e.tableid),u.GameEndData.encode(e.data,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.ReqGameEnd;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.tableid=e.int64();break;case 2:i.data=u.GameEndData.decode(e,e.uint32());break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("tableid"))throw a.ProtocolError("missing required 'tableid'",{instance:i});if(!i.hasOwnProperty("data"))throw a.ProtocolError("missing required 'data'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==(void 0===e?"undefined":i(e))||null===e)return"object expected";if(!(a.isInteger(e.tableid)||e.tableid&&a.isInteger(e.tableid.low)&&a.isInteger(e.tableid.high)))return"tableid: integer|Long expected";var t=u.GameEndData.verify(e.data);return t?"data."+t:null},e.fromObject=function(e){if(e instanceof u.ReqGameEnd)return e;var t=new u.ReqGameEnd;if(null!=e.tableid&&(a.Long?(t.tableid=a.Long.fromValue(e.tableid)).unsigned=!1:"string"==typeof e.tableid?t.tableid=parseInt(e.tableid,10):"number"==typeof e.tableid?t.tableid=e.tableid:"object"===i(e.tableid)&&(t.tableid=new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber())),null!=e.data){if("object"!==i(e.data))throw TypeError(".ReqGameEnd.data: object expected");t.data=u.GameEndData.fromObject(e.data)}return t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var i=new a.Long(0,0,!1);n.tableid=t.longs===String?i.toString():t.longs===Number?i.toNumber():i}else n.tableid=t.longs===String?"0":0;n.data=null}return null!=e.tableid&&e.hasOwnProperty("tableid")&&("number"==typeof e.tableid?n.tableid=t.longs===String?String(e.tableid):e.tableid:n.tableid=t.longs===String?a.Long.prototype.toString.call(e.tableid):t.longs===Number?new a.LongBits(e.tableid.low>>>0,e.tableid.high>>>0).toNumber():e.tableid),null!=e.data&&e.hasOwnProperty("data")&&(n.data=u.GameEndData.toObject(e.data,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.RspGameEnd=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resultID=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int32(e.resultID),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,i=new u.RspGameEnd;e.pos<n;){var r=e.uint32();switch(r>>>3){case 1:i.resultID=e.int32();break;default:e.skipType(7&r)}}if(!i.hasOwnProperty("resultID"))throw a.ProtocolError("missing required 'resultID'",{instance:i});return i},e.decodeDelimited=function(e){return e instanceof o||(e=new o(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==(void 0===e?"undefined":i(e))||null===e?"object expected":a.isInteger(e.resultID)?null:"resultID: integer expected"},e.fromObject=function(e){if(e instanceof u.RspGameEnd)return e;var t=new u.RspGameEnd;return null!=e.resultID&&(t.resultID=0|e.resultID),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.resultID=0),null!=e.resultID&&e.hasOwnProperty("resultID")&&(n.resultID=e.resultID),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),t.exports=u,cc._RF.pop()},{"protobufjs/minimal":8}]},{},["Battle","Lobby","Login","ShaderTest","ShaderUtils","Config","Core","Define","BaseCom","BaseSystem","ECSConfigMgr","ECSDefine","ECSMgr","Entity","EntityData","ICom","ISystem","ActionFSMCom","ColliderCom","DamageCom","DirectAttackCom","EquipSpineCom","GeneratorCom","HPCom","MoveCom","SpineCom","TargetCom","HuoJianShu","XiaoChouYuShu","ActionFSMSys","ColliderSys","DamageSys","DirectAttackSys","EquipSpineSys","GeneratorSys","HPSys","MoveSys","SpineSys","TargetSys","BaseUI","LoadingUI","LoginUI","BottonMenu","LeftMenu","PopUp","PopUp2","RightMenu","TestUI","TopMenu","WorldMap","UIMgr","UIRoot","Updater","BattleFieldView","BattleMgr","BattleNode","MapConfig","CollisionMgr","GameInfoMgr","GameState","BattleInfo","UserDetail","InAuthState","InGameState","InLobbyState","EventMgr","Balance","BalanceAnim","CardList","Chanzi","FireNum","FirePanelUI","GameStartAnim","GameUI","PlaceCardEffect","PlayerMoveUI","SettingUI","TargetSprite","VirtualCard","WarningAnim","IFSM","IState","MsgDefine","MsgHeader","NetMgr","ServerHandler","SceneMgr","AudioMgr","AudioPlayer","ITick","Ticker","TimeLine","CodeEngine","NodePool","ObjectPool","ResourcesMgr","Vec2","MockSystem","msg","gray.frag","gray.vert"]);